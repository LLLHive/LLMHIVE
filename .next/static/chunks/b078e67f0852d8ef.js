(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78645,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(53199),s=e.i(67881),a=e.i(84762),l=e.i(71435),i=e.i(75254);let o=(0,i.default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),d=(0,i.default)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),c=(0,i.default)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);var u=e.i(37727);let m=(0,i.default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var p=e.i(78583),h=e.i(16715),f=e.i(52453),x=e.i(62770);let g={maxRetries:3,baseDelayMs:1e3,maxDelayMs:1e4,jitterFactor:.3};class v extends Error{status;code;details;retryInfo;constructor(e,t,r,n,s){super(e),this.status=t,this.code=r,this.details=n,this.name="ApiError",this.retryInfo=s}get retriesExhausted(){return this.retryInfo?.retriesExhausted??!1}}class b extends Error{cause;retryInfo;constructor(e,t,r){super(e),this.cause=t,this.name="NetworkError",this.retryInfo=r}get retriesExhausted(){return this.retryInfo?.retriesExhausted??!1}}class y extends Error{retryInfo;constructor(e="Request timed out",t){super(e),this.name="TimeoutError",this.retryInfo=t}get retriesExhausted(){return this.retryInfo?.retriesExhausted??!1}}async function j(e,t=g,r){let n,s=Date.now(),a=0;for(;a<=t.maxRetries;)try{return{result:await e(),retryInfo:{attempts:a,retriesExhausted:!1,totalRetryTimeMs:Date.now()-s}}}catch(i){var l;if(n=i instanceof Error?i:Error(String(i)),++a>t.maxRetries||!((l=i)instanceof y||l instanceof b||!(l instanceof v)||l.status>=500&&l.status<600||429===l.status)){let e={attempts:a-1,retriesExhausted:a>t.maxRetries,totalRetryTimeMs:Date.now()-s,lastError:n.message};throw i instanceof v||i instanceof b?i.retryInfo=e:i instanceof y&&(i.retryInfo=e),i}let e=function(e,t){let r=Math.min(t.baseDelayMs*Math.pow(2,e),t.maxDelayMs),n=r*t.jitterFactor*Math.random();return Math.floor(r+n)}(a-1,t);r&&r({attempt:a,maxAttempts:t.maxRetries+1,delayMs:e,error:n.message}),await function(e){return new Promise(t=>setTimeout(t,e))}(e)}throw n}async function N(e){try{let t=await e.json();return new v(t.error||t.detail||`Request failed: ${e.status}`,e.status,t.code,t)}catch{return new v(`Request failed: ${e.status} ${e.statusText}`,e.status)}}async function w(e,t,r=12e4){let n=new AbortController,s=setTimeout(()=>n.abort(),r);try{return await fetch(e,{...t,signal:n.signal})}catch(e){if(e instanceof Error&&"AbortError"===e.name)throw new y;throw new b("Failed to connect to server",e instanceof Error?e:void 0)}finally{clearTimeout(s)}}async function k(e,t){let{result:r,retryInfo:n}=await j(async()=>{let t=Date.now(),r=await w(x.API_ROUTES.CHAT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e.messages.map(e=>({role:e.role,content:e.content})),models:e.models,model:e.models[0],orchestratorSettings:{...e.orchestratorSettings,selectedModels:e.models},chatId:e.chatId,userId:e.userId,projectId:e.projectId})},12e4);if(!r.ok)throw await N(r);let n=r.headers.get("X-Models-Used"),s=r.headers.get("X-Tokens-Used"),a=r.headers.get("X-Latency-Ms"),l=e.models;if(n)try{let e=JSON.parse(n).filter(e=>e&&"automatic"!==e);e.length>0&&(l=e)}catch{}let i=r.body?.getReader(),o=new TextDecoder,d="";if(i)for(;;){let{done:e,value:t}=await i.read();if(e)break;d+=o.decode(t)}return{content:d||"I apologize, but I couldn't generate a response.",modelsUsed:l,tokensUsed:s?parseInt(s,10):0,latencyMs:a?parseInt(a,10):Date.now()-t}},g,t);return{...r,retryInfo:n}}let C=(0,i.default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var S=e.i(43531);let M=(0,i.default)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),R=(0,i.default)("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]),z=(0,i.default)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);var A=e.i(58472);let E=(0,i.default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),I=(0,i.default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),D=(0,i.default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var T=e.i(47163);function P({message:e,onShowArtifact:n,onShowInsights:a,incognitoMode:l,onToggleIncognito:i}){let[o,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[m,p]=(0,r.useState)(!1);return"user"===e.role?(0,t.jsxs)("div",{className:"flex gap-3 items-start justify-end",children:[(0,t.jsxs)("div",{className:"max-w-[80%] rounded-2xl bg-[var(--bronze)]/10 border border-[var(--bronze)]/20 p-4",children:[(0,t.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:e.content}),e.attachments&&e.attachments.length>0&&(0,t.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:e.attachments.map(e=>(0,t.jsx)("div",{className:"text-xs bg-secondary px-2 py-1 rounded",children:e.name},e.id))})]}),(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-muted to-muted-foreground/20 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)("span",{className:"text-xs font-bold",children:"U"})})]}):(0,t.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,t.jsx)("div",{className:"flex flex-col gap-1",children:e.agents&&!l?(0,t.jsx)("div",{className:"flex flex-wrap gap-1 w-8",children:e.agents.slice(0,4).map(e=>(0,t.jsx)("div",{className:"w-3 h-3 rounded-sm bg-gradient-to-br from-[var(--bronze)] to-[var(--gold)] flex items-center justify-center",title:e.agentName,style:{clipPath:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)"}},e.agentId))}):(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[var(--bronze)] to-[var(--gold)] flex items-center justify-center flex-shrink-0 glow-effect",children:(0,t.jsx)("span",{className:"text-xs font-bold text-background",children:"AI"})})}),(0,t.jsxs)("div",{className:"flex-1 max-w-[85%]",children:[e.consensus&&(0,t.jsxs)("div",{className:"mb-2 inline-flex items-center gap-2 px-2 py-1 rounded-full bg-[var(--bronze)]/10 border border-[var(--bronze)]/20",children:[(0,t.jsx)("div",{className:(0,T.cn)("w-2 h-2 rounded-full",e.consensus.confidence>=80?"bg-green-500":"bg-yellow-500")}),(0,t.jsxs)("span",{className:"text-xs text-[var(--bronze)] font-medium",children:[e.consensus.confidence,"% consensus"]})]}),e.reasoning&&"deep"===e.reasoning.mode&&(0,t.jsxs)("div",{className:"mb-3 p-3 rounded-lg bg-secondary/50 border border-border",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded bg-[var(--bronze)]/20 flex items-center justify-center",children:(0,t.jsx)(A.Code,{className:"h-3 w-3 text-[var(--bronze)]"})}),(0,t.jsx)("span",{className:"text-xs font-medium text-[var(--bronze)]",children:"Deep Reasoning Mode"})]}),e.reasoning.steps&&(0,t.jsx)("div",{className:"space-y-1",children:e.reasoning.steps.map((e,r)=>(0,t.jsxs)("div",{className:"text-xs text-muted-foreground flex items-start gap-2",children:[(0,t.jsxs)("span",{className:"text-[var(--bronze)] font-medium",children:[r+1,"."]}),(0,t.jsx)("span",{children:e})]},r))})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-card border border-border p-4",children:[(0,t.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:e.content}),e.citations&&e.citations.length>0&&(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-border space-y-2",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-muted-foreground",children:"Sources:"}),e.citations.map((e,r)=>(0,t.jsxs)("div",{className:"text-xs flex items-start gap-2",children:[(0,t.jsxs)("span",{className:"font-mono text-[var(--bronze)]",children:["[",r+1,"]"]}),(0,t.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-[var(--bronze)] hover:underline flex-1",children:e.source})]},e.id))]}),e.artifact&&(0,t.jsxs)("div",{className:"mt-4 p-3 rounded-lg bg-secondary border border-border hover:border-[var(--bronze)] transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-[var(--bronze)] to-[var(--gold)] flex items-center justify-center",children:(0,t.jsx)(A.Code,{className:"h-3 w-3 text-background"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.artifact.title})]}),(0,t.jsxs)(s.Button,{size:"sm",variant:"ghost",onClick:()=>n(e.artifact),className:"h-7 gap-1 hover:bg-[var(--bronze)]/10",children:[(0,t.jsx)(z,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"text-xs",children:"Open"})]})]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["code"===e.artifact.type&&`${e.artifact.language||"code"} artifact`,"document"===e.artifact.type&&"document artifact","visualization"===e.artifact.type&&"visualization artifact"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[(0,t.jsx)(s.Button,{size:"icon",variant:"ghost",className:"h-7 w-7",onClick:()=>{navigator.clipboard.writeText(e.content),d(!0),setTimeout(()=>d(!1),2e3)},children:o?(0,t.jsx)(S.Check,{className:"h-3 w-3"}):(0,t.jsx)(C,{className:"h-3 w-3"})}),(0,t.jsx)(s.Button,{size:"icon",variant:"ghost",className:(0,T.cn)("h-7 w-7",c&&"text-[var(--bronze)]"),onClick:()=>{u(!c),m&&p(!1)},children:(0,t.jsx)(M,{className:"h-3 w-3"})}),(0,t.jsx)(s.Button,{size:"icon",variant:"ghost",className:(0,T.cn)("h-7 w-7",m&&"text-destructive"),onClick:()=>{p(!m),c&&u(!1)},children:(0,t.jsx)(R,{className:"h-3 w-3"})}),(0,t.jsx)(s.Button,{size:"icon",variant:"ghost",className:"h-7 w-7",children:(0,t.jsx)(h.RefreshCw,{className:"h-3 w-3"})}),(0,t.jsx)(s.Button,{size:"icon",variant:"ghost",className:"h-7 w-7",children:(0,t.jsx)(E,{className:"h-3 w-3"})}),e.agents&&e.agents.length>0&&(0,t.jsxs)(s.Button,{size:"sm",variant:"ghost",className:"h-7 gap-1 hover:text-[var(--bronze)]",onClick:a,children:[(0,t.jsx)(I,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"text-xs",children:"Insights"})]}),(0,t.jsx)(s.Button,{size:"icon",variant:"ghost",className:(0,T.cn)("h-7 w-7 ml-auto",!l&&"text-[var(--bronze)]"),onClick:i,title:l?"Show agent contributions":"Hide agent contributions",children:l?(0,t.jsx)(D,{className:"h-3 w-3"}):(0,t.jsx)(I,{className:"h-3 w-3"})}),e.model&&(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:e.model})]})]})]})}function O({active:e,agentCount:n=6}){let[s,a]=(0,r.useState)(0);return((0,r.useEffect)(()=>{if(!e)return;let t=setInterval(()=>{a(e=>(e+1)%n)},300);return()=>clearInterval(t)},[e,n]),e)?(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-[var(--bronze)]/5 border-b border-[var(--bronze)]/10",children:[(0,t.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:n}).map((e,r)=>(0,t.jsx)("div",{className:(0,T.cn)("w-2 h-2 rounded-sm transition-all duration-300",r===s?"bg-[var(--bronze)] scale-125 rotate-45":"bg-[var(--bronze)]/30 rotate-45"),style:{clipPath:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)"}},r))}),(0,t.jsx)("span",{className:"text-xs text-[var(--bronze)] font-medium animate-pulse",children:"Hive mind processing..."})]}):null}var $=e.i(98919);let _=(0,i.default)("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),L=(0,i.default)("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);var F=e.i(83086),B=e.i(55711),V=e.i(78917);let U=(0,i.default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),H=(0,i.default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var q=e.i(94179);let W={legal:_,code:A.Code,research:L,math:B.Brain,creative:F.Sparkles,general:$.Shield},G={legal:"from-blue-500 to-blue-600",code:"from-green-500 to-green-600",research:"from-purple-500 to-purple-600",math:"from-orange-500 to-orange-600",creative:"from-pink-500 to-pink-600",general:"from-gray-500 to-gray-600"};function K({agents:e,consensus:r,citations:n,onClose:a}){return(0,t.jsxs)("div",{className:"absolute top-0 right-0 h-full w-96 bg-background border-l border-border shadow-2xl flex flex-col z-50 animate-in slide-in-from-right duration-300",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Agent Insights"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Multi-agent collaboration details"})]}),(0,t.jsx)(s.Button,{size:"icon",variant:"ghost",onClick:a,children:(0,t.jsx)(u.X,{className:"h-4 w-4"})})]}),(0,t.jsxs)(l.ScrollArea,{className:"flex-1 p-4",children:[(0,t.jsxs)("div",{className:"mb-6 p-4 rounded-lg bg-gradient-to-br from-[var(--bronze)]/10 to-[var(--gold)]/10 border border-[var(--bronze)]/20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Consensus Confidence"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[r.confidence>=80?(0,t.jsx)(U,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(H,{className:"h-4 w-4 text-yellow-500"}),(0,t.jsxs)("span",{className:"text-lg font-bold text-[var(--bronze)]",children:[r.confidence,"%"]})]})]}),(0,t.jsx)("div",{className:"w-full h-2 bg-secondary rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bronze-gradient transition-all duration-500",style:{width:`${r.confidence}%`}})}),r.debateOccurred&&r.consensusNote&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-3 leading-relaxed",children:r.consensusNote})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1 h-4 bg-[var(--bronze)] rounded-full"}),"Contributing Agents (",e.length,")"]}),(0,t.jsx)("div",{className:"space-y-3",children:e.map(e=>{let r=W[e.agentType],n=G[e.agentType];return(0,t.jsxs)("div",{className:"p-3 rounded-lg bg-card border border-border hover:border-[var(--bronze)]/30 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 mb-2",children:[(0,t.jsx)("div",{className:(0,T.cn)("w-8 h-8 rounded-lg bg-gradient-to-br flex items-center justify-center flex-shrink-0",n),children:(0,t.jsx)(r,{className:"h-4 w-4 text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("span",{className:"font-medium text-sm",children:e.agentName}),(0,t.jsxs)(q.Badge,{variant:"outline",className:"text-xs",children:[e.confidence,"% confidence"]})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground leading-relaxed",children:e.contribution})]})]}),e.citations&&e.citations.length>0&&(0,t.jsx)("div",{className:"mt-2 pl-11 space-y-1",children:e.citations.map(e=>(0,t.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs text-[var(--bronze)] hover:underline",children:[(0,t.jsx)(V.ExternalLink,{className:"h-3 w-3"}),e.source]},e.id))})]},e.agentId)})})]}),n&&n.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1 h-4 bg-[var(--bronze)] rounded-full"}),"Sources & Citations (",n.length,")"]}),(0,t.jsx)("div",{className:"space-y-2",children:n.map((e,r)=>(0,t.jsx)("div",{className:"p-3 rounded-lg bg-secondary border border-border",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsxs)("span",{className:"text-xs font-mono text-[var(--bronze)] mt-0.5",children:["[",r+1,"]"]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs mb-1 leading-relaxed",children:e.text}),(0,t.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-muted-foreground hover:text-[var(--bronze)] flex items-center gap-1",children:[(0,t.jsx)(V.ExternalLink,{className:"h-3 w-3"}),e.source,e.verified&&(0,t.jsx)(U,{className:"h-3 w-3 text-green-500 ml-1"})]})]})]})},e.id))})]})]})]})}var X=e.i(63415);let Z=(0,i.default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var Y=e.i(39312);let J=(0,i.default)("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);var Q=e.i(61911),ee=e.i(84614);let et=(0,i.default)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var er=e.i(66992),en=e.i(95116),es=e.i(55248);let ea=(0,i.default)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var el=e.i(47780),ei=e.i(90382);function eo(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}function ed(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function ec(...e){return t=>{let r=!1,n=e.map(e=>{let n=ed(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():ed(e[t],null)}}}}function eu(...e){return r.useCallback(ec(...e),e)}function em(e,n=[]){let s=[],a=()=>{let t=s.map(e=>r.createContext(e));return function(n){let s=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:s}}),[n,s])}};return a.scopeName=e,[function(n,a){let l=r.createContext(a),i=s.length;s=[...s,a];let o=n=>{let{scope:s,children:a,...o}=n,d=s?.[e]?.[i]||l,c=r.useMemo(()=>o,Object.values(o));return(0,t.jsx)(d.Provider,{value:c,children:a})};return o.displayName=n+"Provider",[o,function(t,s){let o=s?.[e]?.[i]||l,d=r.useContext(o);if(d)return d;if(void 0!==a)return a;throw Error(`\`${t}\` must be used within \`${n}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=n.reduce((t,{useScope:r,scopeName:n})=>{let s=r(e)[`__scope${n}`];return{...t,...s}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}(a,...n)]}"undefined"!=typeof window&&window.document&&window.document.createElement;var ep=e.i(26330),eh=e.i(3536),ef=e.i(65491),ex=e.i(34620),eg=r[" useId ".trim().toString()]||(()=>void 0),ev=0,eb=e.i(58950),ey=e.i(53760);function ej(e){var n;let s,a=(n=e,(s=r.forwardRef((e,t)=>{let{children:n,...s}=e;if(r.isValidElement(n)){var a;let e,l,i=(a=n,(l=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(l=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),o=function(e,t){let r={...t};for(let n in t){let s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...e)=>{let t=a(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...a}:"className"===n&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}(s,n.props);return n.type!==r.Fragment&&(o.ref=t?ec(t,i):i),r.cloneElement(n,o)}return r.Children.count(n)>1?r.Children.only(null):null})).displayName=`${n}.SlotClone`,s),l=r.forwardRef((e,n)=>{let{children:s,...l}=e,i=r.Children.toArray(s),o=i.find(ew);if(o){let e=o.props.children,s=i.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(a,{...l,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,s):null})}return(0,t.jsx)(a,{...l,ref:n,children:s})});return l.displayName=`${e}.Slot`,l}e.i(74080);var eN=Symbol("radix.slottable");function ew(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===eN}var ek=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{let s=ej(`Primitive.${n}`),a=r.forwardRef((e,r)=>{let{asChild:a,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?s:n,{...l,ref:r})});return a.displayName=`Primitive.${n}`,{...e,[n]:a}},{}),eC=r.forwardRef((e,r)=>{let{children:n,width:s=10,height:a=5,...l}=e;return(0,t.jsx)(ek.svg,{...l,ref:r,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,t.jsx)("polygon",{points:"0,0 30,0 15,10"})})});eC.displayName="Arrow";var eS=e.i(30207),eM=e.i(35804),eR="Popper",[ez,eA]=em(eR),[eE,eI]=ez(eR),eD=e=>{let{__scopePopper:n,children:s}=e,[a,l]=r.useState(null);return(0,t.jsx)(eE,{scope:n,anchor:a,onAnchorChange:l,children:s})};eD.displayName=eR;var eT="PopperAnchor",eP=r.forwardRef((e,n)=>{let{__scopePopper:s,virtualRef:a,...l}=e,i=eI(eT,s),o=r.useRef(null),d=eu(n,o),c=r.useRef(null);return r.useEffect(()=>{let e=c.current;c.current=a?.current||o.current,e!==c.current&&i.onAnchorChange(c.current)}),a?null:(0,t.jsx)(ek.div,{...l,ref:d})});eP.displayName=eT;var eO="PopperContent",[e$,e_]=ez(eO),eL=r.forwardRef((e,n)=>{let{__scopePopper:s,side:a="bottom",sideOffset:l=0,align:i="center",alignOffset:o=0,arrowPadding:d=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:x,...g}=e,v=eI(eO,s),[b,y]=r.useState(null),j=eu(n,e=>y(e)),[N,w]=r.useState(null),k=(0,eM.useSize)(N),C=k?.width??0,S=k?.height??0,M="number"==typeof m?m:{top:0,right:0,bottom:0,left:0,...m},R=Array.isArray(u)?u:[u],z=R.length>0,A={padding:M,boundary:R.filter(eU),altBoundary:z},{refs:E,floatingStyles:I,placement:D,isPositioned:T,middlewareData:P}=(0,eb.useFloating)({strategy:"fixed",placement:a+("center"!==i?"-"+i:""),whileElementsMounted:(...e)=>(0,ey.autoUpdate)(...e,{animationFrame:"always"===f}),elements:{reference:v.anchor},middleware:[(0,eb.offset)({mainAxis:l+S,alignmentAxis:o}),c&&(0,eb.shift)({mainAxis:!0,crossAxis:!1,limiter:"partial"===p?(0,eb.limitShift)():void 0,...A}),c&&(0,eb.flip)({...A}),(0,eb.size)({...A,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{let{width:s,height:a}=t.reference,l=e.floating.style;l.setProperty("--radix-popper-available-width",`${r}px`),l.setProperty("--radix-popper-available-height",`${n}px`),l.setProperty("--radix-popper-anchor-width",`${s}px`),l.setProperty("--radix-popper-anchor-height",`${a}px`)}}),N&&(0,eb.arrow)({element:N,padding:d}),eH({arrowWidth:C,arrowHeight:S}),h&&(0,eb.hide)({strategy:"referenceHidden",...A})]}),[O,$]=eq(D),_=(0,eS.useCallbackRef)(x);(0,ex.useLayoutEffect)(()=>{T&&_?.()},[T,_]);let L=P.arrow?.x,F=P.arrow?.y,B=P.arrow?.centerOffset!==0,[V,U]=r.useState();return(0,ex.useLayoutEffect)(()=>{b&&U(window.getComputedStyle(b).zIndex)},[b]),(0,t.jsx)("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:T?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[P.transformOrigin?.x,P.transformOrigin?.y].join(" "),...P.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,t.jsx)(e$,{scope:s,placedSide:O,onArrowChange:w,arrowX:L,arrowY:F,shouldHideArrow:B,children:(0,t.jsx)(ek.div,{"data-side":O,"data-align":$,...g,ref:j,style:{...g.style,animation:T?void 0:"none"}})})})});eL.displayName=eO;var eF="PopperArrow",eB={top:"bottom",right:"left",bottom:"top",left:"right"},eV=r.forwardRef(function(e,r){let{__scopePopper:n,...s}=e,a=e_(eF,n),l=eB[a.placedSide];return(0,t.jsx)("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:(0,t.jsx)(eC,{...s,ref:r,style:{...s.style,display:"block"}})})});function eU(e){return null!==e}eV.displayName=eF;var eH=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:n,middlewareData:s}=t,a=s.arrow?.centerOffset!==0,l=a?0:e.arrowWidth,i=a?0:e.arrowHeight,[o,d]=eq(r),c={start:"0%",center:"50%",end:"100%"}[d],u=(s.arrow?.x??0)+l/2,m=(s.arrow?.y??0)+i/2,p="",h="";return"bottom"===o?(p=a?c:`${u}px`,h=`${-i}px`):"top"===o?(p=a?c:`${u}px`,h=`${n.floating.height+i}px`):"right"===o?(p=`${-i}px`,h=a?c:`${m}px`):"left"===o&&(p=`${n.floating.width+i}px`,h=a?c:`${m}px`),{data:{x:p,y:h}}}});function eq(e){let[t,r="center"]=e.split("-");return[t,r]}var eW=e.i(74606),eG=e.i(96626);e.i(83986);var eK=r[" useInsertionEffect ".trim().toString()]||ex.useLayoutEffect;Symbol("RADIX:SYNC_STATE");var eX=e.i(86312),eZ=e.i(85369),eY="Popover",[eJ,eQ]=em(eY,[eA]),e0=eA(),[e1,e2]=eJ(eY),e3=e=>{let{__scopePopover:n,children:s,open:a,defaultOpen:l,onOpenChange:i,modal:o=!1}=e,d=e0(n),c=r.useRef(null),[u,m]=r.useState(!1),[p,h]=function({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){let[a,l,i]=function({defaultProp:e,onChange:t}){let[n,s]=r.useState(e),a=r.useRef(n),l=r.useRef(t);return eK(()=>{l.current=t},[t]),r.useEffect(()=>{a.current!==n&&(l.current?.(n),a.current=n)},[n,a]),[n,s,l]}({defaultProp:t,onChange:n}),o=void 0!==e,d=o?e:a;{let t=r.useRef(void 0!==e);r.useEffect(()=>{let e=t.current;if(e!==o){let t=o?"controlled":"uncontrolled";console.warn(`${s} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=o},[o,s])}return[d,r.useCallback(t=>{if(o){let r="function"==typeof t?t(e):t;r!==e&&i.current?.(r)}else l(t)},[o,e,l,i])]}({prop:a,defaultProp:l??!1,onChange:i,caller:eY});return(0,t.jsx)(eD,{...d,children:(0,t.jsx)(e1,{scope:n,contentId:function(e){let[t,n]=r.useState(eg());return(0,ex.useLayoutEffect)(()=>{n(e=>e??String(ev++))},[void 0]),t?`radix-${t}`:""}(),triggerRef:c,open:p,onOpenChange:h,onOpenToggle:r.useCallback(()=>h(e=>!e),[h]),hasCustomAnchor:u,onCustomAnchorAdd:r.useCallback(()=>m(!0),[]),onCustomAnchorRemove:r.useCallback(()=>m(!1),[]),modal:o,children:s})})};e3.displayName=eY;var e5="PopoverAnchor";r.forwardRef((e,n)=>{let{__scopePopover:s,...a}=e,l=e2(e5,s),i=e0(s),{onCustomAnchorAdd:o,onCustomAnchorRemove:d}=l;return r.useEffect(()=>(o(),()=>d()),[o,d]),(0,t.jsx)(eP,{...i,...a,ref:n})}).displayName=e5;var e4="PopoverTrigger",e8=r.forwardRef((e,r)=>{let{__scopePopover:n,...s}=e,a=e2(e4,n),l=e0(n),i=eu(r,a.triggerRef),o=(0,t.jsx)(ek.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":to(a.open),...s,ref:i,onClick:eo(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?o:(0,t.jsx)(eP,{asChild:!0,...l,children:o})});e8.displayName=e4;var e6="PopoverPortal",[e7,e9]=eJ(e6,{forceMount:void 0}),te=e=>{let{__scopePopover:r,forceMount:n,children:s,container:a}=e,l=e2(e6,r);return(0,t.jsx)(e7,{scope:r,forceMount:n,children:(0,t.jsx)(eG.Presence,{present:n||l.open,children:(0,t.jsx)(eW.Portal,{asChild:!0,container:a,children:s})})})};te.displayName=e6;var tt="PopoverContent",tr=r.forwardRef((e,r)=>{let n=e9(tt,e.__scopePopover),{forceMount:s=n.forceMount,...a}=e,l=e2(tt,e.__scopePopover);return(0,t.jsx)(eG.Presence,{present:s||l.open,children:l.modal?(0,t.jsx)(ts,{...a,ref:r}):(0,t.jsx)(ta,{...a,ref:r})})});tr.displayName=tt;var tn=ej("PopoverContent.RemoveScroll"),ts=r.forwardRef((e,n)=>{let s=e2(tt,e.__scopePopover),a=r.useRef(null),l=eu(n,a),i=r.useRef(!1);return r.useEffect(()=>{let e=a.current;if(e)return(0,eX.hideOthers)(e)},[]),(0,t.jsx)(eZ.RemoveScroll,{as:tn,allowPinchZoom:!0,children:(0,t.jsx)(tl,{...e,ref:l,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:eo(e.onCloseAutoFocus,e=>{e.preventDefault(),i.current||s.triggerRef.current?.focus()}),onPointerDownOutside:eo(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;i.current=2===t.button||r},{checkForDefaultPrevented:!1}),onFocusOutside:eo(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),ta=r.forwardRef((e,n)=>{let s=e2(tt,e.__scopePopover),a=r.useRef(!1),l=r.useRef(!1);return(0,t.jsx)(tl,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||s.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,l.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(l.current=!0));let r=t.target;s.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),tl=r.forwardRef((e,r)=>{let{__scopePopover:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:i,onEscapeKeyDown:o,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:u,...m}=e,p=e2(tt,n),h=e0(n);return(0,eh.useFocusGuards)(),(0,t.jsx)(ef.FocusScope,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:l,children:(0,t.jsx)(ep.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:o,onPointerDownOutside:d,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:(0,t.jsx)(eL,{"data-state":to(p.open),role:"dialog",id:p.contentId,...h,...m,ref:r,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ti="PopoverClose";function to(e){return e?"open":"closed"}r.forwardRef((e,r)=>{let{__scopePopover:n,...s}=e,a=e2(ti,n);return(0,t.jsx)(ek.button,{type:"button",...s,ref:r,onClick:eo(e.onClick,()=>a.onOpenChange(!1))})}).displayName=ti,r.forwardRef((e,r)=>{let{__scopePopover:n,...s}=e,a=e0(n);return(0,t.jsx)(eV,{...a,...s,ref:r})}).displayName="PopoverArrow";let td=r.forwardRef(({className:e,align:r="center",sideOffset:n=4,...s},a)=>(0,t.jsx)(te,{children:(0,t.jsx)(tr,{ref:a,align:r,sideOffset:n,className:(0,T.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));function tc({settings:e,onChange:n}){let[a,l]=(0,r.useState)(!1);return(0,t.jsxs)(e3,{open:a,onOpenChange:l,children:[(0,t.jsx)(e8,{asChild:!0,children:(0,t.jsxs)(s.Button,{variant:"ghost",size:"sm",className:(0,T.cn)("gap-2 h-7 px-2.5 text-[11px] bg-transparent border border-border rounded-md text-foreground transition-all duration-300 [&:hover]:bg-[#cd7f32] [&:hover]:border-[#cd7f32] [&:hover]:text-black",a&&"bg-[#cd7f32] border-[#cd7f32] text-black"),children:[(0,t.jsx)(es.Sliders,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{className:"text-[11px]",children:"Tuning"})]})}),(0,t.jsx)(td,{className:"w-80 z-[600]",align:"start",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-sm mb-1",children:"Dynamic Criteria Equalizer"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Adjust how the AI hive balances accuracy, speed, and creativity"})]}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[{name:"Balanced",accuracy:70,speed:70,creativity:50},{name:"Fast",accuracy:50,speed:100,creativity:30},{name:"Precise",accuracy:100,speed:30,creativity:40},{name:"Creative",accuracy:60,speed:60,creativity:100}].map(e=>(0,t.jsx)(s.Button,{variant:"outline",size:"sm",className:"text-xs h-auto py-2 bg-transparent",onClick:()=>n(e),children:e.name},e.name))}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded bg-blue-500/20 flex items-center justify-center",children:(0,t.jsx)(ea,{className:"h-3 w-3 text-blue-500"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Accuracy"})]}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.accuracy,"%"]})]}),(0,t.jsx)(ei.Slider,{value:[e.accuracy],onValueChange:([t])=>n({...e,accuracy:t}),max:100,step:10,className:"[&_[role=slider]]:bg-blue-500 [&_[role=slider]]:border-blue-500"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded bg-green-500/20 flex items-center justify-center",children:(0,t.jsx)(Y.Zap,{className:"h-3 w-3 text-green-500"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Speed"})]}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.speed,"%"]})]}),(0,t.jsx)(ei.Slider,{value:[e.speed],onValueChange:([t])=>n({...e,speed:t}),max:100,step:10,className:"[&_[role=slider]]:bg-green-500 [&_[role=slider]]:border-green-500"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded bg-purple-500/20 flex items-center justify-center",children:(0,t.jsx)(el.Palette,{className:"h-3 w-3 text-purple-500"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Creativity"})]}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.creativity,"%"]})]}),(0,t.jsx)(ei.Slider,{value:[e.creativity],onValueChange:([t])=>n({...e,creativity:t}),max:100,step:10,className:"[&_[role=slider]]:bg-purple-500 [&_[role=slider]]:border-purple-500"})]})]})})]})}td.displayName=tr.displayName;var tu=e.i(57688);let tm=[{value:"fast",label:"Fast",icon:Y.Zap},{value:"standard",label:"Standard",icon:B.Brain},{value:"deep",label:"Deep",icon:J}],tp=[{value:"default",label:"Default"},{value:"medical",label:"Medical"},{value:"legal",label:"Legal"},{value:"marketing",label:"Marketing"},{value:"coding",label:"Coding"},{value:"research",label:"Research"},{value:"finance",label:"Finance"}],th=[{value:"automatic",label:"Automatic",description:"Let the orchestrator choose the best method"},{value:"chain-of-thought",label:"Chain of Thought",description:"Step-by-step reasoning"},{value:"tree-of-thought",label:"Tree of Thought",description:"Explore multiple paths"},{value:"graph-of-thought",label:"Graph of Thought",description:"Non-linear reasoning graph"},{value:"algorithm-of-thought",label:"Algorithm of Thought",description:"Algorithmic problem solving"},{value:"skeleton-of-thought",label:"Skeleton of Thought",description:"Parallel skeleton expansion"},{value:"self-consistency",label:"Self Consistency",description:"Multiple samples, vote"},{value:"cumulative-reasoning",label:"Cumulative Reasoning",description:"Build on prior conclusions"},{value:"meta-prompting",label:"Meta Prompting",description:"LLM orchestrates sub-LLMs"},{value:"react",label:"ReAct",description:"Reason + Act iteratively"},{value:"reflexion",label:"Reflexion",description:"Self-reflection loop"},{value:"least-to-most",label:"Least to Most",description:"Decompose problems"},{value:"plan-and-solve",label:"Plan and Solve",description:"Plan then execute"}],tf=[{value:"vector-rag",label:"Vector DB + RAG",description:"Retrieval augmented generation"},{value:"mcp-server",label:"MCP Server + Tools",description:"Model context protocol"},{value:"personal-database",label:"Personal Database",description:"Your private knowledge base"},{value:"modular-answer-feed",label:"Modular Answer Feed",description:"Internal LLM routing"},{value:"memory-augmentation",label:"Memory Augmentation",description:"Long-term memory"},{value:"tool-use",label:"Tool Use",description:"External tool integration"},{value:"code-interpreter",label:"Code Interpreter",description:"Execute code in sandbox"}];function tx({settings:e,onSettingsChange:n,onOpenAdvanced:a}){let[l,i]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),m=tm.find(t=>t.value===e.reasoningMode)||tm[1],p=tp.find(t=>t.value===e.domainPack)||tp[0],h=m.icon,x=e.selectedModels||["automatic"],g=e.advancedReasoningMethods||[],v=e.advancedFeatures||[];return(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsxs)(X.DropdownMenu,{open:l,onOpenChange:i,children:[(0,t.jsx)(X.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(s.Button,{variant:"ghost",size:"sm",className:"gap-1.5 h-8 px-3 text-xs bg-secondary/50 border border-border rounded-lg hover:bg-secondary hover:border-[var(--bronze)]",children:[(0,t.jsx)(er.Cpu,{className:"h-3.5 w-3.5"}),(0,t.jsxs)("span",{className:"hidden sm:inline",children:["Models (",x.length,")"]}),(0,t.jsx)("span",{className:"sm:hidden",children:x.length}),(0,t.jsx)(Z,{className:"h-3 w-3 opacity-50"})]})}),(0,t.jsx)(X.DropdownMenuContent,{align:"start",className:"w-56 max-h-80 overflow-y-auto",children:f.AVAILABLE_MODELS.map(r=>{let s=x.includes(r.id);return(0,t.jsxs)(X.DropdownMenuItem,{onSelect:t=>{var s;let a;t.preventDefault(),s=r.id,(a=e.selectedModels||[]).includes(s)?a.length>1&&n({selectedModels:a.filter(e=>e!==s)}):n({selectedModels:[...a,s]})},className:"gap-2 cursor-pointer",children:[(0,t.jsx)("div",{className:"w-5 h-5 relative flex-shrink-0",children:(0,t.jsx)(tu.default,{src:(0,f.getModelLogo)(r.provider)||"/placeholder.svg",alt:r.provider,fill:!0,className:"object-contain"})}),(0,t.jsx)("span",{className:"flex-1",children:r.name}),s&&(0,t.jsx)(S.Check,{className:"h-4 w-4 text-[var(--bronze)]"})]},r.id)})})]}),(0,t.jsxs)(X.DropdownMenu,{open:o,onOpenChange:d,children:[(0,t.jsx)(X.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(s.Button,{variant:"ghost",size:"sm",className:"gap-1.5 h-8 px-3 text-xs bg-secondary/50 border border-border rounded-lg hover:bg-secondary hover:border-[var(--bronze)]",children:[(0,t.jsx)(F.Sparkles,{className:"h-3.5 w-3.5"}),(0,t.jsxs)("span",{className:"hidden sm:inline",children:["Reasoning ",g.length>0?`(${g.length})`:""]}),(0,t.jsx)("span",{className:"sm:hidden",children:g.length>0?g.length:"R"}),(0,t.jsx)(Z,{className:"h-3 w-3 opacity-50"})]})}),(0,t.jsx)(X.DropdownMenuContent,{align:"start",className:"w-56 max-h-80 overflow-y-auto",children:th.map(r=>{let s=g.includes(r.value);return(0,t.jsxs)(X.DropdownMenuItem,{onSelect:t=>{var s;let a;t.preventDefault(),s=r.value,(a=e.advancedReasoningMethods||[]).includes(s)?n({advancedReasoningMethods:a.filter(e=>e!==s)}):n({advancedReasoningMethods:[...a,s]})},className:"flex flex-col items-start gap-0.5 cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex items-center w-full gap-2",children:[(0,t.jsx)("span",{className:"flex-1 font-medium",children:r.label}),s&&(0,t.jsx)(S.Check,{className:"h-4 w-4 text-[var(--bronze)]"})]}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground",children:r.description})]},r.value)})})]}),(0,t.jsxs)(X.DropdownMenu,{open:c,onOpenChange:u,children:[(0,t.jsx)(X.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(s.Button,{variant:"ghost",size:"sm",className:"gap-1.5 h-8 px-3 text-xs bg-secondary/50 border border-border rounded-lg hover:bg-secondary hover:border-[var(--bronze)]",children:[(0,t.jsx)(en.Wrench,{className:"h-3.5 w-3.5"}),(0,t.jsxs)("span",{className:"hidden sm:inline",children:["Features ",v.length>0?`(${v.length})`:""]}),(0,t.jsx)("span",{className:"sm:hidden",children:v.length>0?v.length:"F"}),(0,t.jsx)(Z,{className:"h-3 w-3 opacity-50"})]})}),(0,t.jsx)(X.DropdownMenuContent,{align:"start",className:"w-56 max-h-80 overflow-y-auto",children:tf.map(r=>{let s=v.includes(r.value);return(0,t.jsxs)(X.DropdownMenuItem,{onSelect:t=>{var s;let a;t.preventDefault(),s=r.value,(a=e.advancedFeatures||[]).includes(s)?n({advancedFeatures:a.filter(e=>e!==s)}):n({advancedFeatures:[...a,s]})},className:"flex flex-col items-start gap-0.5 cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex items-center w-full gap-2",children:[(0,t.jsx)("span",{className:"flex-1 font-medium",children:r.label}),s&&(0,t.jsx)(S.Check,{className:"h-4 w-4 text-[var(--bronze)]"})]}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground",children:r.description})]},r.value)})})]}),(0,t.jsxs)(X.DropdownMenu,{children:[(0,t.jsx)(X.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(s.Button,{variant:"ghost",size:"sm",className:"gap-1.5 h-8 px-3 text-xs bg-secondary/50 border border-border rounded-lg hover:bg-secondary hover:border-[var(--bronze)]",children:[(0,t.jsx)(h,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:m.label}),(0,t.jsx)(Z,{className:"h-3 w-3 opacity-50"})]})}),(0,t.jsx)(X.DropdownMenuContent,{align:"start",className:"w-40",children:tm.map(r=>{let s=r.icon;return(0,t.jsxs)(X.DropdownMenuItem,{onClick:()=>n({reasoningMode:r.value}),className:"gap-2",children:[(0,t.jsx)(s,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:r.label}),e.reasoningMode===r.value&&(0,t.jsx)("span",{className:"ml-auto text-[var(--bronze)]",children:"•"})]},r.value)})})]}),(0,t.jsxs)(X.DropdownMenu,{children:[(0,t.jsx)(X.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(s.Button,{variant:"ghost",size:"sm",className:"gap-1.5 h-8 px-3 text-xs bg-secondary/50 border border-border rounded-lg hover:bg-secondary hover:border-[var(--bronze)]",children:[(0,t.jsx)("span",{className:"hidden sm:inline",children:p.label}),(0,t.jsx)("span",{className:"sm:hidden",children:"Domain"}),(0,t.jsx)(Z,{className:"h-3 w-3 opacity-50"})]})}),(0,t.jsx)(X.DropdownMenuContent,{align:"start",className:"w-40",children:tp.map(r=>(0,t.jsxs)(X.DropdownMenuItem,{onClick:()=>n({domainPack:r.value}),className:"gap-2",children:[(0,t.jsx)("span",{children:r.label}),e.domainPack===r.value&&(0,t.jsx)("span",{className:"ml-auto text-[var(--bronze)]",children:"•"})]},r.value))})]}),(0,t.jsxs)(s.Button,{variant:"ghost",size:"sm",onClick:()=>n({agentMode:"single"===e.agentMode?"team":"single"}),className:`gap-1.5 h-8 px-3 text-xs border rounded-lg transition-colors ${"team"===e.agentMode?"bg-[var(--bronze)]/20 border-[var(--bronze)] text-[var(--bronze)]":"bg-secondary/50 border-border hover:bg-secondary hover:border-[var(--bronze)]"}`,children:["team"===e.agentMode?(0,t.jsx)(Q.Users,{className:"h-3.5 w-3.5"}):(0,t.jsx)(ee.User,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"team"===e.agentMode?"Team":"Single"})]}),(0,t.jsx)(tc,{settings:e.criteria||{accuracy:70,speed:70,creativity:50},onChange:e=>n({criteria:e})}),(0,t.jsxs)(s.Button,{variant:"ghost",size:"sm",onClick:a,className:"gap-1.5 h-8 px-3 text-xs bg-secondary/50 border border-border rounded-lg hover:bg-secondary hover:border-[var(--bronze)]",children:[(0,t.jsx)(et,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Advanced"})]})]})}function tg(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function tv(...e){return t=>{let r=!1,n=e.map(e=>{let n=tg(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():tg(e[t],null)}}}}function tb(...e){return r.useCallback(tv(...e),e)}"undefined"!=typeof window&&window.document&&window.document.createElement;var ty=r[" useInsertionEffect ".trim().toString()]||ex.useLayoutEffect;Symbol("RADIX:SYNC_STATE");var tj=e.i(99682),tN=Symbol("radix.slottable");function tw(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===tN}var tk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{var s,a;let l,i,o,d=(a=s=`Primitive.${n}`,(l=r.forwardRef((e,t)=>{let{children:n,...s}=e;if(r.isValidElement(n)){var a;let e,l,i=(a=n,(l=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(l=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),o=function(e,t){let r={...t};for(let n in t){let s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...e)=>{let t=a(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...a}:"className"===n&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}(s,n.props);return n.type!==r.Fragment&&(o.ref=t?tv(t,i):i),r.cloneElement(n,o)}return r.Children.count(n)>1?r.Children.only(null):null})).displayName=`${a}.SlotClone`,i=l,(o=r.forwardRef((e,n)=>{let{children:s,...a}=e,l=r.Children.toArray(s),o=l.find(tw);if(o){let e=o.props.children,s=l.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(i,{...a,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,s):null})}return(0,t.jsx)(i,{...a,ref:n,children:s})})).displayName=`${s}.Slot`,o),c=r.forwardRef((e,r)=>{let{asChild:s,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?d:n,{...a,ref:r})});return c.displayName=`Primitive.${n}`,{...e,[n]:c}},{}),tC="Switch",[tS,tM]=function(e,n=[]){let s=[],a=()=>{let t=s.map(e=>r.createContext(e));return function(n){let s=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:s}}),[n,s])}};return a.scopeName=e,[function(n,a){let l=r.createContext(a),i=s.length;s=[...s,a];let o=n=>{let{scope:s,children:a,...o}=n,d=s?.[e]?.[i]||l,c=r.useMemo(()=>o,Object.values(o));return(0,t.jsx)(d.Provider,{value:c,children:a})};return o.displayName=n+"Provider",[o,function(t,s){let o=s?.[e]?.[i]||l,d=r.useContext(o);if(d)return d;if(void 0!==a)return a;throw Error(`\`${t}\` must be used within \`${n}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=n.reduce((t,{useScope:r,scopeName:n})=>{let s=r(e)[`__scope${n}`];return{...t,...s}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}(a,...n)]}(tC),[tR,tz]=tS(tC),tA=r.forwardRef((e,n)=>{let{__scopeSwitch:s,name:a,checked:l,defaultChecked:i,required:o,disabled:d,value:c="on",onCheckedChange:u,form:m,...p}=e,[h,f]=r.useState(null),x=tb(n,e=>f(e)),g=r.useRef(!1),v=!h||m||!!h.closest("form"),[b,y]=function({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){let[a,l,i]=function({defaultProp:e,onChange:t}){let[n,s]=r.useState(e),a=r.useRef(n),l=r.useRef(t);return ty(()=>{l.current=t},[t]),r.useEffect(()=>{a.current!==n&&(l.current?.(n),a.current=n)},[n,a]),[n,s,l]}({defaultProp:t,onChange:n}),o=void 0!==e,d=o?e:a;{let t=r.useRef(void 0!==e);r.useEffect(()=>{let e=t.current;if(e!==o){let t=o?"controlled":"uncontrolled";console.warn(`${s} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=o},[o,s])}return[d,r.useCallback(t=>{if(o){let r="function"==typeof t?t(e):t;r!==e&&i.current?.(r)}else l(t)},[o,e,l,i])]}({prop:l,defaultProp:i??!1,onChange:u,caller:tC});return(0,t.jsxs)(tR,{scope:s,checked:b,disabled:d,children:[(0,t.jsx)(tk.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":tT(b),"data-disabled":d?"":void 0,disabled:d,value:c,...p,ref:x,onClick:function(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}(e.onClick,e=>{y(e=>!e),v&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),v&&(0,t.jsx)(tD,{control:h,bubbles:!g.current,name:a,value:c,checked:b,required:o,disabled:d,form:m,style:{transform:"translateX(-100%)"}})]})});tA.displayName=tC;var tE="SwitchThumb",tI=r.forwardRef((e,r)=>{let{__scopeSwitch:n,...s}=e,a=tz(tE,n);return(0,t.jsx)(tk.span,{"data-state":tT(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:r})});tI.displayName=tE;var tD=r.forwardRef(({__scopeSwitch:e,control:n,checked:s,bubbles:a=!0,...l},i)=>{let o=r.useRef(null),d=tb(o,i),c=(0,tj.usePrevious)(s),u=(0,eM.useSize)(n);return r.useEffect(()=>{let e=o.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==s&&t){let r=new Event("click",{bubbles:a});t.call(e,s),e.dispatchEvent(r)}},[c,s,a]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...l,tabIndex:-1,ref:d,style:{...l.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function tT(e){return e?"checked":"unchecked"}tD.displayName="SwitchBubbleInput";let tP=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(tA,{className:(0,T.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:border-transparent data-[state=unchecked]:bg-transparent data-[state=unchecked]:border-muted-foreground/50",e),...r,ref:n,children:(0,t.jsx)(tI,{className:(0,T.cn)("pointer-events-none block h-4 w-4 rounded-full shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0 data-[state=checked]:bg-background data-[state=unchecked]:bg-muted-foreground/70")})}));tP.displayName=tA.displayName;var tO=e.i(10708),t$=e.i(81140),t_=e.i(30030),tL=e.i(69340),tF=globalThis?.document?r.useLayoutEffect:()=>{},tB=e.i(20783),tV=e.i(48425),tU=e=>{var t;let n,s,{present:a,children:l}=e,i=function(e){var t,n;let[s,a]=r.useState(),l=r.useRef({}),i=r.useRef(e),o=r.useRef("none"),[d,c]=(t=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},r.useReducer((e,t)=>n[e][t]??e,t));return r.useEffect(()=>{let e=tH(l.current);o.current="mounted"===d?e:"none"},[d]),tF(()=>{let t=l.current,r=i.current;if(r!==e){let n=o.current,s=tH(t);e?c("MOUNT"):"none"===s||t?.display==="none"?c("UNMOUNT"):r&&n!==s?c("ANIMATION_OUT"):c("UNMOUNT"),i.current=e}},[e,c]),tF(()=>{if(s){let e,t=s.ownerDocument.defaultView??window,r=r=>{let n=tH(l.current).includes(r.animationName);if(r.target===s&&n&&(c("ANIMATION_END"),!i.current)){let r=s.style.animationFillMode;s.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=r)})}},n=e=>{e.target===s&&(o.current=tH(l.current))};return s.addEventListener("animationstart",n),s.addEventListener("animationcancel",r),s.addEventListener("animationend",r),()=>{t.clearTimeout(e),s.removeEventListener("animationstart",n),s.removeEventListener("animationcancel",r),s.removeEventListener("animationend",r)}}c("ANIMATION_END")},[s,c]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:r.useCallback(e=>{e&&(l.current=getComputedStyle(e)),a(e)},[])}}(a),o="function"==typeof l?l({present:i.isPresent}):r.Children.only(l),d=(0,tB.useComposedRefs)(i.ref,(t=o,(s=(n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof l||i.isPresent?r.cloneElement(o,{ref:d}):null};function tH(e){return e?.animationName||"none"}tU.displayName="Presence";var tq=e.i(10772),tW="Collapsible",[tG,tK]=(0,t_.createContextScope)(tW),[tX,tZ]=tG(tW),tY=r.forwardRef((e,n)=>{let{__scopeCollapsible:s,open:a,defaultOpen:l,disabled:i,onOpenChange:o,...d}=e,[c=!1,u]=(0,tL.useControllableState)({prop:a,defaultProp:l,onChange:o});return(0,t.jsx)(tX,{scope:s,disabled:i,contentId:(0,tq.useId)(),open:c,onOpenToggle:r.useCallback(()=>u(e=>!e),[u]),children:(0,t.jsx)(tV.Primitive.div,{"data-state":t3(c),"data-disabled":i?"":void 0,...d,ref:n})})});tY.displayName=tW;var tJ="CollapsibleTrigger",tQ=r.forwardRef((e,r)=>{let{__scopeCollapsible:n,...s}=e,a=tZ(tJ,n);return(0,t.jsx)(tV.Primitive.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":t3(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:r,onClick:(0,t$.composeEventHandlers)(e.onClick,a.onOpenToggle)})});tQ.displayName=tJ;var t0="CollapsibleContent",t1=r.forwardRef((e,r)=>{let{forceMount:n,...s}=e,a=tZ(t0,e.__scopeCollapsible);return(0,t.jsx)(tU,{present:n||a.open,children:({present:e})=>(0,t.jsx)(t2,{...s,ref:r,present:e})})});t1.displayName=t0;var t2=r.forwardRef((e,n)=>{let{__scopeCollapsible:s,present:a,children:l,...i}=e,o=tZ(t0,s),[d,c]=r.useState(a),u=r.useRef(null),m=(0,tB.useComposedRefs)(n,u),p=r.useRef(0),h=p.current,f=r.useRef(0),x=f.current,g=o.open||d,v=r.useRef(g),b=r.useRef(void 0);return r.useEffect(()=>{let e=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(e)},[]),tF(()=>{let e=u.current;if(e){b.current=b.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();p.current=t.height,f.current=t.width,v.current||(e.style.transitionDuration=b.current.transitionDuration,e.style.animationName=b.current.animationName),c(a)}},[o.open,a]),(0,t.jsx)(tV.Primitive.div,{"data-state":t3(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:m,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:g&&l})});function t3(e){return e?"open":"closed"}function t5({...e}){return(0,t.jsx)(tY,{"data-slot":"collapsible",...e})}function t4({...e}){return(0,t.jsx)(tQ,{"data-slot":"collapsible-trigger",...e})}function t8({...e}){return(0,t.jsx)(t1,{"data-slot":"collapsible-content",...e})}let t6=(0,i.default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var t7=e.i(52008);let t9=(0,i.default)("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),re=["Fastest","Fast","Balanced","Accurate","Most Accurate"],rt=[{key:"enableHRM",label:"Hierarchical Roles (HRM)",description:"Assign specialized roles to different models",icon:t7.Layers,color:"from-blue-500 to-indigo-600"},{key:"enablePromptDiffusion",label:"Prompt Diffusion",description:"Iterative refinement for better outputs",icon:t9,color:"from-purple-500 to-pink-600"},{key:"enableDeepConsensus",label:"Deep Consensus",description:"Multi-round debate for accuracy",icon:Q.Users,color:"from-emerald-500 to-teal-600"},{key:"enableAdaptiveEnsemble",label:"Adaptive Ensemble",description:"Dynamic model weighting",icon:F.Sparkles,color:"from-orange-500 to-amber-600"}];function rr({settings:e,onSettingsChange:n,className:a}){let[l,i]=(0,r.useState)(!1),o=e.accuracyLevel??3,d=rt.filter(t=>e[t.key]).length;return(0,t.jsxs)(t5,{open:l,onOpenChange:i,className:(0,T.cn)("w-full",a),children:[(0,t.jsx)(t4,{asChild:!0,children:(0,t.jsxs)(s.Button,{variant:"ghost",size:"sm",className:(0,T.cn)("w-full justify-between gap-2 h-9 px-3 text-xs border rounded-lg transition-all duration-300",l?"bg-[var(--bronze)]/10 border-[var(--bronze)]/30 text-[var(--bronze)]":"bg-secondary/50 border-border hover:bg-secondary hover:border-[var(--bronze)]/50"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(et,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{className:"font-medium",children:"Orchestration Studio"}),d>0&&(0,t.jsxs)("span",{className:"px-1.5 py-0.5 text-[10px] rounded-full bg-[var(--bronze)]/20 text-[var(--bronze)]",children:[d," active"]})]}),l?(0,t.jsx)(t6,{className:"h-3.5 w-3.5"}):(0,t.jsx)(Z,{className:"h-3.5 w-3.5"})]})}),(0,t.jsx)(t8,{className:"animate-in slide-in-from-top-2 duration-200",children:(0,t.jsxs)("div",{className:"mt-3 p-4 rounded-xl border border-border bg-card/50 backdrop-blur-sm space-y-5",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(tO.Label,{className:"text-sm font-medium flex items-center gap-2",children:[(0,t.jsx)(ea,{className:"h-4 w-4 text-[var(--bronze)]"}),"Accuracy vs Speed"]}),(0,t.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-secondary text-muted-foreground",children:re[o-1]})]}),(0,t.jsxs)("div",{className:"relative pt-1",children:[(0,t.jsx)(ei.Slider,{value:[o],onValueChange:([e])=>n({accuracyLevel:e}),min:1,max:5,step:1,className:"w-full [&>span:first-child]:h-2 [&>span:first-child]:bg-secondary [&_[role=slider]]:h-5 [&_[role=slider]]:w-5 [&_[role=slider]]:border-2 [&_[role=slider]]:border-[var(--bronze)] [&_[role=slider]]:bg-background [&>span:first-child>span]:bg-gradient-to-r [&>span:first-child>span]:from-[var(--bronze)] [&>span:first-child>span]:to-[var(--gold)]"}),(0,t.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[(0,t.jsx)(Y.Zap,{className:"h-3 w-3"}),"Faster"]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[(0,t.jsx)(ea,{className:"h-3 w-3"}),"Precise"]})]})]})]}),(0,t.jsx)("div",{className:"h-px bg-border"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(tO.Label,{className:"text-sm font-medium",children:"Orchestration Engines"}),(0,t.jsx)("div",{className:"grid gap-2",children:rt.map(r=>{let s=r.icon,a=e[r.key];return(0,t.jsxs)("div",{className:(0,T.cn)("flex items-center gap-3 p-3 rounded-lg border transition-all duration-200",a?"bg-[var(--bronze)]/5 border-[var(--bronze)]/30":"bg-secondary/30 border-border hover:border-border/80"),children:[(0,t.jsx)("div",{className:(0,T.cn)("w-8 h-8 rounded-lg flex items-center justify-center transition-all duration-200",a?`bg-gradient-to-br ${r.color} text-white shadow-lg shadow-${r.color.split("-")[1]}-500/20`:"bg-muted text-muted-foreground"),children:(0,t.jsx)(s,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)(tO.Label,{htmlFor:r.key,className:(0,T.cn)("text-sm font-medium cursor-pointer transition-colors",a&&"text-[var(--bronze)]"),children:r.label}),(0,t.jsx)("p",{className:"text-[10px] text-muted-foreground truncate",children:r.description})]}),(0,t.jsx)(tP,{id:r.key,checked:a,onCheckedChange:e=>n({[r.key]:e}),className:"data-[state=checked]:bg-[var(--bronze)]"})]},r.key)})})]}),(0,t.jsx)("p",{className:"text-[10px] text-muted-foreground text-center",children:"Enable multiple engines for enhanced orchestration capabilities"})]})})]})}let rn=(0,i.default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var rs=e.i(86311),ra=e.i(55436),rl="Progress",[ri,ro]=(0,t_.createContextScope)(rl),[rd,rc]=ri(rl),ru=r.forwardRef((e,r)=>{var n,s;let{__scopeProgress:a,value:l=null,max:i,getValueLabel:o=rh,...d}=e;(i||0===i)&&!rg(i)&&console.error((n=`${i}`,`Invalid prop \`max\` of value \`${n}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let c=rg(i)?i:100;null===l||rv(l,c)||console.error((s=`${l}`,`Invalid prop \`value\` of value \`${s}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let u=rv(l,c)?l:null,m=rx(u)?o(u,c):void 0;return(0,t.jsx)(rd,{scope:a,value:u,max:c,children:(0,t.jsx)(tV.Primitive.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":rx(u)?u:void 0,"aria-valuetext":m,role:"progressbar","data-state":rf(u,c),"data-value":u??void 0,"data-max":c,...d,ref:r})})});ru.displayName=rl;var rm="ProgressIndicator",rp=r.forwardRef((e,r)=>{let{__scopeProgress:n,...s}=e,a=rc(rm,n);return(0,t.jsx)(tV.Primitive.div,{"data-state":rf(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:r})});function rh(e,t){return`${Math.round(e/t*100)}%`}function rf(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function rx(e){return"number"==typeof e}function rg(e){return rx(e)&&!isNaN(e)&&e>0}function rv(e,t){return rx(e)&&!isNaN(e)&&e<=t&&e>=0}function rb({className:e,value:r,...n}){return(0,t.jsx)(ru,{"data-slot":"progress",className:(0,T.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...n,children:(0,t.jsx)(rp,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})})}rp.displayName=rm;let ry={started:Y.Zap,refining_prompt:F.Sparkles,dispatching_model:er.Cpu,model_responding:B.Brain,model_critiquing:rs.MessageSquare,verifying_facts:ra.Search,consensus_building:Q.Users,finalizing:U,completed:U,error:H},rj={started:"text-blue-500",refining_prompt:"text-purple-500",dispatching_model:"text-orange-500",model_responding:"text-emerald-500",model_critiquing:"text-pink-500",verifying_facts:"text-cyan-500",consensus_building:"text-indigo-500",finalizing:"text-[var(--bronze)]",completed:"text-green-500",error:"text-red-500"};function rN({event:e,isLast:r,isActive:n}){let s=ry[e.type],a=rj[e.type],l="completed"===e.type,i="error"===e.type;return(0,t.jsxs)("div",{className:"flex gap-3 animate-in fade-in-0 slide-in-from-left-2 duration-300",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:(0,T.cn)("w-7 h-7 rounded-full flex items-center justify-center transition-all duration-300",r&&n?"bg-[var(--bronze)]/20 ring-2 ring-[var(--bronze)] ring-offset-2 ring-offset-background":l?"bg-green-500/20":i?"bg-red-500/20":"bg-secondary"),children:r&&n?(0,t.jsx)(rn,{className:(0,T.cn)("h-4 w-4 animate-spin",a)}):(0,t.jsx)(s,{className:(0,T.cn)("h-4 w-4",a)})}),!r&&(0,t.jsx)("div",{className:"w-0.5 h-full min-h-[20px] bg-border"})]}),(0,t.jsxs)("div",{className:"flex-1 pb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:(0,T.cn)("text-sm font-medium",r&&n?"text-[var(--bronze)]":"text-foreground"),children:e.message}),e.modelName&&(0,t.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded-md bg-secondary text-muted-foreground",children:e.modelName})]}),e.details&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:e.details}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground",children:e.timestamp.toLocaleTimeString()})]})]})}function rw({status:e,className:n}){let[a,l]=(0,r.useState)(!0),i=(0,r.useMemo)(()=>{if(!e.isActive&&0===e.events.length)return 0;let t=e.events[e.events.length-1];return t?.progress??0},[e.events,e.isActive]);return((0,r.useEffect)(()=>{if(!e.isActive&&100===i){let e=setTimeout(()=>l(!1),3e3);return()=>clearTimeout(e)}},[e.isActive,i]),0===e.events.length)?null:(0,t.jsx)(t5,{open:a,onOpenChange:l,className:(0,T.cn)("w-full",n),children:(0,t.jsxs)("div",{className:(0,T.cn)("rounded-xl border transition-all duration-300",e.isActive?"border-[var(--bronze)]/30 bg-[var(--bronze)]/5":"border-border bg-card/50"),children:[(0,t.jsx)(t4,{asChild:!0,children:(0,t.jsxs)(s.Button,{variant:"ghost",className:"w-full h-auto p-3 justify-between hover:bg-transparent",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[e.isActive?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-[var(--bronze)] animate-pulse"}),(0,t.jsx)("div",{className:"absolute inset-0 w-3 h-3 rounded-full bg-[var(--bronze)] animate-ping opacity-50"})]}):(0,t.jsx)(U,{className:"h-4 w-4 text-green-500"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.isActive?"Processing...":"Orchestration Complete"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e.latencyMs&&!e.isActive&&(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.latencyMs,"ms"]}),a?(0,t.jsx)(t6,{className:"h-4 w-4 text-muted-foreground"}):(0,t.jsx)(Z,{className:"h-4 w-4 text-muted-foreground"})]})]})}),e.isActive&&(0,t.jsx)("div",{className:"px-3 pb-2",children:(0,t.jsx)(rb,{value:i,className:"h-1.5 [&>div]:bg-gradient-to-r [&>div]:from-[var(--bronze)] [&>div]:to-[var(--gold)]"})}),(0,t.jsx)(t8,{children:(0,t.jsx)("div",{className:"px-4 pb-4 pt-2 max-h-64 overflow-y-auto",children:e.events.map((r,n)=>(0,t.jsx)(rN,{event:r,isLast:n===e.events.length-1,isActive:e.isActive},r.id))})})]})})}var rk=e.i(28231),rC=e.i(3116);let rS=(0,i.default)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);function rM({modelIds:e,totalTokens:n,latencyMs:s,className:a,compact:l=!1}){let i=(0,r.useMemo)(()=>e.filter(e=>e&&"automatic"!==e).map(e=>{let t=(0,f.getModelById)(e);return{id:e,name:(0,f.getModelDisplayName)(e),provider:t?.provider||"unknown",logo:t?(0,f.getModelLogo)(t.provider):null}}),[e]);return 0===i.length?null:l?(0,t.jsx)(rk.TooltipProvider,{children:(0,t.jsxs)("div",{className:(0,T.cn)("flex items-center gap-1",a),children:[(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground mr-1",children:"Models:"}),(0,t.jsx)("div",{className:"flex -space-x-1",children:i.slice(0,3).map(e=>(0,t.jsxs)(rk.Tooltip,{children:[(0,t.jsx)(rk.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("div",{className:"relative w-5 h-5 rounded-full bg-secondary border-2 border-background overflow-hidden",children:e.logo?(0,t.jsx)(tu.default,{src:e.logo,alt:e.provider,fill:!0,className:"object-contain p-0.5"}):(0,t.jsx)(er.Cpu,{className:"h-3 w-3 m-auto text-muted-foreground"})})}),(0,t.jsx)(rk.TooltipContent,{side:"top",className:"text-xs",children:e.name})]},e.id))}),i.length>3&&(0,t.jsxs)("span",{className:"text-[10px] text-muted-foreground ml-1",children:["+",i.length-3]})]})}):(0,t.jsxs)("div",{className:(0,T.cn)("inline-flex items-center gap-3 px-3 py-2 rounded-lg bg-secondary/50 border border-border",a),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground font-medium",children:"Models Used:"}),(0,t.jsx)("div",{className:"flex items-center gap-1.5",children:i.map(e=>(0,t.jsx)(rk.TooltipProvider,{children:(0,t.jsxs)(rk.Tooltip,{children:[(0,t.jsx)(rk.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(q.Badge,{variant:"secondary",className:"gap-1.5 px-2 py-1 text-xs bg-background hover:bg-background cursor-default",children:[e.logo?(0,t.jsx)(tu.default,{src:e.logo,alt:e.provider,width:14,height:14,className:"object-contain"}):(0,t.jsx)(er.Cpu,{className:"h-3 w-3 text-muted-foreground"}),(0,t.jsx)("span",{children:e.name})]})}),(0,t.jsxs)(rk.TooltipContent,{side:"top",className:"text-xs",children:["Provider: ",e.provider]})]})},e.id))})]}),(void 0!==n||void 0!==s)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-px h-4 bg-border"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground",children:[void 0!==n&&n>0&&(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(rS,{className:"h-3 w-3"}),n.toLocaleString()," tokens"]}),void 0!==s&&(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(rC.Clock,{className:"h-3 w-3"}),s.toLocaleString(),"ms"]})]})]})]})}let rR=["gpt-4o","claude-sonnet-4","deepseek-chat"];function rz({conversation:e,onSendMessage:n,onShowArtifact:i,orchestratorSettings:x,onOrchestratorSettingsChange:g,onOpenAdvancedSettings:j,userAccountMenu:N}){let[w,C]=(0,r.useState)(""),[S,M]=(0,r.useState)([]),[R,z]=(0,r.useState)(!1),[A,E]=(0,r.useState)(null),[I,D]=(0,r.useState)(!0),[T,$]=(0,r.useState)(!1),[_,L]=(0,r.useState)(null),[F,B]=(0,r.useState)({isActive:!1,currentStep:"",events:[],modelsUsed:[]}),[V,U]=(0,r.useState)([]),[H,q]=(0,r.useState)(0),[W,G]=(0,r.useState)(0),X=(0,r.useRef)(null),Z=(0,r.useRef)(0),Y=x.selectedModels||["automatic"];(0,f.getModelById)(Y[0]||"gpt-4o");let J=(0,r.useCallback)((e,t,r,n)=>{B(s=>({...s,currentStep:t,events:[...s.events,{id:`evt-${++Z.current}`,type:e,message:t,timestamp:new Date,modelName:r,progress:n}]}))},[]),Q=(0,r.useCallback)(async e=>{let t=[{type:"started",message:"Orchestration initiated",delay:100}];e.enablePromptDiffusion&&t.push({type:"refining_prompt",message:"Refining prompt with diffusion...",delay:400}),e.enableHRM&&t.push({type:"dispatching_model",message:"Assigning hierarchical roles...",delay:300});let r=e.selectedModels||["automatic"];for(let e of(r=r.includes("automatic")||0===r.length?rR:r.filter(e=>"automatic"!==e)).slice(0,3)){let r=(0,f.getModelById)(e);t.push({type:"dispatching_model",message:`Dispatching to ${r?.name||e}...`,delay:200,modelName:r?.name||e})}for(let r of(t.push({type:"model_responding",message:"Models generating responses...",delay:500}),e.enableDeepConsensus&&(t.push({type:"model_critiquing",message:"Models critiquing each other...",delay:400}),t.push({type:"consensus_building",message:"Building consensus...",delay:300})),e.enableAdaptiveEnsemble&&t.push({type:"verifying_facts",message:"Verifying with adaptive ensemble...",delay:350}),e.outputValidation&&t.push({type:"verifying_facts",message:"Validating output accuracy...",delay:250}),t.push({type:"finalizing",message:"Finalizing response...",delay:200}),t))await new Promise(e=>setTimeout(e,r.delay)),J(r.type,r.message,r.modelName)},[J]),ee=async()=>{if(!w.trim()&&0===S.length)return;let t={id:`msg-${Date.now()}`,role:"user",content:w,timestamp:new Date,attachments:S.length>0?S:void 0};n(t),C(""),M([]),$(!0),Date.now(),B({isActive:!0,currentStep:"Starting orchestration...",events:[],modelsUsed:[],startTime:new Date}),Q(x);try{L(null);let r=Y.includes("automatic")||0===Y.length?rR:Y.filter(e=>"automatic"!==e),s=await k({messages:[...e?.messages||[],t],models:r,orchestratorSettings:{...x,selectedModels:r},chatId:e?.id},e=>{L({isRetrying:!0,attempt:e.attempt,maxAttempts:e.maxAttempts,message:`Retrying (${e.attempt}/${e.maxAttempts})... ${Math.round(e.delayMs/1e3)}s delay`}),J("dispatching_model",`Retrying request (attempt ${e.attempt}/${e.maxAttempts})...`)});L(null);let{content:a,modelsUsed:l,tokensUsed:i,latencyMs:o}=s,d=l.slice(0,3).map((e,t)=>{let r=(0,f.getModelById)(e);return{agentId:`agent-${t+1}`,agentName:r?.name||e,agentType:"general",contribution:["Primary response","Analysis and verification","Cross-validation"][t]||"Supporting response",confidence:.9-.05*t}}),c={id:`msg-${Date.now()}`,role:"assistant",content:a||"I apologize, but I couldn't generate a response. Please try again.",timestamp:new Date,model:l[0]||r[0],agents:d.length>0?d:[{agentId:"agent-1",agentName:"General Agent",agentType:"general",contribution:"Primary response",confidence:.9}],consensus:l.length>1?{confidence:88,debateOccurred:!0,consensusNote:`${l.length} models reached consensus`}:{confidence:95,debateOccurred:!1,consensusNote:"Single model response"}};n(c),B(e=>({...e,isActive:!1,currentStep:"Completed",modelsUsed:l,endTime:new Date,latencyMs:o,events:[...e.events,{id:`evt-${++Z.current}`,type:"completed",message:"Orchestration complete",timestamp:new Date,progress:100}]})),U(l),G(o),q(i)}catch(s){L(null);let e="I apologize, but I encountered an error. Please try again.",t="Orchestration failed",r="";"object"==typeof s&&null!==s&&s.retriesExhausted&&s.retryInfo?.attempts&&(r=` (retried ${s.retryInfo.attempts} times)`),s instanceof y?(e=`The request timed out${r}. The backend may be overloaded. Please try again later.`,t=`Request timed out${r}`):s instanceof b?(e=`Unable to connect to the server${r}. Please check your connection and try again.`,t=`Network error${r}`):s instanceof v&&(s.retriesExhausted?(e=`The server is currently unavailable${r}. Please try again later.`,t=`Server error: ${s.status}${r}`):(e=`I encountered an error: ${s.message}`,t=`API error: ${s.status}`)),n({id:`msg-${Date.now()}`,role:"assistant",content:e,timestamp:new Date}),B(e=>({...e,isActive:!1,events:[...e.events,{id:`evt-${++Z.current}`,type:"error",message:t,timestamp:new Date}]}))}finally{$(!1),L(null)}},et=e?.messages||[];return(0,t.jsxs)("div",{className:"flex-1 flex flex-col relative min-h-0",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-[0.02] pointer-events-none",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l25.98 15v30L30 60 4.02 45V15z' fill='none' stroke='%23C48E48' strokeWidth='1'/%3E%3C/svg%3E\")",backgroundSize:"60px 60px"}}),(0,t.jsxs)("header",{className:"border-b border-border p-3 bg-card/50 backdrop-blur-xl sticky top-0 z-40 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[(0,t.jsx)(tx,{settings:x,onSettingsChange:g,onOpenAdvanced:j}),N]}),(0,t.jsx)(rr,{settings:x,onSettingsChange:g})]}),(0,t.jsx)(O,{active:T,agentCount:6}),(F.isActive||F.events.length>0)&&(0,t.jsx)("div",{className:"px-4 py-2 border-b border-border bg-card/30",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,t.jsx)(rw,{status:F})})}),(0,t.jsx)(l.ScrollArea,{className:"flex-1 relative z-10",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8 space-y-6",children:[et.map(e=>(0,t.jsx)(P,{message:e,onShowArtifact:i,onShowInsights:()=>{E(e),z(!0)},incognitoMode:I,onToggleIncognito:()=>D(!I)},e.id)),T&&(0,t.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[var(--bronze)] to-[var(--gold)] flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs font-bold text-background",children:"AI"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("div",{className:"flex gap-1.5 p-4",children:[0,200,400].map(e=>(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-[var(--bronze)] animate-bounce",style:{animationDelay:`${e}ms`,animationDuration:"1s"}},e))}),_?.isRetrying&&(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20 text-amber-600 dark:text-amber-400 text-sm animate-pulse",children:[(0,t.jsx)(h.RefreshCw,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)("span",{children:_.message})]})]})]}),!T&&V.length>0&&et.length>0&&(0,t.jsx)("div",{className:"flex justify-center py-2",children:(0,t.jsx)(rM,{modelIds:V,totalTokens:H,latencyMs:W})})]})}),R&&A?.agents&&(0,t.jsx)(K,{agents:A.agents,consensus:A.consensus,citations:A.citations,onClose:()=>z(!1)}),(0,t.jsx)("div",{className:"border-t border-border p-3 md:p-4 bg-card/80 backdrop-blur-xl relative z-10 sticky bottom-0",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[S.length>0&&(0,t.jsx)("div",{className:"mb-3 flex flex-wrap gap-2",children:S.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-secondary border text-sm",children:[e.type.startsWith("image/")?(0,t.jsx)(m,{className:"h-4 w-4"}):(0,t.jsx)(p.FileText,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"truncate max-w-[100px] md:max-w-[150px]",children:e.name}),(0,t.jsx)(s.Button,{size:"icon",variant:"ghost",className:"h-5 w-5",onClick:()=>{var t;return t=e.id,void M(S.filter(e=>e.id!==t))},children:(0,t.jsx)(u.X,{className:"h-3 w-3"})})]},e.id))}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(a.Textarea,{value:w,onChange:e=>C(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),ee())},placeholder:"Ask the hive mind anything...",className:"min-h-[56px] md:min-h-[72px] pr-28 md:pr-36 resize-none bg-secondary/50 border-border focus:border-[var(--bronze)] text-sm md:text-base"}),(0,t.jsxs)("div",{className:"absolute bottom-2 md:bottom-2.5 right-2 md:right-2.5 flex items-center gap-1 md:gap-1.5",children:[(0,t.jsx)("input",{ref:X,type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.txt",onChange:e=>{M([...S,...Array.from(e.target.files||[]).map(e=>({id:`att-${Date.now()}-${Math.random()}`,name:e.name,type:e.type,size:e.size,url:URL.createObjectURL(e)}))])},className:"hidden"}),(0,t.jsx)(s.Button,{size:"icon",variant:"ghost",className:"h-7 w-7 md:h-8 md:w-8",onClick:()=>X.current?.click(),children:(0,t.jsx)(d,{className:"h-3.5 w-3.5 md:h-4 md:w-4"})}),(0,t.jsx)(s.Button,{size:"icon",variant:"ghost",className:"h-7 w-7 md:h-8 md:w-8",children:(0,t.jsx)(c,{className:"h-3.5 w-3.5 md:h-4 md:w-4"})}),(0,t.jsx)(s.Button,{size:"icon",onClick:ee,disabled:!w.trim()&&0===S.length||T,className:"h-7 w-7 md:h-8 md:w-8 bronze-gradient disabled:opacity-50",children:(0,t.jsx)(o,{className:"h-3.5 w-3.5 md:h-4 md:w-4"})})]})]}),(0,t.jsx)("p",{className:"text-[9px] md:text-[10px] text-muted-foreground mt-2 text-center opacity-60",children:"LLMHive uses multiple AI agents for enhanced accuracy"})]})})]})}let rA=(0,i.default)("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]),rE=(0,i.default)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),rI=[{id:"general",title:"General Assistant",description:"Versatile AI helper for everyday tasks",icon:F.Sparkles,color:"from-orange-500 to-amber-500",preset:{reasoningMode:"standard",domainPack:"default",agentMode:"single"}},{id:"research",title:"Research & Deep Reasoning",description:"In-depth analysis with multiple perspectives",icon:B.Brain,color:"from-purple-500 to-indigo-500",preset:{reasoningMode:"deep",domainPack:"research",agentMode:"team",outputValidation:!0}},{id:"code",title:"Code & Debug",description:"Expert coding assistance and debugging",icon:A.Code,color:"from-emerald-500 to-teal-500",preset:{reasoningMode:"standard",domainPack:"coding",agentMode:"team",promptOptimization:!0}},{id:"industry",title:"Industry Packs",description:"Legal, Medical, Marketing & more",icon:rE,color:"from-blue-500 to-cyan-500",preset:{reasoningMode:"deep",agentMode:"team",outputValidation:!0,answerStructure:!0}}];function rD({onNewChat:e,onStartFromTemplate:r}){return(0,t.jsxs)("div",{className:"min-h-full flex flex-col items-center justify-start px-4 pt-0 pb-20 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-0",children:[(0,t.jsx)("div",{className:"relative w-40 h-40 md:w-[280px] md:h-[280px] lg:w-[320px] lg:h-[320px] mx-auto mb-0 -mt-4 md:-mt-8 lg:-mt-10",children:(0,t.jsx)(tu.default,{src:"/logo.png",alt:"LLMHive",fill:!0,className:"object-contain",priority:!0})}),(0,t.jsx)("h1",{className:"-mt-6 md:-mt-8 lg:-mt-10 text-[1.75rem] md:text-[2.85rem] lg:text-[3.4rem] font-bold mb-1 bg-gradient-to-r from-[var(--bronze)] via-[var(--gold)] to-[var(--bronze)] bg-clip-text text-transparent",children:"Welcome to LLMHive"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm md:text-base max-w-md mx-auto mb-0",children:"Multi-agent AI orchestration for enhanced accuracy and deeper insights"})]}),(0,t.jsx)("div",{className:"w-16 h-px bg-border my-2"}),(0,t.jsxs)(s.Button,{onClick:e,size:"lg",className:"bronze-gradient mb-4 md:mb-6 h-12 md:h-14 px-8 md:px-10 text-base md:text-lg gap-2 shadow-lg hover:shadow-xl transition-shadow",children:[(0,t.jsx)(rA,{className:"h-5 w-5 md:h-6 md:w-6"}),"New Chat"]}),(0,t.jsxs)("div",{className:"w-full max-w-4xl",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center mb-2",children:"Or start from a template"}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:rI.map(e=>{let n=e.icon;return(0,t.jsxs)("button",{onClick:()=>r(e.preset),className:"group flex flex-col items-center gap-2 p-3 md:p-4 rounded-xl border border-border hover:border-[var(--bronze)] bg-card/50 hover:bg-card/80 transition-all duration-300 cursor-pointer text-left",children:[(0,t.jsx)("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br ${e.color} flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:shadow-xl transition-all duration-300`,children:(0,t.jsx)(n,{className:"h-5 w-5 md:h-6 md:w-6 text-white"})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"text-sm md:text-base font-semibold text-foreground group-hover:text-[var(--bronze)] transition-colors",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:e.description})]})]},e.id)})})]})]})}function rT(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}function rP(e,n=[]){let s=[],a=()=>{let t=s.map(e=>r.createContext(e));return function(n){let s=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:s}}),[n,s])}};return a.scopeName=e,[function(n,a){let l=r.createContext(a),i=s.length;s=[...s,a];let o=n=>{let{scope:s,children:a,...o}=n,d=s?.[e]?.[i]||l,c=r.useMemo(()=>o,Object.values(o));return(0,t.jsx)(d.Provider,{value:c,children:a})};return o.displayName=n+"Provider",[o,function(t,s){let o=s?.[e]?.[i]||l,d=r.useContext(o);if(d)return d;if(void 0!==a)return a;throw Error(`\`${t}\` must be used within \`${n}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=n.reduce((t,{useScope:r,scopeName:n})=>{let s=r(e)[`__scope${n}`];return{...t,...s}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}(a,...n)]}function rO(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function r$(...e){return t=>{let r=!1,n=e.map(e=>{let n=rO(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():rO(e[t],null)}}}}function r_(...e){return r.useCallback(r$(...e),e)}function rL(e){var n;let s,a=(n=e,(s=r.forwardRef((e,t)=>{let{children:n,...s}=e;if(r.isValidElement(n)){var a;let e,l,i=(a=n,(l=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(l=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),o=function(e,t){let r={...t};for(let n in t){let s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...e)=>{let t=a(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...a}:"className"===n&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}(s,n.props);return n.type!==r.Fragment&&(o.ref=t?r$(t,i):i),r.cloneElement(n,o)}return r.Children.count(n)>1?r.Children.only(null):null})).displayName=`${n}.SlotClone`,s),l=r.forwardRef((e,n)=>{let{children:s,...l}=e,i=r.Children.toArray(s),o=i.find(rB);if(o){let e=o.props.children,s=i.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(a,{...l,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,s):null})}return(0,t.jsx)(a,{...l,ref:n,children:s})});return l.displayName=`${e}.Slot`,l}"undefined"!=typeof window&&window.document&&window.document.createElement;var rF=Symbol("radix.slottable");function rB(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===rF}var rV=new WeakMap;function rU(e,t){var r,n;let s,a,l;if("at"in Array.prototype)return Array.prototype.at.call(e,t);let i=(r=e,n=t,s=r.length,(l=(a=rH(n))>=0?a:s+a)<0||l>=s?-1:l);return -1===i?void 0:e[i]}function rH(e){return e!=e||0===e?0:Math.trunc(e)}(class e extends Map{#e;constructor(e){super(e),this.#e=[...super.keys()],rV.set(this,!0)}set(e,t){return rV.get(this)&&(this.has(e)?this.#e[this.#e.indexOf(e)]=e:this.#e.push(e)),super.set(e,t),this}insert(e,t,r){let n,s=this.has(t),a=this.#e.length,l=rH(e),i=l>=0?l:a+l,o=i<0||i>=a?-1:i;if(o===this.size||s&&o===this.size-1||-1===o)return this.set(t,r),this;let d=this.size+ +!s;l<0&&i++;let c=[...this.#e],u=!1;for(let e=i;e<d;e++)if(i===e){let a=c[e];c[e]===t&&(a=c[e+1]),s&&this.delete(t),n=this.get(a),this.set(t,r)}else{u||c[e-1]!==t||(u=!0);let r=c[u?e:e-1],s=n;n=this.get(r),this.delete(r),this.set(r,s)}return this}with(t,r,n){let s=new e(this);return s.insert(t,r,n),s}before(e){let t=this.#e.indexOf(e)-1;if(!(t<0))return this.entryAt(t)}setBefore(e,t,r){let n=this.#e.indexOf(e);return -1===n?this:this.insert(n,t,r)}after(e){let t=this.#e.indexOf(e);if(-1!==(t=-1===t||t===this.size-1?-1:t+1))return this.entryAt(t)}setAfter(e,t,r){let n=this.#e.indexOf(e);return -1===n?this:this.insert(n+1,t,r)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#e=[],super.clear()}delete(e){let t=super.delete(e);return t&&this.#e.splice(this.#e.indexOf(e),1),t}deleteAt(e){let t=this.keyAt(e);return void 0!==t&&this.delete(t)}at(e){let t=rU(this.#e,e);if(void 0!==t)return this.get(t)}entryAt(e){let t=rU(this.#e,e);if(void 0!==t)return[t,this.get(t)]}indexOf(e){return this.#e.indexOf(e)}keyAt(e){return rU(this.#e,e)}from(e,t){let r=this.indexOf(e);if(-1===r)return;let n=r+t;return n<0&&(n=0),n>=this.size&&(n=this.size-1),this.at(n)}keyFrom(e,t){let r=this.indexOf(e);if(-1===r)return;let n=r+t;return n<0&&(n=0),n>=this.size&&(n=this.size-1),this.keyAt(n)}find(e,t){let r=0;for(let n of this){if(Reflect.apply(e,t,[n,r,this]))return n;r++}}findIndex(e,t){let r=0;for(let n of this){if(Reflect.apply(e,t,[n,r,this]))return r;r++}return -1}filter(t,r){let n=[],s=0;for(let e of this)Reflect.apply(t,r,[e,s,this])&&n.push(e),s++;return new e(n)}map(t,r){let n=[],s=0;for(let e of this)n.push([e[0],Reflect.apply(t,r,[e,s,this])]),s++;return new e(n)}reduce(...e){let[t,r]=e,n=0,s=r??this.at(0);for(let r of this)s=0===n&&1===e.length?r:Reflect.apply(t,this,[s,r,n,this]),n++;return s}reduceRight(...e){let[t,r]=e,n=r??this.at(-1);for(let r=this.size-1;r>=0;r--){let s=this.at(r);n=r===this.size-1&&1===e.length?s:Reflect.apply(t,this,[n,s,r,this])}return n}toSorted(t){return new e([...this.entries()].sort(t))}toReversed(){let t=new e;for(let e=this.size-1;e>=0;e--){let r=this.keyAt(e),n=this.get(r);t.set(r,n)}return t}toSpliced(...t){let r=[...this.entries()];return r.splice(...t),new e(r)}slice(t,r){let n=new e,s=this.size-1;if(void 0===t)return n;t<0&&(t+=this.size),void 0!==r&&r>0&&(s=r-1);for(let e=t;e<=s;e++){let t=this.keyAt(e),r=this.get(t);n.set(t,r)}return n}every(e,t){let r=0;for(let n of this){if(!Reflect.apply(e,t,[n,r,this]))return!1;r++}return!0}some(e,t){let r=0;for(let n of this){if(Reflect.apply(e,t,[n,r,this]))return!0;r++}return!1}});var rq=r[" useId ".trim().toString()]||(()=>void 0),rW=0;function rG(e){let[t,n]=r.useState(rq());return(0,ex.useLayoutEffect)(()=>{e||n(e=>e??String(rW++))},[e]),e||(t?`radix-${t}`:"")}var rK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{let s=rL(`Primitive.${n}`),a=r.forwardRef((e,r)=>{let{asChild:a,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?s:n,{...l,ref:r})});return a.displayName=`Primitive.${n}`,{...e,[n]:a}},{}),rX=r[" useInsertionEffect ".trim().toString()]||ex.useLayoutEffect;function rZ({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){let[a,l,i]=function({defaultProp:e,onChange:t}){let[n,s]=r.useState(e),a=r.useRef(n),l=r.useRef(t);return rX(()=>{l.current=t},[t]),r.useEffect(()=>{a.current!==n&&(l.current?.(n),a.current=n)},[n,a]),[n,s,l]}({defaultProp:t,onChange:n}),o=void 0!==e,d=o?e:a;{let t=r.useRef(void 0!==e);r.useEffect(()=>{let e=t.current;if(e!==o){let t=o?"controlled":"uncontrolled";console.warn(`${s} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=o},[o,s])}return[d,r.useCallback(t=>{if(o){let r="function"==typeof t?t(e):t;r!==e&&i.current?.(r)}else l(t)},[o,e,l,i])]}Symbol("RADIX:SYNC_STATE");var rY=r.createContext(void 0);function rJ(e){let t=r.useContext(rY);return e||t||"ltr"}var rQ="rovingFocusGroup.onEntryFocus",r0={bubbles:!1,cancelable:!0},r1="RovingFocusGroup",[r2,r3,r5]=function(e){let n=e+"CollectionProvider",[s,a]=rP(n),[l,i]=s(n,{collectionRef:{current:null},itemMap:new Map}),o=e=>{let{scope:n,children:s}=e,a=r.default.useRef(null),i=r.default.useRef(new Map).current;return(0,t.jsx)(l,{scope:n,itemMap:i,collectionRef:a,children:s})};o.displayName=n;let d=e+"CollectionSlot",c=rL(d),u=r.default.forwardRef((e,r)=>{let{scope:n,children:s}=e,a=r_(r,i(d,n).collectionRef);return(0,t.jsx)(c,{ref:a,children:s})});u.displayName=d;let m=e+"CollectionItemSlot",p="data-radix-collection-item",h=rL(m),f=r.default.forwardRef((e,n)=>{let{scope:s,children:a,...l}=e,o=r.default.useRef(null),d=r_(n,o),c=i(m,s);return r.default.useEffect(()=>(c.itemMap.set(o,{ref:o,...l}),()=>void c.itemMap.delete(o))),(0,t.jsx)(h,{...{[p]:""},ref:d,children:a})});return f.displayName=m,[{Provider:o,Slot:u,ItemSlot:f},function(t){let n=i(e+"CollectionConsumer",t);return r.default.useCallback(()=>{let e=n.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${p}]`));return Array.from(n.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[n.collectionRef,n.itemMap])},a]}(r1),[r4,r8]=rP(r1,[r5]),[r6,r7]=r4(r1),r9=r.forwardRef((e,r)=>(0,t.jsx)(r2.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(r2.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(ne,{...e,ref:r})})}));r9.displayName=r1;var ne=r.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:s,orientation:a,loop:l=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:m=!1,...p}=e,h=r.useRef(null),f=r_(n,h),x=rJ(i),[g,v]=rZ({prop:o,defaultProp:d??null,onChange:c,caller:r1}),[b,y]=r.useState(!1),j=(0,eS.useCallbackRef)(u),N=r3(s),w=r.useRef(!1),[k,C]=r.useState(0);return r.useEffect(()=>{let e=h.current;if(e)return e.addEventListener(rQ,j),()=>e.removeEventListener(rQ,j)},[j]),(0,t.jsx)(r6,{scope:s,orientation:a,dir:x,loop:l,currentTabStopId:g,onItemFocus:r.useCallback(e=>v(e),[v]),onItemShiftTab:r.useCallback(()=>y(!0),[]),onFocusableItemAdd:r.useCallback(()=>C(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>C(e=>e-1),[]),children:(0,t.jsx)(rK.div,{tabIndex:b||0===k?-1:0,"data-orientation":a,...p,ref:f,style:{outline:"none",...e.style},onMouseDown:rT(e.onMouseDown,()=>{w.current=!0}),onFocus:rT(e.onFocus,e=>{let t=!w.current;if(e.target===e.currentTarget&&t&&!b){let t=new CustomEvent(rQ,r0);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=N().filter(e=>e.focusable);ns([e.find(e=>e.active),e.find(e=>e.id===g),...e].filter(Boolean).map(e=>e.ref.current),m)}}w.current=!1}),onBlur:rT(e.onBlur,()=>y(!1))})})}),nt="RovingFocusGroupItem",nr=r.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:s,focusable:a=!0,active:l=!1,tabStopId:i,children:o,...d}=e,c=rG(),u=i||c,m=r7(nt,s),p=m.currentTabStopId===u,h=r3(s),{onFocusableItemAdd:f,onFocusableItemRemove:x,currentTabStopId:g}=m;return r.useEffect(()=>{if(a)return f(),()=>x()},[a,f,x]),(0,t.jsx)(r2.ItemSlot,{scope:s,id:u,focusable:a,active:l,children:(0,t.jsx)(rK.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...d,ref:n,onMouseDown:rT(e.onMouseDown,e=>{a?m.onItemFocus(u):e.preventDefault()}),onFocus:rT(e.onFocus,()=>m.onItemFocus(u)),onKeyDown:rT(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void m.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var n;let s=(n=e.key,"rtl"!==r?n:"ArrowLeft"===n?"ArrowRight":"ArrowRight"===n?"ArrowLeft":n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return nn[s]}(e,m.orientation,m.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){var r,n;"prev"===t&&s.reverse();let a=s.indexOf(e.currentTarget);s=m.loop?(r=s,n=a+1,r.map((e,t)=>r[(n+t)%r.length])):s.slice(a+1)}setTimeout(()=>ns(s))}}),children:"function"==typeof o?o({isCurrentTabStop:p,hasTabStop:null!=g}):o})})});nr.displayName=nt;var nn={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ns(e,t=!1){let r=document.activeElement;for(let n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}var na="Tabs",[nl,ni]=rP(na,[r8]),no=r8(),[nd,nc]=nl(na),nu=r.forwardRef((e,r)=>{let{__scopeTabs:n,value:s,onValueChange:a,defaultValue:l,orientation:i="horizontal",dir:o,activationMode:d="automatic",...c}=e,u=rJ(o),[m,p]=rZ({prop:s,onChange:a,defaultProp:l??"",caller:na});return(0,t.jsx)(nd,{scope:n,baseId:rG(),value:m,onValueChange:p,orientation:i,dir:u,activationMode:d,children:(0,t.jsx)(rK.div,{dir:u,"data-orientation":i,...c,ref:r})})});nu.displayName=na;var nm="TabsList",np=r.forwardRef((e,r)=>{let{__scopeTabs:n,loop:s=!0,...a}=e,l=nc(nm,n),i=no(n);return(0,t.jsx)(r9,{asChild:!0,...i,orientation:l.orientation,dir:l.dir,loop:s,children:(0,t.jsx)(rK.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:r})})});np.displayName=nm;var nh="TabsTrigger",nf=r.forwardRef((e,r)=>{let{__scopeTabs:n,value:s,disabled:a=!1,...l}=e,i=nc(nh,n),o=no(n),d=nv(i.baseId,s),c=nb(i.baseId,s),u=s===i.value;return(0,t.jsx)(nr,{asChild:!0,...o,focusable:!a,active:u,children:(0,t.jsx)(rK.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...l,ref:r,onMouseDown:rT(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(s)}),onKeyDown:rT(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(s)}),onFocus:rT(e.onFocus,()=>{let e="manual"!==i.activationMode;u||a||!e||i.onValueChange(s)})})})});nf.displayName=nh;var nx="TabsContent",ng=r.forwardRef((e,n)=>{let{__scopeTabs:s,value:a,forceMount:l,children:i,...o}=e,d=nc(nx,s),c=nv(d.baseId,a),u=nb(d.baseId,a),m=a===d.value,p=r.useRef(m);return r.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(eG.Presence,{present:l||m,children:({present:r})=>(0,t.jsx)(rK.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":c,hidden:!r,id:u,tabIndex:0,...o,ref:n,style:{...e.style,animationDuration:p.current?"0s":void 0},children:r&&i})})});function nv(e,t){return`${e}-trigger-${t}`}function nb(e,t){return`${e}-content-${t}`}ng.displayName=nx;let ny=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(np,{ref:n,className:(0,T.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...r}));ny.displayName=np.displayName;let nj=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(nf,{ref:n,className:(0,T.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...r}));nj.displayName=nf.displayName;let nN=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(ng,{ref:n,className:(0,T.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));nN.displayName=ng.displayName;let nw=(0,i.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),nk=(0,i.default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);function nC({artifact:e,onClose:n}){let[a,i]=(0,r.useState)(!1),[o,d]=(0,r.useState)("code"),[c,m]=(0,r.useState)(!1),[p,h]=(0,r.useState)(null),f=async()=>{if("code"===e.type){m(!0),h(null);try{let t=await fetch("/api/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e.content,language:e.language||"javascript"})}),r=await t.json();h(r)}catch(e){h({success:!1,error:e.message||"Failed to execute code"})}finally{m(!1)}}};return(0,t.jsxs)("div",{className:"w-[600px] border-l border-border bg-card flex flex-col",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:e.title}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["code"===e.type&&`${e.language||"Code"} Artifact`,"document"===e.type&&"Document Artifact","visualization"===e.type&&"Visualization Artifact"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["code"===e.type&&(0,t.jsxs)(s.Button,{size:"sm",variant:"outline",className:"h-8 gap-2 border-[var(--bronze)] text-[var(--bronze)] hover:bg-[var(--bronze)]/10 bg-transparent",onClick:f,disabled:c,children:[(0,t.jsx)(nk,{className:"h-3 w-3"}),c?"Running...":"Run"]}),(0,t.jsx)(s.Button,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>{navigator.clipboard.writeText(e.content),i(!0),setTimeout(()=>i(!1),2e3)},children:a?(0,t.jsx)(S.Check,{className:"h-4 w-4"}):(0,t.jsx)(C,{className:"h-4 w-4"})}),(0,t.jsx)(s.Button,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>{let t=new Blob([e.content],{type:"text/plain"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=`${e.title}.${e.language||"txt"}`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)},children:(0,t.jsx)(nw,{className:"h-4 w-4"})}),(0,t.jsx)(s.Button,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:n,children:(0,t.jsx)(u.X,{className:"h-4 w-4"})})]})]}),"code"===e.type&&(0,t.jsxs)(nu,{value:o,onValueChange:e=>d(e),className:"flex-1 flex flex-col",children:[(0,t.jsx)("div",{className:"px-4 pt-3",children:(0,t.jsxs)(ny,{className:"grid w-full grid-cols-2",children:[(0,t.jsx)(nj,{value:"code",children:"Code"}),(0,t.jsx)(nj,{value:"preview",children:"Output"})]})}),(0,t.jsx)(nN,{value:"code",className:"flex-1 m-0 p-0",children:(0,t.jsx)(l.ScrollArea,{className:"h-full",children:(0,t.jsx)("pre",{className:"p-4 text-xs font-mono bg-secondary/30",children:(0,t.jsx)("code",{className:(0,T.cn)("language-"+e.language),children:e.content})})})}),(0,t.jsx)(nN,{value:"preview",className:"flex-1 m-0 p-0",children:(0,t.jsx)("div",{className:"h-full flex flex-col",children:p?(0,t.jsx)(l.ScrollArea,{className:"flex-1",children:(0,t.jsx)("div",{className:"p-4",children:p.success?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-green-500",children:[(0,t.jsx)(S.Check,{className:"h-4 w-4"}),"Execution Successful"]}),(0,t.jsx)("pre",{className:"p-3 rounded-lg bg-secondary text-xs font-mono whitespace-pre-wrap",children:p.output||"No output"})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-destructive",children:[(0,t.jsx)(H,{className:"h-4 w-4"}),"Execution Failed"]}),(0,t.jsx)("pre",{className:"p-3 rounded-lg bg-destructive/10 text-xs font-mono text-destructive whitespace-pre-wrap",children:p.error})]})})}):(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center bg-secondary/30",children:(0,t.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,t.jsx)(nk,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,t.jsx)("p",{className:"text-sm",children:'Click "Run" to execute code'}),(0,t.jsx)("p",{className:"text-xs mt-1",children:"Supports JavaScript and TypeScript"})]})})})})]}),"document"===e.type&&(0,t.jsx)(l.ScrollArea,{className:"flex-1",children:(0,t.jsx)("div",{className:"p-4 prose prose-sm dark:prose-invert max-w-none",children:e.content})}),"visualization"===e.type&&(0,t.jsx)("div",{className:"flex-1 p-4",children:(0,t.jsx)("div",{className:"h-full flex items-center justify-center bg-secondary/30 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Visualization would render here"})})})]})}var nS=e.i(88113),nM=e.i(52917),nR=e.i(41240);let nz=(0,i.default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),nA=(0,i.default)("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),nE=(0,i.default)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),nI=(0,i.default)("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),nD=[{key:"promptOptimization",label:"Prompt Optimization",description:"Automatically enhance your prompts for better results",icon:nR.Lightbulb},{key:"outputValidation",label:"Output Validation",description:"Verify and fact-check AI responses",icon:nz},{key:"answerStructure",label:"Answer Structure",description:"Format responses with clear sections and examples",icon:nA},{key:"sharedMemory",label:"Shared Memory",description:"Access context from previous conversations",icon:nE},{key:"learnFromChat",label:"Learn from Chat",description:"Improve responses based on this conversation",icon:nI}];function nT({open:e,onOpenChange:r,settings:n,onSettingsChange:s}){return(0,t.jsx)(nM.Sheet,{open:e,onOpenChange:r,children:(0,t.jsxs)(nM.SheetContent,{side:"right",className:"w-[260px] sm:w-[280px] bg-card border-l border-border",children:[(0,t.jsx)(nM.SheetHeader,{className:"mb-6",children:(0,t.jsx)(nM.SheetTitle,{className:"text-lg font-semibold",children:"Advanced Tuning"})}),(0,t.jsx)("div",{className:"space-y-6",children:nD.map(e=>{let r=e.icon,a=n[e.key];return(0,t.jsxs)("div",{className:"flex items-start gap-4 p-4 rounded-lg border border-border bg-secondary/30 hover:bg-secondary/50 transition-colors",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center transition-colors ${a?"bg-[var(--bronze)]/20 text-[var(--bronze)]":"bg-muted text-muted-foreground"}`,children:(0,t.jsx)(r,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)(tO.Label,{htmlFor:e.key,className:"text-sm font-medium cursor-pointer",children:e.label}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:e.description})]}),(0,t.jsx)(tP,{id:e.key,checked:a,onCheckedChange:t=>s({[e.key]:t}),className:"data-[state=checked]:bg-[var(--bronze)]"})]},e.key)})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-8 text-center",children:"Settings are applied to your current and future chats"})]})})}let nP=(0,i.default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var nO=e.i(99002);function n$(){let[e,a]=(0,r.useState)([]),[l,i]=(0,r.useState)(null),[o,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null),[m,p]=(0,r.useState)([]),[h,f]=(0,r.useState)(nO.DEFAULT_ORCHESTRATOR_SETTINGS),[x,g]=(0,r.useState)(!1);(0,r.useEffect)(()=>{f((0,nO.loadOrchestratorSettings)()),g(!0)},[]);let[v,b]=(0,r.useState)(!1),[y,j]=(0,r.useState)(!1),[N,w]=(0,r.useState)(!1),[k,C]=(0,r.useState)(null),S=e.find(e=>e.id===l),M=()=>{let t={id:`conv-${Date.now()}`,title:"New Chat",messages:[],createdAt:new Date,updatedAt:new Date,model:"gpt-4o"};return a([t,...e]),i(t.id),d(!1),u(null),w(!1),t.id},R=t=>{i(t),w(!1);let r=e.find(e=>e.id===t),n=r?.messages.reverse().find(e=>e.artifact)?.artifact;n?(u(n),d(!0)):(d(!1),u(null))},z=e=>{a(t=>t.filter(t=>t.id!==e)),l===e&&(i(null),d(!1),u(null))},A=e=>{a(t=>t.map(t=>t.id===e?{...t,pinned:!t.pinned}:t))},E=(e,t)=>{a(r=>r.map(r=>r.id===e?{...r,title:t}:r))},I=(e,t)=>{console.log(`Moving conversation ${e} to project ${t}`)},D=()=>{console.log("Sign in triggered")},T=()=>{C(null)},P=()=>{i(null),d(!1),u(null),w(!1)},O=e=>{f(t=>{let r={...t,...e};return(0,nO.saveOrchestratorSettings)(r),r})},$=(0,t.jsx)(n.Sidebar,{conversations:e,currentConversationId:l,onNewChat:M,onSelectConversation:R,onDeleteConversation:z,onTogglePin:A,onRenameConversation:E,onMoveToProject:I,projects:m,collapsed:y,onToggleCollapse:()=>j(!y),onGoHome:P});return(0,t.jsxs)("div",{className:"flex h-full w-full bg-background relative",children:[(0,t.jsx)("div",{className:"hidden md:block h-full",children:$}),(0,t.jsxs)("div",{className:"md:hidden fixed top-0 left-0 right-0 z-50 h-14 border-b border-border bg-card/95 backdrop-blur-xl flex items-center justify-between px-4",children:[(0,t.jsxs)(nM.Sheet,{open:N,onOpenChange:w,children:[(0,t.jsx)(nM.SheetTrigger,{asChild:!0,children:(0,t.jsx)(s.Button,{variant:"ghost",size:"icon",className:"h-9 w-9",children:(0,t.jsx)(nP,{className:"h-5 w-5"})})}),(0,t.jsx)(nM.SheetContent,{side:"left",className:"p-0 w-72",children:(0,t.jsx)(n.Sidebar,{conversations:e,currentConversationId:l,onNewChat:M,onSelectConversation:R,onDeleteConversation:z,onTogglePin:A,onRenameConversation:E,onMoveToProject:I,projects:m,collapsed:!1,onToggleCollapse:()=>{},onGoHome:P})})]}),(0,t.jsx)("span",{className:"text-lg font-bold bg-gradient-to-r from-orange-500 to-[var(--gold)] bg-clip-text text-transparent",children:"LLMHive"}),(0,t.jsx)(nS.UserAccountMenu,{user:k,onSignIn:D,onSignOut:T})]}),(0,t.jsx)("div",{className:"flex flex-1 overflow-hidden md:pt-0 pt-14",children:l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(rz,{conversation:S,onSendMessage:e=>{let t=l;t||(t=M()),a(r=>r.map(r=>{if(r.id===t){let t=[...r.messages,e];return{...r,messages:t,updatedAt:new Date,title:"New Chat"===r.title&&"user"===e.role?e.content.slice(0,50):r.title}}return r})),e.artifact&&(u(e.artifact),d(!0))},onShowArtifact:e=>{u(e),d(!0)},orchestratorSettings:h,onOrchestratorSettingsChange:O,onOpenAdvancedSettings:()=>b(!0),userAccountMenu:(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)(nS.UserAccountMenu,{user:k,onSignIn:D,onSignOut:T})})}),o&&c&&(0,t.jsx)(nC,{artifact:c,onClose:()=>d(!1)})]}):(0,t.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[(0,t.jsx)("div",{className:"hidden md:flex items-center justify-end p-3 border-b border-border bg-card/50",children:(0,t.jsx)(nS.UserAccountMenu,{user:k,onSignIn:D,onSignOut:T})}),(0,t.jsx)("div",{className:"flex-1 h-full overflow-auto",children:(0,t.jsx)(rD,{onNewChat:M,onStartFromTemplate:e=>{let t={...nO.DEFAULT_ORCHESTRATOR_SETTINGS,...e};f(t),(0,nO.saveOrchestratorSettings)(t),M()}})})]})}),(0,t.jsx)(nT,{open:v,onOpenChange:b,settings:h,onSettingsChange:O})]})}e.s(["ChatInterface",()=>n$],78645)}]);