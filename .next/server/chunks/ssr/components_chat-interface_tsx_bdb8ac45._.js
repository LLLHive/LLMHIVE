module.exports=[58092,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(64756),e=a.i(40695),f=a.i(46893),g=a.i(46470),h=a.i(70106);let i=(0,h.default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),j=(0,h.default)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),k=(0,h.default)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);var l=a.i(33508);let m=(0,h.default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var n=a.i(4720),o=a.i(69520),p=a.i(8720),q=a.i(46774);let r={maxRetries:3,baseDelayMs:1e3,maxDelayMs:1e4,jitterFactor:.3};class s extends Error{status;code;details;retryInfo;constructor(a,b,c,d,e){super(a),this.status=b,this.code=c,this.details=d,this.name="ApiError",this.retryInfo=e}get retriesExhausted(){return this.retryInfo?.retriesExhausted??!1}}class t extends Error{cause;retryInfo;constructor(a,b,c){super(a),this.cause=b,this.name="NetworkError",this.retryInfo=c}get retriesExhausted(){return this.retryInfo?.retriesExhausted??!1}}class u extends Error{retryInfo;constructor(a="Request timed out",b){super(a),this.name="TimeoutError",this.retryInfo=b}get retriesExhausted(){return this.retryInfo?.retriesExhausted??!1}}async function v(a,b=r,c){let d,e=Date.now(),f=0;for(;f<=b.maxRetries;)try{return{result:await a(),retryInfo:{attempts:f,retriesExhausted:!1,totalRetryTimeMs:Date.now()-e}}}catch(h){var g;if(d=h instanceof Error?h:Error(String(h)),++f>b.maxRetries||!((g=h)instanceof u||g instanceof t||!(g instanceof s)||g.status>=500&&g.status<600||429===g.status)){let a={attempts:f-1,retriesExhausted:f>b.maxRetries,totalRetryTimeMs:Date.now()-e,lastError:d.message};throw h instanceof s||h instanceof t?h.retryInfo=a:h instanceof u&&(h.retryInfo=a),h}let a=function(a,b){let c=Math.min(b.baseDelayMs*Math.pow(2,a),b.maxDelayMs),d=c*b.jitterFactor*Math.random();return Math.floor(c+d)}(f-1,b);c&&c({attempt:f,maxAttempts:b.maxRetries+1,delayMs:a,error:d.message}),await function(a){return new Promise(b=>setTimeout(b,a))}(a)}throw d}async function w(a){try{let b=await a.json();return new s(b.error||b.detail||`Request failed: ${a.status}`,a.status,b.code,b)}catch{return new s(`Request failed: ${a.status} ${a.statusText}`,a.status)}}async function x(a,b,c=12e4){let d=new AbortController,e=setTimeout(()=>d.abort(),c);try{return await fetch(a,{...b,signal:d.signal})}catch(a){if(a instanceof Error&&"AbortError"===a.name)throw new u;throw new t("Failed to connect to server",a instanceof Error?a:void 0)}finally{clearTimeout(e)}}async function y(a,b){let{result:c,retryInfo:d}=await v(async()=>{let b=Date.now(),c=await x(q.API_ROUTES.CHAT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:a.messages.map(a=>({role:a.role,content:a.content})),models:a.models,model:a.models[0],orchestratorSettings:{...a.orchestratorSettings,selectedModels:a.models},chatId:a.chatId,userId:a.userId,projectId:a.projectId})},12e4);if(!c.ok)throw await w(c);let d=c.headers.get("X-Models-Used"),e=c.headers.get("X-Tokens-Used"),f=c.headers.get("X-Latency-Ms"),g=a.models;if(d)try{let a=JSON.parse(d).filter(a=>a&&"automatic"!==a);a.length>0&&(g=a)}catch{}let h=c.body?.getReader(),i=new TextDecoder,j="";if(h)for(;;){let{done:a,value:b}=await h.read();if(a)break;j+=i.decode(b)}return{content:j||"I apologize, but I couldn't generate a response.",modelsUsed:g,tokensUsed:e?parseInt(e,10):0,latencyMs:f?parseInt(f,10):Date.now()-b}},r,b);return{...c,retryInfo:d}}let z=(0,h.default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var A=a.i(33441);let B=(0,h.default)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),C=(0,h.default)("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]),D=(0,h.default)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);var E=a.i(54074);let F=(0,h.default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),G=(0,h.default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),H=(0,h.default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var I=a.i(97895);function J({message:a,onShowArtifact:d,onShowInsights:f,incognitoMode:g,onToggleIncognito:h}){let[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!1);return"user"===a.role?(0,b.jsxs)("div",{className:"flex gap-3 items-start justify-end",children:[(0,b.jsxs)("div",{className:"max-w-[80%] rounded-2xl bg-[var(--bronze)]/10 border border-[var(--bronze)]/20 p-4",children:[(0,b.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:a.content}),a.attachments&&a.attachments.length>0&&(0,b.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:a.attachments.map(a=>(0,b.jsx)("div",{className:"text-xs bg-secondary px-2 py-1 rounded",children:a.name},a.id))})]}),(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-muted to-muted-foreground/20 flex items-center justify-center flex-shrink-0",children:(0,b.jsx)("span",{className:"text-xs font-bold",children:"U"})})]}):(0,b.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,b.jsx)("div",{className:"flex flex-col gap-1",children:a.agents&&!g?(0,b.jsx)("div",{className:"flex flex-wrap gap-1 w-8",children:a.agents.slice(0,4).map(a=>(0,b.jsx)("div",{className:"w-3 h-3 rounded-sm bg-gradient-to-br from-[var(--bronze)] to-[var(--gold)] flex items-center justify-center",title:a.agentName,style:{clipPath:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)"}},a.agentId))}):(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[var(--bronze)] to-[var(--gold)] flex items-center justify-center flex-shrink-0 glow-effect",children:(0,b.jsx)("span",{className:"text-xs font-bold text-background",children:"AI"})})}),(0,b.jsxs)("div",{className:"flex-1 max-w-[85%]",children:[a.consensus&&(0,b.jsxs)("div",{className:"mb-2 inline-flex items-center gap-2 px-2 py-1 rounded-full bg-[var(--bronze)]/10 border border-[var(--bronze)]/20",children:[(0,b.jsx)("div",{className:(0,I.cn)("w-2 h-2 rounded-full",a.consensus.confidence>=80?"bg-green-500":"bg-yellow-500")}),(0,b.jsxs)("span",{className:"text-xs text-[var(--bronze)] font-medium",children:[a.consensus.confidence,"% consensus"]})]}),a.reasoning&&"deep"===a.reasoning.mode&&(0,b.jsxs)("div",{className:"mb-3 p-3 rounded-lg bg-secondary/50 border border-border",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("div",{className:"w-5 h-5 rounded bg-[var(--bronze)]/20 flex items-center justify-center",children:(0,b.jsx)(E.Code,{className:"h-3 w-3 text-[var(--bronze)]"})}),(0,b.jsx)("span",{className:"text-xs font-medium text-[var(--bronze)]",children:"Deep Reasoning Mode"})]}),a.reasoning.steps&&(0,b.jsx)("div",{className:"space-y-1",children:a.reasoning.steps.map((a,c)=>(0,b.jsxs)("div",{className:"text-xs text-muted-foreground flex items-start gap-2",children:[(0,b.jsxs)("span",{className:"text-[var(--bronze)] font-medium",children:[c+1,"."]}),(0,b.jsx)("span",{children:a})]},c))})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-card border border-border p-4",children:[(0,b.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:a.content}),a.citations&&a.citations.length>0&&(0,b.jsxs)("div",{className:"mt-3 pt-3 border-t border-border space-y-2",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground",children:"Sources:"}),a.citations.map((a,c)=>(0,b.jsxs)("div",{className:"text-xs flex items-start gap-2",children:[(0,b.jsxs)("span",{className:"font-mono text-[var(--bronze)]",children:["[",c+1,"]"]}),(0,b.jsx)("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"text-[var(--bronze)] hover:underline flex-1",children:a.source})]},a.id))]}),a.artifact&&(0,b.jsxs)("div",{className:"mt-4 p-3 rounded-lg bg-secondary border border-border hover:border-[var(--bronze)] transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-[var(--bronze)] to-[var(--gold)] flex items-center justify-center",children:(0,b.jsx)(E.Code,{className:"h-3 w-3 text-background"})}),(0,b.jsx)("span",{className:"text-sm font-medium",children:a.artifact.title})]}),(0,b.jsxs)(e.Button,{size:"sm",variant:"ghost",onClick:()=>d(a.artifact),className:"h-7 gap-1 hover:bg-[var(--bronze)]/10",children:[(0,b.jsx)(D,{className:"h-3 w-3"}),(0,b.jsx)("span",{className:"text-xs",children:"Open"})]})]}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:["code"===a.artifact.type&&`${a.artifact.language||"code"} artifact`,"document"===a.artifact.type&&"document artifact","visualization"===a.artifact.type&&"visualization artifact"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[(0,b.jsx)(e.Button,{size:"icon",variant:"ghost",className:"h-7 w-7",onClick:()=>{navigator.clipboard.writeText(a.content),j(!0),setTimeout(()=>j(!1),2e3)},children:i?(0,b.jsx)(A.Check,{className:"h-3 w-3"}):(0,b.jsx)(z,{className:"h-3 w-3"})}),(0,b.jsx)(e.Button,{size:"icon",variant:"ghost",className:(0,I.cn)("h-7 w-7",k&&"text-[var(--bronze)]"),onClick:()=>{l(!k),m&&n(!1)},children:(0,b.jsx)(B,{className:"h-3 w-3"})}),(0,b.jsx)(e.Button,{size:"icon",variant:"ghost",className:(0,I.cn)("h-7 w-7",m&&"text-destructive"),onClick:()=>{n(!m),k&&l(!1)},children:(0,b.jsx)(C,{className:"h-3 w-3"})}),(0,b.jsx)(e.Button,{size:"icon",variant:"ghost",className:"h-7 w-7",children:(0,b.jsx)(o.RefreshCw,{className:"h-3 w-3"})}),(0,b.jsx)(e.Button,{size:"icon",variant:"ghost",className:"h-7 w-7",children:(0,b.jsx)(F,{className:"h-3 w-3"})}),a.agents&&a.agents.length>0&&(0,b.jsxs)(e.Button,{size:"sm",variant:"ghost",className:"h-7 gap-1 hover:text-[var(--bronze)]",onClick:f,children:[(0,b.jsx)(G,{className:"h-3 w-3"}),(0,b.jsx)("span",{className:"text-xs",children:"Insights"})]}),(0,b.jsx)(e.Button,{size:"icon",variant:"ghost",className:(0,I.cn)("h-7 w-7 ml-auto",!g&&"text-[var(--bronze)]"),onClick:h,title:g?"Show agent contributions":"Hide agent contributions",children:g?(0,b.jsx)(H,{className:"h-3 w-3"}):(0,b.jsx)(G,{className:"h-3 w-3"})}),a.model&&(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:a.model})]})]})]})}function K({active:a,agentCount:d=6}){let[e,f]=(0,c.useState)(0);return((0,c.useEffect)(()=>{if(!a)return;let b=setInterval(()=>{f(a=>(a+1)%d)},300);return()=>clearInterval(b)},[a,d]),a)?(0,b.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-[var(--bronze)]/5 border-b border-[var(--bronze)]/10",children:[(0,b.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:d}).map((a,c)=>(0,b.jsx)("div",{className:(0,I.cn)("w-2 h-2 rounded-sm transition-all duration-300",c===e?"bg-[var(--bronze)] scale-125 rotate-45":"bg-[var(--bronze)]/30 rotate-45"),style:{clipPath:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)"}},c))}),(0,b.jsx)("span",{className:"text-xs text-[var(--bronze)] font-medium animate-pulse",children:"Hive mind processing..."})]}):null}var L=a.i(3314);let M=(0,h.default)("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),N=(0,h.default)("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);var O=a.i(8406),P=a.i(61545),Q=a.i(52495);let R=(0,h.default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),S=(0,h.default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var T=a.i(54161);let U={legal:M,code:E.Code,research:N,math:P.Brain,creative:O.Sparkles,general:L.Shield},V={legal:"from-blue-500 to-blue-600",code:"from-green-500 to-green-600",research:"from-purple-500 to-purple-600",math:"from-orange-500 to-orange-600",creative:"from-pink-500 to-pink-600",general:"from-gray-500 to-gray-600"};function W({agents:a,consensus:c,citations:d,onClose:f}){return(0,b.jsxs)("div",{className:"absolute top-0 right-0 h-full w-96 bg-background border-l border-border shadow-2xl flex flex-col z-50 animate-in slide-in-from-right duration-300",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:"Agent Insights"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Multi-agent collaboration details"})]}),(0,b.jsx)(e.Button,{size:"icon",variant:"ghost",onClick:f,children:(0,b.jsx)(l.X,{className:"h-4 w-4"})})]}),(0,b.jsxs)(g.ScrollArea,{className:"flex-1 p-4",children:[(0,b.jsxs)("div",{className:"mb-6 p-4 rounded-lg bg-gradient-to-br from-[var(--bronze)]/10 to-[var(--gold)]/10 border border-[var(--bronze)]/20",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:"Consensus Confidence"}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[c.confidence>=80?(0,b.jsx)(R,{className:"h-4 w-4 text-green-500"}):(0,b.jsx)(S,{className:"h-4 w-4 text-yellow-500"}),(0,b.jsxs)("span",{className:"text-lg font-bold text-[var(--bronze)]",children:[c.confidence,"%"]})]})]}),(0,b.jsx)("div",{className:"w-full h-2 bg-secondary rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bronze-gradient transition-all duration-500",style:{width:`${c.confidence}%`}})}),c.debateOccurred&&c.consensusNote&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-3 leading-relaxed",children:c.consensusNote})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-1 h-4 bg-[var(--bronze)] rounded-full"}),"Contributing Agents (",a.length,")"]}),(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>{let c=U[a.agentType],d=V[a.agentType];return(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-card border border-border hover:border-[var(--bronze)]/30 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 mb-2",children:[(0,b.jsx)("div",{className:(0,I.cn)("w-8 h-8 rounded-lg bg-gradient-to-br flex items-center justify-center flex-shrink-0",d),children:(0,b.jsx)(c,{className:"h-4 w-4 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsx)("span",{className:"font-medium text-sm",children:a.agentName}),(0,b.jsxs)(T.Badge,{variant:"outline",className:"text-xs",children:[a.confidence,"% confidence"]})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground leading-relaxed",children:a.contribution})]})]}),a.citations&&a.citations.length>0&&(0,b.jsx)("div",{className:"mt-2 pl-11 space-y-1",children:a.citations.map(a=>(0,b.jsxs)("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs text-[var(--bronze)] hover:underline",children:[(0,b.jsx)(Q.ExternalLink,{className:"h-3 w-3"}),a.source]},a.id))})]},a.agentId)})})]}),d&&d.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-1 h-4 bg-[var(--bronze)] rounded-full"}),"Sources & Citations (",d.length,")"]}),(0,b.jsx)("div",{className:"space-y-2",children:d.map((a,c)=>(0,b.jsx)("div",{className:"p-3 rounded-lg bg-secondary border border-border",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsxs)("span",{className:"text-xs font-mono text-[var(--bronze)] mt-0.5",children:["[",c+1,"]"]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs mb-1 leading-relaxed",children:a.text}),(0,b.jsxs)("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-muted-foreground hover:text-[var(--bronze)] flex items-center gap-1",children:[(0,b.jsx)(Q.ExternalLink,{className:"h-3 w-3"}),a.source,a.verified&&(0,b.jsx)(R,{className:"h-3 w-3 text-green-500 ml-1"})]})]})]})},a.id))})]})]})]})}var X=a.i(76504);let Y=(0,h.default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var Z=a.i(1027);let $=(0,h.default)("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);var _=a.i(60246),aa=a.i(46842);let ab=(0,h.default)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var ac=a.i(94392),ad=a.i(79808),ae=a.i(36526);let af=(0,h.default)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var ag=a.i(54347),ah=a.i(44010);function ai(a,b,{checkForDefaultPrevented:c=!0}={}){return function(d){if(a?.(d),!1===c||!d.defaultPrevented)return b?.(d)}}function aj(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}function ak(...a){return b=>{let c=!1,d=a.map(a=>{let d=aj(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():aj(a[b],null)}}}}function al(...a){return c.useCallback(ak(...a),a)}function am(a,d=[]){let e=[],f=()=>{let b=e.map(a=>c.createContext(a));return function(d){let e=d?.[a]||b;return c.useMemo(()=>({[`__scope${a}`]:{...d,[a]:e}}),[d,e])}};return f.scopeName=a,[function(d,f){let g=c.createContext(f),h=e.length;e=[...e,f];let i=d=>{let{scope:e,children:f,...i}=d,j=e?.[a]?.[h]||g,k=c.useMemo(()=>i,Object.values(i));return(0,b.jsx)(j.Provider,{value:k,children:f})};return i.displayName=d+"Provider",[i,function(b,e){let i=e?.[a]?.[h]||g,j=c.useContext(i);if(j)return j;if(void 0!==f)return f;throw Error(`\`${b}\` must be used within \`${d}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let d=()=>{let d=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=d.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return c.useMemo(()=>({[`__scope${b.scopeName}`]:e}),[e])}};return d.scopeName=b.scopeName,d}(f,...d)]}var an=a.i(96743),ao=a.i(86228),ap=a.i(22297),aq=a.i(72752),ar=c[" useId ".trim().toString()]||(()=>void 0),as=0,at=a.i(90442),au=a.i(94417);function av(a){var d;let e,f=(d=a,(e=c.forwardRef((a,b)=>{let{children:d,...e}=a;if(c.isValidElement(d)){var f;let a,g,h=(f=d,(g=(a=Object.getOwnPropertyDescriptor(f.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?f.ref:(g=(a=Object.getOwnPropertyDescriptor(f,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?f.props.ref:f.props.ref||f.ref),i=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(e,d.props);return d.type!==c.Fragment&&(i.ref=b?ak(b,h):h),c.cloneElement(d,i)}return c.Children.count(d)>1?c.Children.only(null):null})).displayName=`${d}.SlotClone`,e),g=c.forwardRef((a,d)=>{let{children:e,...g}=a,h=c.Children.toArray(e),i=h.find(ax);if(i){let a=i.props.children,e=h.map(b=>b!==i?b:c.Children.count(a)>1?c.Children.only(null):c.isValidElement(a)?a.props.children:null);return(0,b.jsx)(f,{...g,ref:d,children:c.isValidElement(a)?c.cloneElement(a,void 0,e):null})}return(0,b.jsx)(f,{...g,ref:d,children:e})});return g.displayName=`${a}.Slot`,g}a.i(35112);var aw=Symbol("radix.slottable");function ax(a){return c.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===aw}var ay=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,d)=>{let e=av(`Primitive.${d}`),f=c.forwardRef((a,c)=>{let{asChild:f,...g}=a;return(0,b.jsx)(f?e:d,{...g,ref:c})});return f.displayName=`Primitive.${d}`,{...a,[d]:f}},{}),az=c.forwardRef((a,c)=>{let{children:d,width:e=10,height:f=5,...g}=a;return(0,b.jsx)(ay.svg,{...g,ref:c,width:e,height:f,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:a.asChild?d:(0,b.jsx)("polygon",{points:"0,0 30,0 15,10"})})});az.displayName="Arrow";var aA=a.i(46872),aB=a.i(3688),aC="Popper",[aD,aE]=am(aC),[aF,aG]=aD(aC),aH=a=>{let{__scopePopper:d,children:e}=a,[f,g]=c.useState(null);return(0,b.jsx)(aF,{scope:d,anchor:f,onAnchorChange:g,children:e})};aH.displayName=aC;var aI="PopperAnchor",aJ=c.forwardRef((a,d)=>{let{__scopePopper:e,virtualRef:f,...g}=a,h=aG(aI,e),i=c.useRef(null),j=al(d,i),k=c.useRef(null);return c.useEffect(()=>{let a=k.current;k.current=f?.current||i.current,a!==k.current&&h.onAnchorChange(k.current)}),f?null:(0,b.jsx)(ay.div,{...g,ref:j})});aJ.displayName=aI;var aK="PopperContent",[aL,aM]=aD(aK),aN=c.forwardRef((a,d)=>{let{__scopePopper:e,side:f="bottom",sideOffset:g=0,align:h="center",alignOffset:i=0,arrowPadding:j=0,avoidCollisions:k=!0,collisionBoundary:l=[],collisionPadding:m=0,sticky:n="partial",hideWhenDetached:o=!1,updatePositionStrategy:p="optimized",onPlaced:q,...r}=a,s=aG(aK,e),[t,u]=c.useState(null),v=al(d,a=>u(a)),[w,x]=c.useState(null),y=(0,aB.useSize)(w),z=y?.width??0,A=y?.height??0,B="number"==typeof m?m:{top:0,right:0,bottom:0,left:0,...m},C=Array.isArray(l)?l:[l],D=C.length>0,E={padding:B,boundary:C.filter(aR),altBoundary:D},{refs:F,floatingStyles:G,placement:H,isPositioned:I,middlewareData:J}=(0,at.useFloating)({strategy:"fixed",placement:f+("center"!==h?"-"+h:""),whileElementsMounted:(...a)=>(0,au.autoUpdate)(...a,{animationFrame:"always"===p}),elements:{reference:s.anchor},middleware:[(0,at.offset)({mainAxis:g+A,alignmentAxis:i}),k&&(0,at.shift)({mainAxis:!0,crossAxis:!1,limiter:"partial"===n?(0,at.limitShift)():void 0,...E}),k&&(0,at.flip)({...E}),(0,at.size)({...E,apply:({elements:a,rects:b,availableWidth:c,availableHeight:d})=>{let{width:e,height:f}=b.reference,g=a.floating.style;g.setProperty("--radix-popper-available-width",`${c}px`),g.setProperty("--radix-popper-available-height",`${d}px`),g.setProperty("--radix-popper-anchor-width",`${e}px`),g.setProperty("--radix-popper-anchor-height",`${f}px`)}}),w&&(0,at.arrow)({element:w,padding:j}),aS({arrowWidth:z,arrowHeight:A}),o&&(0,at.hide)({strategy:"referenceHidden",...E})]}),[K,L]=aT(H),M=(0,aA.useCallbackRef)(q);(0,aq.useLayoutEffect)(()=>{I&&M?.()},[I,M]);let N=J.arrow?.x,O=J.arrow?.y,P=J.arrow?.centerOffset!==0,[Q,R]=c.useState();return(0,aq.useLayoutEffect)(()=>{t&&R(window.getComputedStyle(t).zIndex)},[t]),(0,b.jsx)("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:I?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[J.transformOrigin?.x,J.transformOrigin?.y].join(" "),...J.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:a.dir,children:(0,b.jsx)(aL,{scope:e,placedSide:K,onArrowChange:x,arrowX:N,arrowY:O,shouldHideArrow:P,children:(0,b.jsx)(ay.div,{"data-side":K,"data-align":L,...r,ref:v,style:{...r.style,animation:I?void 0:"none"}})})})});aN.displayName=aK;var aO="PopperArrow",aP={top:"bottom",right:"left",bottom:"top",left:"right"},aQ=c.forwardRef(function(a,c){let{__scopePopper:d,...e}=a,f=aM(aO,d),g=aP[f.placedSide];return(0,b.jsx)("span",{ref:f.onArrowChange,style:{position:"absolute",left:f.arrowX,top:f.arrowY,[g]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[f.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[f.placedSide],visibility:f.shouldHideArrow?"hidden":void 0},children:(0,b.jsx)(az,{...e,ref:c,style:{...e.style,display:"block"}})})});function aR(a){return null!==a}aQ.displayName=aO;var aS=a=>({name:"transformOrigin",options:a,fn(b){let{placement:c,rects:d,middlewareData:e}=b,f=e.arrow?.centerOffset!==0,g=f?0:a.arrowWidth,h=f?0:a.arrowHeight,[i,j]=aT(c),k={start:"0%",center:"50%",end:"100%"}[j],l=(e.arrow?.x??0)+g/2,m=(e.arrow?.y??0)+h/2,n="",o="";return"bottom"===i?(n=f?k:`${l}px`,o=`${-h}px`):"top"===i?(n=f?k:`${l}px`,o=`${d.floating.height+h}px`):"right"===i?(n=`${-h}px`,o=f?k:`${m}px`):"left"===i&&(n=`${d.floating.width+h}px`,o=f?k:`${m}px`),{data:{x:n,y:o}}}});function aT(a){let[b,c="center"]=a.split("-");return[b,c]}var aU=a.i(92616),aV=a.i(77192);a.i(35412);var aW=c[" useInsertionEffect ".trim().toString()]||aq.useLayoutEffect;Symbol("RADIX:SYNC_STATE");var aX=a.i(41852),aY=a.i(52081),aZ="Popover",[a$,a_]=am(aZ,[aE]),a0=aE(),[a1,a2]=a$(aZ),a3=a=>{let{__scopePopover:d,children:e,open:f,defaultOpen:g,onOpenChange:h,modal:i=!1}=a,j=a0(d),k=c.useRef(null),[l,m]=c.useState(!1),[n,o]=function({prop:a,defaultProp:b,onChange:d=()=>{},caller:e}){let[f,g,h]=function({defaultProp:a,onChange:b}){let[d,e]=c.useState(a),f=c.useRef(d),g=c.useRef(b);return aW(()=>{g.current=b},[b]),c.useEffect(()=>{f.current!==d&&(g.current?.(d),f.current=d)},[d,f]),[d,e,g]}({defaultProp:b,onChange:d}),i=void 0!==a,j=i?a:f;{let b=c.useRef(void 0!==a);c.useEffect(()=>{let a=b.current;if(a!==i){let b=i?"controlled":"uncontrolled";console.warn(`${e} is changing from ${a?"controlled":"uncontrolled"} to ${b}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}b.current=i},[i,e])}return[j,c.useCallback(b=>{if(i){let c="function"==typeof b?b(a):b;c!==a&&h.current?.(c)}else g(b)},[i,a,g,h])]}({prop:f,defaultProp:g??!1,onChange:h,caller:aZ});return(0,b.jsx)(aH,{...j,children:(0,b.jsx)(a1,{scope:d,contentId:function(a){let[b,d]=c.useState(ar());return(0,aq.useLayoutEffect)(()=>{d(a=>a??String(as++))},[void 0]),b?`radix-${b}`:""}(),triggerRef:k,open:n,onOpenChange:o,onOpenToggle:c.useCallback(()=>o(a=>!a),[o]),hasCustomAnchor:l,onCustomAnchorAdd:c.useCallback(()=>m(!0),[]),onCustomAnchorRemove:c.useCallback(()=>m(!1),[]),modal:i,children:e})})};a3.displayName=aZ;var a4="PopoverAnchor";c.forwardRef((a,d)=>{let{__scopePopover:e,...f}=a,g=a2(a4,e),h=a0(e),{onCustomAnchorAdd:i,onCustomAnchorRemove:j}=g;return c.useEffect(()=>(i(),()=>j()),[i,j]),(0,b.jsx)(aJ,{...h,...f,ref:d})}).displayName=a4;var a5="PopoverTrigger",a6=c.forwardRef((a,c)=>{let{__scopePopover:d,...e}=a,f=a2(a5,d),g=a0(d),h=al(c,f.triggerRef),i=(0,b.jsx)(ay.button,{type:"button","aria-haspopup":"dialog","aria-expanded":f.open,"aria-controls":f.contentId,"data-state":bi(f.open),...e,ref:h,onClick:ai(a.onClick,f.onOpenToggle)});return f.hasCustomAnchor?i:(0,b.jsx)(aJ,{asChild:!0,...g,children:i})});a6.displayName=a5;var a7="PopoverPortal",[a8,a9]=a$(a7,{forceMount:void 0}),ba=a=>{let{__scopePopover:c,forceMount:d,children:e,container:f}=a,g=a2(a7,c);return(0,b.jsx)(a8,{scope:c,forceMount:d,children:(0,b.jsx)(aV.Presence,{present:d||g.open,children:(0,b.jsx)(aU.Portal,{asChild:!0,container:f,children:e})})})};ba.displayName=a7;var bb="PopoverContent",bc=c.forwardRef((a,c)=>{let d=a9(bb,a.__scopePopover),{forceMount:e=d.forceMount,...f}=a,g=a2(bb,a.__scopePopover);return(0,b.jsx)(aV.Presence,{present:e||g.open,children:g.modal?(0,b.jsx)(be,{...f,ref:c}):(0,b.jsx)(bf,{...f,ref:c})})});bc.displayName=bb;var bd=av("PopoverContent.RemoveScroll"),be=c.forwardRef((a,d)=>{let e=a2(bb,a.__scopePopover),f=c.useRef(null),g=al(d,f),h=c.useRef(!1);return c.useEffect(()=>{let a=f.current;if(a)return(0,aX.hideOthers)(a)},[]),(0,b.jsx)(aY.RemoveScroll,{as:bd,allowPinchZoom:!0,children:(0,b.jsx)(bg,{...a,ref:g,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ai(a.onCloseAutoFocus,a=>{a.preventDefault(),h.current||e.triggerRef.current?.focus()}),onPointerDownOutside:ai(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;h.current=2===b.button||c},{checkForDefaultPrevented:!1}),onFocusOutside:ai(a.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),bf=c.forwardRef((a,d)=>{let e=a2(bb,a.__scopePopover),f=c.useRef(!1),g=c.useRef(!1);return(0,b.jsx)(bg,{...a,ref:d,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(f.current||e.triggerRef.current?.focus(),b.preventDefault()),f.current=!1,g.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(f.current=!0,"pointerdown"===b.detail.originalEvent.type&&(g.current=!0));let c=b.target;e.triggerRef.current?.contains(c)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&g.current&&b.preventDefault()}})}),bg=c.forwardRef((a,c)=>{let{__scopePopover:d,trapFocus:e,onOpenAutoFocus:f,onCloseAutoFocus:g,disableOutsidePointerEvents:h,onEscapeKeyDown:i,onPointerDownOutside:j,onFocusOutside:k,onInteractOutside:l,...m}=a,n=a2(bb,d),o=a0(d);return(0,ao.useFocusGuards)(),(0,b.jsx)(ap.FocusScope,{asChild:!0,loop:!0,trapped:e,onMountAutoFocus:f,onUnmountAutoFocus:g,children:(0,b.jsx)(an.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:h,onInteractOutside:l,onEscapeKeyDown:i,onPointerDownOutside:j,onFocusOutside:k,onDismiss:()=>n.onOpenChange(!1),children:(0,b.jsx)(aN,{"data-state":bi(n.open),role:"dialog",id:n.contentId,...o,...m,ref:c,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),bh="PopoverClose";function bi(a){return a?"open":"closed"}c.forwardRef((a,c)=>{let{__scopePopover:d,...e}=a,f=a2(bh,d);return(0,b.jsx)(ay.button,{type:"button",...e,ref:c,onClick:ai(a.onClick,()=>f.onOpenChange(!1))})}).displayName=bh,c.forwardRef((a,c)=>{let{__scopePopover:d,...e}=a,f=a0(d);return(0,b.jsx)(aQ,{...f,...e,ref:c})}).displayName="PopoverArrow";let bj=c.forwardRef(({className:a,align:c="center",sideOffset:d=4,...e},f)=>(0,b.jsx)(ba,{children:(0,b.jsx)(bc,{ref:f,align:c,sideOffset:d,className:(0,I.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...e})}));function bk({settings:a,onChange:d}){let[f,g]=(0,c.useState)(!1);return(0,b.jsxs)(a3,{open:f,onOpenChange:g,children:[(0,b.jsx)(a6,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"ghost",size:"sm",className:(0,I.cn)("gap-2 h-7 px-2.5 text-[11px] bg-transparent border border-border rounded-md text-foreground transition-all duration-300 [&:hover]:bg-[#cd7f32] [&:hover]:border-[#cd7f32] [&:hover]:text-black",f&&"bg-[#cd7f32] border-[#cd7f32] text-black"),children:[(0,b.jsx)(ae.Sliders,{className:"h-3.5 w-3.5"}),(0,b.jsx)("span",{className:"text-[11px]",children:"Tuning"})]})}),(0,b.jsx)(bj,{className:"w-80 z-[600]",align:"start",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-sm mb-1",children:"Dynamic Criteria Equalizer"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Adjust how the AI hive balances accuracy, speed, and creativity"})]}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[{name:"Balanced",accuracy:70,speed:70,creativity:50},{name:"Fast",accuracy:50,speed:100,creativity:30},{name:"Precise",accuracy:100,speed:30,creativity:40},{name:"Creative",accuracy:60,speed:60,creativity:100}].map(a=>(0,b.jsx)(e.Button,{variant:"outline",size:"sm",className:"text-xs h-auto py-2 bg-transparent",onClick:()=>d(a),children:a.name},a.name))}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-6 h-6 rounded bg-blue-500/20 flex items-center justify-center",children:(0,b.jsx)(af,{className:"h-3 w-3 text-blue-500"})}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Accuracy"})]}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:[a.accuracy,"%"]})]}),(0,b.jsx)(ah.Slider,{value:[a.accuracy],onValueChange:([b])=>d({...a,accuracy:b}),max:100,step:10,className:"[&_[role=slider]]:bg-blue-500 [&_[role=slider]]:border-blue-500"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-6 h-6 rounded bg-green-500/20 flex items-center justify-center",children:(0,b.jsx)(Z.Zap,{className:"h-3 w-3 text-green-500"})}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Speed"})]}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:[a.speed,"%"]})]}),(0,b.jsx)(ah.Slider,{value:[a.speed],onValueChange:([b])=>d({...a,speed:b}),max:100,step:10,className:"[&_[role=slider]]:bg-green-500 [&_[role=slider]]:border-green-500"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-6 h-6 rounded bg-purple-500/20 flex items-center justify-center",children:(0,b.jsx)(ag.Palette,{className:"h-3 w-3 text-purple-500"})}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Creativity"})]}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:[a.creativity,"%"]})]}),(0,b.jsx)(ah.Slider,{value:[a.creativity],onValueChange:([b])=>d({...a,creativity:b}),max:100,step:10,className:"[&_[role=slider]]:bg-purple-500 [&_[role=slider]]:border-purple-500"})]})]})})]})}bj.displayName=bc.displayName;var bl=a.i(71987);let bm=[{value:"fast",label:"Fast",icon:Z.Zap},{value:"standard",label:"Standard",icon:P.Brain},{value:"deep",label:"Deep",icon:$}],bn=[{value:"default",label:"Default"},{value:"medical",label:"Medical"},{value:"legal",label:"Legal"},{value:"marketing",label:"Marketing"},{value:"coding",label:"Coding"},{value:"research",label:"Research"},{value:"finance",label:"Finance"}],bo=[{value:"automatic",label:"Automatic",description:"Let the orchestrator choose the best method"},{value:"chain-of-thought",label:"Chain of Thought",description:"Step-by-step reasoning"},{value:"tree-of-thought",label:"Tree of Thought",description:"Explore multiple paths"},{value:"graph-of-thought",label:"Graph of Thought",description:"Non-linear reasoning graph"},{value:"algorithm-of-thought",label:"Algorithm of Thought",description:"Algorithmic problem solving"},{value:"skeleton-of-thought",label:"Skeleton of Thought",description:"Parallel skeleton expansion"},{value:"self-consistency",label:"Self Consistency",description:"Multiple samples, vote"},{value:"cumulative-reasoning",label:"Cumulative Reasoning",description:"Build on prior conclusions"},{value:"meta-prompting",label:"Meta Prompting",description:"LLM orchestrates sub-LLMs"},{value:"react",label:"ReAct",description:"Reason + Act iteratively"},{value:"reflexion",label:"Reflexion",description:"Self-reflection loop"},{value:"least-to-most",label:"Least to Most",description:"Decompose problems"},{value:"plan-and-solve",label:"Plan and Solve",description:"Plan then execute"}],bp=[{value:"vector-rag",label:"Vector DB + RAG",description:"Retrieval augmented generation"},{value:"mcp-server",label:"MCP Server + Tools",description:"Model context protocol"},{value:"personal-database",label:"Personal Database",description:"Your private knowledge base"},{value:"modular-answer-feed",label:"Modular Answer Feed",description:"Internal LLM routing"},{value:"memory-augmentation",label:"Memory Augmentation",description:"Long-term memory"},{value:"tool-use",label:"Tool Use",description:"External tool integration"},{value:"code-interpreter",label:"Code Interpreter",description:"Execute code in sandbox"}];function bq({settings:a,onSettingsChange:d,onOpenAdvanced:f}){let[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1),m=bm.find(b=>b.value===a.reasoningMode)||bm[1],n=bn.find(b=>b.value===a.domainPack)||bn[0],o=m.icon,q=a.selectedModels||["automatic"],r=a.advancedReasoningMethods||[],s=a.advancedFeatures||[];return(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsxs)(X.DropdownMenu,{open:g,onOpenChange:h,children:[(0,b.jsx)(X.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"ghost",size:"sm",className:"gap-1.5 h-8 px-3 text-xs bg-secondary/50 border border-border rounded-lg hover:bg-secondary hover:border-[var(--bronze)]",children:[(0,b.jsx)(ac.Cpu,{className:"h-3.5 w-3.5"}),(0,b.jsxs)("span",{className:"hidden sm:inline",children:["Models (",q.length,")"]}),(0,b.jsx)("span",{className:"sm:hidden",children:q.length}),(0,b.jsx)(Y,{className:"h-3 w-3 opacity-50"})]})}),(0,b.jsx)(X.DropdownMenuContent,{align:"start",className:"w-56 max-h-80 overflow-y-auto",children:p.AVAILABLE_MODELS.map(c=>{let e=q.includes(c.id);return(0,b.jsxs)(X.DropdownMenuItem,{onSelect:b=>{var e;let f;b.preventDefault(),e=c.id,(f=a.selectedModels||[]).includes(e)?f.length>1&&d({selectedModels:f.filter(a=>a!==e)}):d({selectedModels:[...f,e]})},className:"gap-2 cursor-pointer",children:[(0,b.jsx)("div",{className:"w-5 h-5 relative flex-shrink-0",children:(0,b.jsx)(bl.default,{src:(0,p.getModelLogo)(c.provider)||"/placeholder.svg",alt:c.provider,fill:!0,className:"object-contain"})}),(0,b.jsx)("span",{className:"flex-1",children:c.name}),e&&(0,b.jsx)(A.Check,{className:"h-4 w-4 text-[var(--bronze)]"})]},c.id)})})]}),(0,b.jsxs)(X.DropdownMenu,{open:i,onOpenChange:j,children:[(0,b.jsx)(X.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"ghost",size:"sm",className:"gap-1.5 h-8 px-3 text-xs bg-secondary/50 border border-border rounded-lg hover:bg-secondary hover:border-[var(--bronze)]",children:[(0,b.jsx)(O.Sparkles,{className:"h-3.5 w-3.5"}),(0,b.jsxs)("span",{className:"hidden sm:inline",children:["Reasoning ",r.length>0?`(${r.length})`:""]}),(0,b.jsx)("span",{className:"sm:hidden",children:r.length>0?r.length:"R"}),(0,b.jsx)(Y,{className:"h-3 w-3 opacity-50"})]})}),(0,b.jsx)(X.DropdownMenuContent,{align:"start",className:"w-56 max-h-80 overflow-y-auto",children:bo.map(c=>{let e=r.includes(c.value);return(0,b.jsxs)(X.DropdownMenuItem,{onSelect:b=>{var e;let f;b.preventDefault(),e=c.value,(f=a.advancedReasoningMethods||[]).includes(e)?d({advancedReasoningMethods:f.filter(a=>a!==e)}):d({advancedReasoningMethods:[...f,e]})},className:"flex flex-col items-start gap-0.5 cursor-pointer",children:[(0,b.jsxs)("div",{className:"flex items-center w-full gap-2",children:[(0,b.jsx)("span",{className:"flex-1 font-medium",children:c.label}),e&&(0,b.jsx)(A.Check,{className:"h-4 w-4 text-[var(--bronze)]"})]}),(0,b.jsx)("span",{className:"text-[10px] text-muted-foreground",children:c.description})]},c.value)})})]}),(0,b.jsxs)(X.DropdownMenu,{open:k,onOpenChange:l,children:[(0,b.jsx)(X.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"ghost",size:"sm",className:"gap-1.5 h-8 px-3 text-xs bg-secondary/50 border border-border rounded-lg hover:bg-secondary hover:border-[var(--bronze)]",children:[(0,b.jsx)(ad.Wrench,{className:"h-3.5 w-3.5"}),(0,b.jsxs)("span",{className:"hidden sm:inline",children:["Features ",s.length>0?`(${s.length})`:""]}),(0,b.jsx)("span",{className:"sm:hidden",children:s.length>0?s.length:"F"}),(0,b.jsx)(Y,{className:"h-3 w-3 opacity-50"})]})}),(0,b.jsx)(X.DropdownMenuContent,{align:"start",className:"w-56 max-h-80 overflow-y-auto",children:bp.map(c=>{let e=s.includes(c.value);return(0,b.jsxs)(X.DropdownMenuItem,{onSelect:b=>{var e;let f;b.preventDefault(),e=c.value,(f=a.advancedFeatures||[]).includes(e)?d({advancedFeatures:f.filter(a=>a!==e)}):d({advancedFeatures:[...f,e]})},className:"flex flex-col items-start gap-0.5 cursor-pointer",children:[(0,b.jsxs)("div",{className:"flex items-center w-full gap-2",children:[(0,b.jsx)("span",{className:"flex-1 font-medium",children:c.label}),e&&(0,b.jsx)(A.Check,{className:"h-4 w-4 text-[var(--bronze)]"})]}),(0,b.jsx)("span",{className:"text-[10px] text-muted-foreground",children:c.description})]},c.value)})})]}),(0,b.jsxs)(X.DropdownMenu,{children:[(0,b.jsx)(X.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"ghost",size:"sm",className:"gap-1.5 h-8 px-3 text-xs bg-secondary/50 border border-border rounded-lg hover:bg-secondary hover:border-[var(--bronze)]",children:[(0,b.jsx)(o,{className:"h-3.5 w-3.5"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:m.label}),(0,b.jsx)(Y,{className:"h-3 w-3 opacity-50"})]})}),(0,b.jsx)(X.DropdownMenuContent,{align:"start",className:"w-40",children:bm.map(c=>{let e=c.icon;return(0,b.jsxs)(X.DropdownMenuItem,{onClick:()=>d({reasoningMode:c.value}),className:"gap-2",children:[(0,b.jsx)(e,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:c.label}),a.reasoningMode===c.value&&(0,b.jsx)("span",{className:"ml-auto text-[var(--bronze)]",children:"•"})]},c.value)})})]}),(0,b.jsxs)(X.DropdownMenu,{children:[(0,b.jsx)(X.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"ghost",size:"sm",className:"gap-1.5 h-8 px-3 text-xs bg-secondary/50 border border-border rounded-lg hover:bg-secondary hover:border-[var(--bronze)]",children:[(0,b.jsx)("span",{className:"hidden sm:inline",children:n.label}),(0,b.jsx)("span",{className:"sm:hidden",children:"Domain"}),(0,b.jsx)(Y,{className:"h-3 w-3 opacity-50"})]})}),(0,b.jsx)(X.DropdownMenuContent,{align:"start",className:"w-40",children:bn.map(c=>(0,b.jsxs)(X.DropdownMenuItem,{onClick:()=>d({domainPack:c.value}),className:"gap-2",children:[(0,b.jsx)("span",{children:c.label}),a.domainPack===c.value&&(0,b.jsx)("span",{className:"ml-auto text-[var(--bronze)]",children:"•"})]},c.value))})]}),(0,b.jsxs)(e.Button,{variant:"ghost",size:"sm",onClick:()=>d({agentMode:"single"===a.agentMode?"team":"single"}),className:`gap-1.5 h-8 px-3 text-xs border rounded-lg transition-colors ${"team"===a.agentMode?"bg-[var(--bronze)]/20 border-[var(--bronze)] text-[var(--bronze)]":"bg-secondary/50 border-border hover:bg-secondary hover:border-[var(--bronze)]"}`,children:["team"===a.agentMode?(0,b.jsx)(_.Users,{className:"h-3.5 w-3.5"}):(0,b.jsx)(aa.User,{className:"h-3.5 w-3.5"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"team"===a.agentMode?"Team":"Single"})]}),(0,b.jsx)(bk,{settings:a.criteria||{accuracy:70,speed:70,creativity:50},onChange:a=>d({criteria:a})}),(0,b.jsxs)(e.Button,{variant:"ghost",size:"sm",onClick:f,className:"gap-1.5 h-8 px-3 text-xs bg-secondary/50 border border-border rounded-lg hover:bg-secondary hover:border-[var(--bronze)]",children:[(0,b.jsx)(ab,{className:"h-3.5 w-3.5"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Advanced"})]})]})}function br(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}function bs(...a){return b=>{let c=!1,d=a.map(a=>{let d=br(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():br(a[b],null)}}}}function bt(...a){return c.useCallback(bs(...a),a)}var bu=c[" useInsertionEffect ".trim().toString()]||aq.useLayoutEffect;Symbol("RADIX:SYNC_STATE");var bv=a.i(77994),bw=Symbol("radix.slottable");function bx(a){return c.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===bw}var by=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,d)=>{var e,f;let g,h,i,j=(f=e=`Primitive.${d}`,(g=c.forwardRef((a,b)=>{let{children:d,...e}=a;if(c.isValidElement(d)){var f;let a,g,h=(f=d,(g=(a=Object.getOwnPropertyDescriptor(f.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?f.ref:(g=(a=Object.getOwnPropertyDescriptor(f,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?f.props.ref:f.props.ref||f.ref),i=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(e,d.props);return d.type!==c.Fragment&&(i.ref=b?bs(b,h):h),c.cloneElement(d,i)}return c.Children.count(d)>1?c.Children.only(null):null})).displayName=`${f}.SlotClone`,h=g,(i=c.forwardRef((a,d)=>{let{children:e,...f}=a,g=c.Children.toArray(e),i=g.find(bx);if(i){let a=i.props.children,e=g.map(b=>b!==i?b:c.Children.count(a)>1?c.Children.only(null):c.isValidElement(a)?a.props.children:null);return(0,b.jsx)(h,{...f,ref:d,children:c.isValidElement(a)?c.cloneElement(a,void 0,e):null})}return(0,b.jsx)(h,{...f,ref:d,children:e})})).displayName=`${e}.Slot`,i),k=c.forwardRef((a,c)=>{let{asChild:e,...f}=a;return(0,b.jsx)(e?j:d,{...f,ref:c})});return k.displayName=`Primitive.${d}`,{...a,[d]:k}},{}),bz="Switch",[bA,bB]=function(a,d=[]){let e=[],f=()=>{let b=e.map(a=>c.createContext(a));return function(d){let e=d?.[a]||b;return c.useMemo(()=>({[`__scope${a}`]:{...d,[a]:e}}),[d,e])}};return f.scopeName=a,[function(d,f){let g=c.createContext(f),h=e.length;e=[...e,f];let i=d=>{let{scope:e,children:f,...i}=d,j=e?.[a]?.[h]||g,k=c.useMemo(()=>i,Object.values(i));return(0,b.jsx)(j.Provider,{value:k,children:f})};return i.displayName=d+"Provider",[i,function(b,e){let i=e?.[a]?.[h]||g,j=c.useContext(i);if(j)return j;if(void 0!==f)return f;throw Error(`\`${b}\` must be used within \`${d}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let d=()=>{let d=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=d.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return c.useMemo(()=>({[`__scope${b.scopeName}`]:e}),[e])}};return d.scopeName=b.scopeName,d}(f,...d)]}(bz),[bC,bD]=bA(bz),bE=c.forwardRef((a,d)=>{let{__scopeSwitch:e,name:f,checked:g,defaultChecked:h,required:i,disabled:j,value:k="on",onCheckedChange:l,form:m,...n}=a,[o,p]=c.useState(null),q=bt(d,a=>p(a)),r=c.useRef(!1),s=!o||m||!!o.closest("form"),[t,u]=function({prop:a,defaultProp:b,onChange:d=()=>{},caller:e}){let[f,g,h]=function({defaultProp:a,onChange:b}){let[d,e]=c.useState(a),f=c.useRef(d),g=c.useRef(b);return bu(()=>{g.current=b},[b]),c.useEffect(()=>{f.current!==d&&(g.current?.(d),f.current=d)},[d,f]),[d,e,g]}({defaultProp:b,onChange:d}),i=void 0!==a,j=i?a:f;{let b=c.useRef(void 0!==a);c.useEffect(()=>{let a=b.current;if(a!==i){let b=i?"controlled":"uncontrolled";console.warn(`${e} is changing from ${a?"controlled":"uncontrolled"} to ${b}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}b.current=i},[i,e])}return[j,c.useCallback(b=>{if(i){let c="function"==typeof b?b(a):b;c!==a&&h.current?.(c)}else g(b)},[i,a,g,h])]}({prop:g,defaultProp:h??!1,onChange:l,caller:bz});return(0,b.jsxs)(bC,{scope:e,checked:t,disabled:j,children:[(0,b.jsx)(by.button,{type:"button",role:"switch","aria-checked":t,"aria-required":i,"data-state":bI(t),"data-disabled":j?"":void 0,disabled:j,value:k,...n,ref:q,onClick:function(a,b,{checkForDefaultPrevented:c=!0}={}){return function(d){if(a?.(d),!1===c||!d.defaultPrevented)return b?.(d)}}(a.onClick,a=>{u(a=>!a),s&&(r.current=a.isPropagationStopped(),r.current||a.stopPropagation())})}),s&&(0,b.jsx)(bH,{control:o,bubbles:!r.current,name:f,value:k,checked:t,required:i,disabled:j,form:m,style:{transform:"translateX(-100%)"}})]})});bE.displayName=bz;var bF="SwitchThumb",bG=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=bD(bF,d);return(0,b.jsx)(by.span,{"data-state":bI(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});bG.displayName=bF;var bH=c.forwardRef(({__scopeSwitch:a,control:d,checked:e,bubbles:f=!0,...g},h)=>{let i=c.useRef(null),j=bt(i,h),k=(0,bv.usePrevious)(e),l=(0,aB.useSize)(d);return c.useEffect(()=>{let a=i.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(k!==e&&b){let c=new Event("click",{bubbles:f});b.call(a,e),a.dispatchEvent(c)}},[k,e,f]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...g,tabIndex:-1,ref:j,style:{...g.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function bI(a){return a?"checked":"unchecked"}bH.displayName="SwitchBubbleInput";let bJ=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(bE,{className:(0,I.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:border-transparent data-[state=unchecked]:bg-transparent data-[state=unchecked]:border-muted-foreground/50",a),...c,ref:d,children:(0,b.jsx)(bG,{className:(0,I.cn)("pointer-events-none block h-4 w-4 rounded-full shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0 data-[state=checked]:bg-background data-[state=unchecked]:bg-muted-foreground/70")})}));bJ.displayName=bE.displayName;var bK=a.i(17171),bL=a.i(7554),bM=a.i(50104),bN=a.i(25152),bO=globalThis?.document?c.useLayoutEffect:()=>{},bP=a.i(70121),bQ=a.i(30553),bR=a=>{var b;let d,e,{present:f,children:g}=a,h=function(a){var b,d;let[e,f]=c.useState(),g=c.useRef({}),h=c.useRef(a),i=c.useRef("none"),[j,k]=(b=a?"mounted":"unmounted",d={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},c.useReducer((a,b)=>d[a][b]??a,b));return c.useEffect(()=>{let a=bS(g.current);i.current="mounted"===j?a:"none"},[j]),bO(()=>{let b=g.current,c=h.current;if(c!==a){let d=i.current,e=bS(b);a?k("MOUNT"):"none"===e||b?.display==="none"?k("UNMOUNT"):c&&d!==e?k("ANIMATION_OUT"):k("UNMOUNT"),h.current=a}},[a,k]),bO(()=>{if(e){let a,b=e.ownerDocument.defaultView??window,c=c=>{let d=bS(g.current).includes(c.animationName);if(c.target===e&&d&&(k("ANIMATION_END"),!h.current)){let c=e.style.animationFillMode;e.style.animationFillMode="forwards",a=b.setTimeout(()=>{"forwards"===e.style.animationFillMode&&(e.style.animationFillMode=c)})}},d=a=>{a.target===e&&(i.current=bS(g.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{b.clearTimeout(a),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}k("ANIMATION_END")},[e,k]),{isPresent:["mounted","unmountSuspended"].includes(j),ref:c.useCallback(a=>{a&&(g.current=getComputedStyle(a)),f(a)},[])}}(f),i="function"==typeof g?g({present:h.isPresent}):c.Children.only(g),j=(0,bP.useComposedRefs)(h.ref,(b=i,(e=(d=Object.getOwnPropertyDescriptor(b.props,"ref")?.get)&&"isReactWarning"in d&&d.isReactWarning)?b.ref:(e=(d=Object.getOwnPropertyDescriptor(b,"ref")?.get)&&"isReactWarning"in d&&d.isReactWarning)?b.props.ref:b.props.ref||b.ref));return"function"==typeof g||h.isPresent?c.cloneElement(i,{ref:j}):null};function bS(a){return a?.animationName||"none"}bR.displayName="Presence";var bT=a.i(92843),bU="Collapsible",[bV,bW]=(0,bM.createContextScope)(bU),[bX,bY]=bV(bU),bZ=c.forwardRef((a,d)=>{let{__scopeCollapsible:e,open:f,defaultOpen:g,disabled:h,onOpenChange:i,...j}=a,[k=!1,l]=(0,bN.useControllableState)({prop:f,defaultProp:g,onChange:i});return(0,b.jsx)(bX,{scope:e,disabled:h,contentId:(0,bT.useId)(),open:k,onOpenToggle:c.useCallback(()=>l(a=>!a),[l]),children:(0,b.jsx)(bQ.Primitive.div,{"data-state":b3(k),"data-disabled":h?"":void 0,...j,ref:d})})});bZ.displayName=bU;var b$="CollapsibleTrigger",b_=c.forwardRef((a,c)=>{let{__scopeCollapsible:d,...e}=a,f=bY(b$,d);return(0,b.jsx)(bQ.Primitive.button,{type:"button","aria-controls":f.contentId,"aria-expanded":f.open||!1,"data-state":b3(f.open),"data-disabled":f.disabled?"":void 0,disabled:f.disabled,...e,ref:c,onClick:(0,bL.composeEventHandlers)(a.onClick,f.onOpenToggle)})});b_.displayName=b$;var b0="CollapsibleContent",b1=c.forwardRef((a,c)=>{let{forceMount:d,...e}=a,f=bY(b0,a.__scopeCollapsible);return(0,b.jsx)(bR,{present:d||f.open,children:({present:a})=>(0,b.jsx)(b2,{...e,ref:c,present:a})})});b1.displayName=b0;var b2=c.forwardRef((a,d)=>{let{__scopeCollapsible:e,present:f,children:g,...h}=a,i=bY(b0,e),[j,k]=c.useState(f),l=c.useRef(null),m=(0,bP.useComposedRefs)(d,l),n=c.useRef(0),o=n.current,p=c.useRef(0),q=p.current,r=i.open||j,s=c.useRef(r),t=c.useRef(void 0);return c.useEffect(()=>{let a=requestAnimationFrame(()=>s.current=!1);return()=>cancelAnimationFrame(a)},[]),bO(()=>{let a=l.current;if(a){t.current=t.current||{transitionDuration:a.style.transitionDuration,animationName:a.style.animationName},a.style.transitionDuration="0s",a.style.animationName="none";let b=a.getBoundingClientRect();n.current=b.height,p.current=b.width,s.current||(a.style.transitionDuration=t.current.transitionDuration,a.style.animationName=t.current.animationName),k(f)}},[i.open,f]),(0,b.jsx)(bQ.Primitive.div,{"data-state":b3(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!r,...h,ref:m,style:{"--radix-collapsible-content-height":o?`${o}px`:void 0,"--radix-collapsible-content-width":q?`${q}px`:void 0,...a.style},children:r&&g})});function b3(a){return a?"open":"closed"}function b4({...a}){return(0,b.jsx)(bZ,{"data-slot":"collapsible",...a})}function b5({...a}){return(0,b.jsx)(b_,{"data-slot":"collapsible-trigger",...a})}function b6({...a}){return(0,b.jsx)(b1,{"data-slot":"collapsible-content",...a})}let b7=(0,h.default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var b8=a.i(17545);let b9=(0,h.default)("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),ca=["Fastest","Fast","Balanced","Accurate","Most Accurate"],cb=[{key:"enableHRM",label:"Hierarchical Roles (HRM)",description:"Assign specialized roles to different models",icon:b8.Layers,color:"from-blue-500 to-indigo-600"},{key:"enablePromptDiffusion",label:"Prompt Diffusion",description:"Iterative refinement for better outputs",icon:b9,color:"from-purple-500 to-pink-600"},{key:"enableDeepConsensus",label:"Deep Consensus",description:"Multi-round debate for accuracy",icon:_.Users,color:"from-emerald-500 to-teal-600"},{key:"enableAdaptiveEnsemble",label:"Adaptive Ensemble",description:"Dynamic model weighting",icon:O.Sparkles,color:"from-orange-500 to-amber-600"}];function cc({settings:a,onSettingsChange:d,className:f}){let[g,h]=(0,c.useState)(!1),i=a.accuracyLevel??3,j=cb.filter(b=>a[b.key]).length;return(0,b.jsxs)(b4,{open:g,onOpenChange:h,className:(0,I.cn)("w-full",f),children:[(0,b.jsx)(b5,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"ghost",size:"sm",className:(0,I.cn)("w-full justify-between gap-2 h-9 px-3 text-xs border rounded-lg transition-all duration-300",g?"bg-[var(--bronze)]/10 border-[var(--bronze)]/30 text-[var(--bronze)]":"bg-secondary/50 border-border hover:bg-secondary hover:border-[var(--bronze)]/50"),children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(ab,{className:"h-3.5 w-3.5"}),(0,b.jsx)("span",{className:"font-medium",children:"Orchestration Studio"}),j>0&&(0,b.jsxs)("span",{className:"px-1.5 py-0.5 text-[10px] rounded-full bg-[var(--bronze)]/20 text-[var(--bronze)]",children:[j," active"]})]}),g?(0,b.jsx)(b7,{className:"h-3.5 w-3.5"}):(0,b.jsx)(Y,{className:"h-3.5 w-3.5"})]})}),(0,b.jsx)(b6,{className:"animate-in slide-in-from-top-2 duration-200",children:(0,b.jsxs)("div",{className:"mt-3 p-4 rounded-xl border border-border bg-card/50 backdrop-blur-sm space-y-5",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(bK.Label,{className:"text-sm font-medium flex items-center gap-2",children:[(0,b.jsx)(af,{className:"h-4 w-4 text-[var(--bronze)]"}),"Accuracy vs Speed"]}),(0,b.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-secondary text-muted-foreground",children:ca[i-1]})]}),(0,b.jsxs)("div",{className:"relative pt-1",children:[(0,b.jsx)(ah.Slider,{value:[i],onValueChange:([a])=>d({accuracyLevel:a}),min:1,max:5,step:1,className:"w-full [&>span:first-child]:h-2 [&>span:first-child]:bg-secondary [&_[role=slider]]:h-5 [&_[role=slider]]:w-5 [&_[role=slider]]:border-2 [&_[role=slider]]:border-[var(--bronze)] [&_[role=slider]]:bg-background [&>span:first-child>span]:bg-gradient-to-r [&>span:first-child>span]:from-[var(--bronze)] [&>span:first-child>span]:to-[var(--gold)]"}),(0,b.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[(0,b.jsx)(Z.Zap,{className:"h-3 w-3"}),"Faster"]}),(0,b.jsxs)("span",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[(0,b.jsx)(af,{className:"h-3 w-3"}),"Precise"]})]})]})]}),(0,b.jsx)("div",{className:"h-px bg-border"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(bK.Label,{className:"text-sm font-medium",children:"Orchestration Engines"}),(0,b.jsx)("div",{className:"grid gap-2",children:cb.map(c=>{let e=c.icon,f=a[c.key];return(0,b.jsxs)("div",{className:(0,I.cn)("flex items-center gap-3 p-3 rounded-lg border transition-all duration-200",f?"bg-[var(--bronze)]/5 border-[var(--bronze)]/30":"bg-secondary/30 border-border hover:border-border/80"),children:[(0,b.jsx)("div",{className:(0,I.cn)("w-8 h-8 rounded-lg flex items-center justify-center transition-all duration-200",f?`bg-gradient-to-br ${c.color} text-white shadow-lg shadow-${c.color.split("-")[1]}-500/20`:"bg-muted text-muted-foreground"),children:(0,b.jsx)(e,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)(bK.Label,{htmlFor:c.key,className:(0,I.cn)("text-sm font-medium cursor-pointer transition-colors",f&&"text-[var(--bronze)]"),children:c.label}),(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground truncate",children:c.description})]}),(0,b.jsx)(bJ,{id:c.key,checked:f,onCheckedChange:a=>d({[c.key]:a}),className:"data-[state=checked]:bg-[var(--bronze)]"})]},c.key)})})]}),(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground text-center",children:"Enable multiple engines for enhanced orchestration capabilities"})]})})]})}let cd=(0,h.default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var ce=a.i(63588),cf=a.i(87532),cg="Progress",[ch,ci]=(0,bM.createContextScope)(cg),[cj,ck]=ch(cg),cl=c.forwardRef((a,c)=>{var d,e;let{__scopeProgress:f,value:g=null,max:h,getValueLabel:i=co,...j}=a;(h||0===h)&&!cr(h)&&console.error((d=`${h}`,`Invalid prop \`max\` of value \`${d}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let k=cr(h)?h:100;null===g||cs(g,k)||console.error((e=`${g}`,`Invalid prop \`value\` of value \`${e}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let l=cs(g,k)?g:null,m=cq(l)?i(l,k):void 0;return(0,b.jsx)(cj,{scope:f,value:l,max:k,children:(0,b.jsx)(bQ.Primitive.div,{"aria-valuemax":k,"aria-valuemin":0,"aria-valuenow":cq(l)?l:void 0,"aria-valuetext":m,role:"progressbar","data-state":cp(l,k),"data-value":l??void 0,"data-max":k,...j,ref:c})})});cl.displayName=cg;var cm="ProgressIndicator",cn=c.forwardRef((a,c)=>{let{__scopeProgress:d,...e}=a,f=ck(cm,d);return(0,b.jsx)(bQ.Primitive.div,{"data-state":cp(f.value,f.max),"data-value":f.value??void 0,"data-max":f.max,...e,ref:c})});function co(a,b){return`${Math.round(a/b*100)}%`}function cp(a,b){return null==a?"indeterminate":a===b?"complete":"loading"}function cq(a){return"number"==typeof a}function cr(a){return cq(a)&&!isNaN(a)&&a>0}function cs(a,b){return cq(a)&&!isNaN(a)&&a<=b&&a>=0}function ct({className:a,value:c,...d}){return(0,b.jsx)(cl,{"data-slot":"progress",className:(0,I.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",a),...d,children:(0,b.jsx)(cn,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(c||0)}%)`}})})}cn.displayName=cm;let cu={started:Z.Zap,refining_prompt:O.Sparkles,dispatching_model:ac.Cpu,model_responding:P.Brain,model_critiquing:ce.MessageSquare,verifying_facts:cf.Search,consensus_building:_.Users,finalizing:R,completed:R,error:S},cv={started:"text-blue-500",refining_prompt:"text-purple-500",dispatching_model:"text-orange-500",model_responding:"text-emerald-500",model_critiquing:"text-pink-500",verifying_facts:"text-cyan-500",consensus_building:"text-indigo-500",finalizing:"text-[var(--bronze)]",completed:"text-green-500",error:"text-red-500"};function cw({event:a,isLast:c,isActive:d}){let e=cu[a.type],f=cv[a.type],g="completed"===a.type,h="error"===a.type;return(0,b.jsxs)("div",{className:"flex gap-3 animate-in fade-in-0 slide-in-from-left-2 duration-300",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:(0,I.cn)("w-7 h-7 rounded-full flex items-center justify-center transition-all duration-300",c&&d?"bg-[var(--bronze)]/20 ring-2 ring-[var(--bronze)] ring-offset-2 ring-offset-background":g?"bg-green-500/20":h?"bg-red-500/20":"bg-secondary"),children:c&&d?(0,b.jsx)(cd,{className:(0,I.cn)("h-4 w-4 animate-spin",f)}):(0,b.jsx)(e,{className:(0,I.cn)("h-4 w-4",f)})}),!c&&(0,b.jsx)("div",{className:"w-0.5 h-full min-h-[20px] bg-border"})]}),(0,b.jsxs)("div",{className:"flex-1 pb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:(0,I.cn)("text-sm font-medium",c&&d?"text-[var(--bronze)]":"text-foreground"),children:a.message}),a.modelName&&(0,b.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded-md bg-secondary text-muted-foreground",children:a.modelName})]}),a.details&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:a.details}),(0,b.jsx)("span",{className:"text-[10px] text-muted-foreground",children:a.timestamp.toLocaleTimeString()})]})]})}function cx({status:a,className:d}){let[f,g]=(0,c.useState)(!0),h=(0,c.useMemo)(()=>{if(!a.isActive&&0===a.events.length)return 0;let b=a.events[a.events.length-1];return b?.progress??0},[a.events,a.isActive]);return((0,c.useEffect)(()=>{if(!a.isActive&&100===h){let a=setTimeout(()=>g(!1),3e3);return()=>clearTimeout(a)}},[a.isActive,h]),0===a.events.length)?null:(0,b.jsx)(b4,{open:f,onOpenChange:g,className:(0,I.cn)("w-full",d),children:(0,b.jsxs)("div",{className:(0,I.cn)("rounded-xl border transition-all duration-300",a.isActive?"border-[var(--bronze)]/30 bg-[var(--bronze)]/5":"border-border bg-card/50"),children:[(0,b.jsx)(b5,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"ghost",className:"w-full h-auto p-3 justify-between hover:bg-transparent",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[a.isActive?(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-[var(--bronze)] animate-pulse"}),(0,b.jsx)("div",{className:"absolute inset-0 w-3 h-3 rounded-full bg-[var(--bronze)] animate-ping opacity-50"})]}):(0,b.jsx)(R,{className:"h-4 w-4 text-green-500"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:a.isActive?"Processing...":"Orchestration Complete"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[a.latencyMs&&!a.isActive&&(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:[a.latencyMs,"ms"]}),f?(0,b.jsx)(b7,{className:"h-4 w-4 text-muted-foreground"}):(0,b.jsx)(Y,{className:"h-4 w-4 text-muted-foreground"})]})]})}),a.isActive&&(0,b.jsx)("div",{className:"px-3 pb-2",children:(0,b.jsx)(ct,{value:h,className:"h-1.5 [&>div]:bg-gradient-to-r [&>div]:from-[var(--bronze)] [&>div]:to-[var(--gold)]"})}),(0,b.jsx)(b6,{children:(0,b.jsx)("div",{className:"px-4 pb-4 pt-2 max-h-64 overflow-y-auto",children:a.events.map((c,d)=>(0,b.jsx)(cw,{event:c,isLast:d===a.events.length-1,isActive:a.isActive},c.id))})})]})})}var cy=a.i(54816),cz=a.i(41710);let cA=(0,h.default)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);function cB({modelIds:a,totalTokens:d,latencyMs:e,className:f,compact:g=!1}){let h=(0,c.useMemo)(()=>a.filter(a=>a&&"automatic"!==a).map(a=>{let b=(0,p.getModelById)(a);return{id:a,name:(0,p.getModelDisplayName)(a),provider:b?.provider||"unknown",logo:b?(0,p.getModelLogo)(b.provider):null}}),[a]);return 0===h.length?null:g?(0,b.jsx)(cy.TooltipProvider,{children:(0,b.jsxs)("div",{className:(0,I.cn)("flex items-center gap-1",f),children:[(0,b.jsx)("span",{className:"text-[10px] text-muted-foreground mr-1",children:"Models:"}),(0,b.jsx)("div",{className:"flex -space-x-1",children:h.slice(0,3).map(a=>(0,b.jsxs)(cy.Tooltip,{children:[(0,b.jsx)(cy.TooltipTrigger,{asChild:!0,children:(0,b.jsx)("div",{className:"relative w-5 h-5 rounded-full bg-secondary border-2 border-background overflow-hidden",children:a.logo?(0,b.jsx)(bl.default,{src:a.logo,alt:a.provider,fill:!0,className:"object-contain p-0.5"}):(0,b.jsx)(ac.Cpu,{className:"h-3 w-3 m-auto text-muted-foreground"})})}),(0,b.jsx)(cy.TooltipContent,{side:"top",className:"text-xs",children:a.name})]},a.id))}),h.length>3&&(0,b.jsxs)("span",{className:"text-[10px] text-muted-foreground ml-1",children:["+",h.length-3]})]})}):(0,b.jsxs)("div",{className:(0,I.cn)("inline-flex items-center gap-3 px-3 py-2 rounded-lg bg-secondary/50 border border-border",f),children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xs text-muted-foreground font-medium",children:"Models Used:"}),(0,b.jsx)("div",{className:"flex items-center gap-1.5",children:h.map(a=>(0,b.jsx)(cy.TooltipProvider,{children:(0,b.jsxs)(cy.Tooltip,{children:[(0,b.jsx)(cy.TooltipTrigger,{asChild:!0,children:(0,b.jsxs)(T.Badge,{variant:"secondary",className:"gap-1.5 px-2 py-1 text-xs bg-background hover:bg-background cursor-default",children:[a.logo?(0,b.jsx)(bl.default,{src:a.logo,alt:a.provider,width:14,height:14,className:"object-contain"}):(0,b.jsx)(ac.Cpu,{className:"h-3 w-3 text-muted-foreground"}),(0,b.jsx)("span",{children:a.name})]})}),(0,b.jsxs)(cy.TooltipContent,{side:"top",className:"text-xs",children:["Provider: ",a.provider]})]})},a.id))})]}),(void 0!==d||void 0!==e)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-px h-4 bg-border"}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground",children:[void 0!==d&&d>0&&(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(cA,{className:"h-3 w-3"}),d.toLocaleString()," tokens"]}),void 0!==e&&(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(cz.Clock,{className:"h-3 w-3"}),e.toLocaleString(),"ms"]})]})]})]})}let cC=["gpt-4o","claude-sonnet-4","deepseek-chat"];function cD({conversation:a,onSendMessage:d,onShowArtifact:h,orchestratorSettings:q,onOrchestratorSettingsChange:r,onOpenAdvancedSettings:v,userAccountMenu:w}){let[x,z]=(0,c.useState)(""),[A,B]=(0,c.useState)([]),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(!0),[I,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(null),[O,P]=(0,c.useState)({isActive:!1,currentStep:"",events:[],modelsUsed:[]}),[Q,R]=(0,c.useState)([]),[S,T]=(0,c.useState)(0),[U,V]=(0,c.useState)(0),X=(0,c.useRef)(null),Y=(0,c.useRef)(0),Z=q.selectedModels||["automatic"];(0,p.getModelById)(Z[0]||"gpt-4o");let $=(0,c.useCallback)((a,b,c,d)=>{P(e=>({...e,currentStep:b,events:[...e.events,{id:`evt-${++Y.current}`,type:a,message:b,timestamp:new Date,modelName:c,progress:d}]}))},[]),_=(0,c.useCallback)(async a=>{let b=[{type:"started",message:"Orchestration initiated",delay:100}];a.enablePromptDiffusion&&b.push({type:"refining_prompt",message:"Refining prompt with diffusion...",delay:400}),a.enableHRM&&b.push({type:"dispatching_model",message:"Assigning hierarchical roles...",delay:300});let c=a.selectedModels||["automatic"];for(let a of(c=c.includes("automatic")||0===c.length?cC:c.filter(a=>"automatic"!==a)).slice(0,3)){let c=(0,p.getModelById)(a);b.push({type:"dispatching_model",message:`Dispatching to ${c?.name||a}...`,delay:200,modelName:c?.name||a})}for(let c of(b.push({type:"model_responding",message:"Models generating responses...",delay:500}),a.enableDeepConsensus&&(b.push({type:"model_critiquing",message:"Models critiquing each other...",delay:400}),b.push({type:"consensus_building",message:"Building consensus...",delay:300})),a.enableAdaptiveEnsemble&&b.push({type:"verifying_facts",message:"Verifying with adaptive ensemble...",delay:350}),a.outputValidation&&b.push({type:"verifying_facts",message:"Validating output accuracy...",delay:250}),b.push({type:"finalizing",message:"Finalizing response...",delay:200}),b))await new Promise(a=>setTimeout(a,c.delay)),$(c.type,c.message,c.modelName)},[$]),aa=async()=>{if(!x.trim()&&0===A.length)return;let b={id:`msg-${Date.now()}`,role:"user",content:x,timestamp:new Date,attachments:A.length>0?A:void 0};d(b),z(""),B([]),L(!0),Date.now(),P({isActive:!0,currentStep:"Starting orchestration...",events:[],modelsUsed:[],startTime:new Date}),_(q);try{N(null);let c=Z.includes("automatic")||0===Z.length?cC:Z.filter(a=>"automatic"!==a),e=await y({messages:[...a?.messages||[],b],models:c,orchestratorSettings:{...q,selectedModels:c},chatId:a?.id},a=>{N({isRetrying:!0,attempt:a.attempt,maxAttempts:a.maxAttempts,message:`Retrying (${a.attempt}/${a.maxAttempts})... ${Math.round(a.delayMs/1e3)}s delay`}),$("dispatching_model",`Retrying request (attempt ${a.attempt}/${a.maxAttempts})...`)});N(null);let{content:f,modelsUsed:g,tokensUsed:h,latencyMs:i}=e,j=g.slice(0,3).map((a,b)=>{let c=(0,p.getModelById)(a);return{agentId:`agent-${b+1}`,agentName:c?.name||a,agentType:"general",contribution:["Primary response","Analysis and verification","Cross-validation"][b]||"Supporting response",confidence:.9-.05*b}}),k={id:`msg-${Date.now()}`,role:"assistant",content:f||"I apologize, but I couldn't generate a response. Please try again.",timestamp:new Date,model:g[0]||c[0],agents:j.length>0?j:[{agentId:"agent-1",agentName:"General Agent",agentType:"general",contribution:"Primary response",confidence:.9}],consensus:g.length>1?{confidence:88,debateOccurred:!0,consensusNote:`${g.length} models reached consensus`}:{confidence:95,debateOccurred:!1,consensusNote:"Single model response"}};d(k),P(a=>({...a,isActive:!1,currentStep:"Completed",modelsUsed:g,endTime:new Date,latencyMs:i,events:[...a.events,{id:`evt-${++Y.current}`,type:"completed",message:"Orchestration complete",timestamp:new Date,progress:100}]})),R(g),V(i),T(h)}catch(e){N(null);let a="I apologize, but I encountered an error. Please try again.",b="Orchestration failed",c="";"object"==typeof e&&null!==e&&e.retriesExhausted&&e.retryInfo?.attempts&&(c=` (retried ${e.retryInfo.attempts} times)`),e instanceof u?(a=`The request timed out${c}. The backend may be overloaded. Please try again later.`,b=`Request timed out${c}`):e instanceof t?(a=`Unable to connect to the server${c}. Please check your connection and try again.`,b=`Network error${c}`):e instanceof s&&(e.retriesExhausted?(a=`The server is currently unavailable${c}. Please try again later.`,b=`Server error: ${e.status}${c}`):(a=`I encountered an error: ${e.message}`,b=`API error: ${e.status}`)),d({id:`msg-${Date.now()}`,role:"assistant",content:a,timestamp:new Date}),P(a=>({...a,isActive:!1,events:[...a.events,{id:`evt-${++Y.current}`,type:"error",message:b,timestamp:new Date}]}))}finally{L(!1),N(null)}},ab=a?.messages||[];return(0,b.jsxs)("div",{className:"flex-1 flex flex-col relative min-h-0",children:[(0,b.jsx)("div",{className:"absolute inset-0 opacity-[0.02] pointer-events-none",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l25.98 15v30L30 60 4.02 45V15z' fill='none' stroke='%23C48E48' strokeWidth='1'/%3E%3C/svg%3E\")",backgroundSize:"60px 60px"}}),(0,b.jsxs)("header",{className:"border-b border-border p-3 bg-card/50 backdrop-blur-xl sticky top-0 z-40 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[(0,b.jsx)(bq,{settings:q,onSettingsChange:r,onOpenAdvanced:v}),w]}),(0,b.jsx)(cc,{settings:q,onSettingsChange:r})]}),(0,b.jsx)(K,{active:I,agentCount:6}),(O.isActive||O.events.length>0)&&(0,b.jsx)("div",{className:"px-4 py-2 border-b border-border bg-card/30",children:(0,b.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,b.jsx)(cx,{status:O})})}),(0,b.jsx)(g.ScrollArea,{className:"flex-1 relative z-10",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8 space-y-6",children:[ab.map(a=>(0,b.jsx)(J,{message:a,onShowArtifact:h,onShowInsights:()=>{F(a),D(!0)},incognitoMode:G,onToggleIncognito:()=>H(!G)},a.id)),I&&(0,b.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[var(--bronze)] to-[var(--gold)] flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-xs font-bold text-background",children:"AI"})}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("div",{className:"flex gap-1.5 p-4",children:[0,200,400].map(a=>(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-[var(--bronze)] animate-bounce",style:{animationDelay:`${a}ms`,animationDuration:"1s"}},a))}),M?.isRetrying&&(0,b.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20 text-amber-600 dark:text-amber-400 text-sm animate-pulse",children:[(0,b.jsx)(o.RefreshCw,{className:"h-4 w-4 animate-spin"}),(0,b.jsx)("span",{children:M.message})]})]})]}),!I&&Q.length>0&&ab.length>0&&(0,b.jsx)("div",{className:"flex justify-center py-2",children:(0,b.jsx)(cB,{modelIds:Q,totalTokens:S,latencyMs:U})})]})}),C&&E?.agents&&(0,b.jsx)(W,{agents:E.agents,consensus:E.consensus,citations:E.citations,onClose:()=>D(!1)}),(0,b.jsx)("div",{className:"border-t border-border p-3 md:p-4 bg-card/80 backdrop-blur-xl relative z-10 sticky bottom-0",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[A.length>0&&(0,b.jsx)("div",{className:"mb-3 flex flex-wrap gap-2",children:A.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-secondary border text-sm",children:[a.type.startsWith("image/")?(0,b.jsx)(m,{className:"h-4 w-4"}):(0,b.jsx)(n.FileText,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"truncate max-w-[100px] md:max-w-[150px]",children:a.name}),(0,b.jsx)(e.Button,{size:"icon",variant:"ghost",className:"h-5 w-5",onClick:()=>{var b;return b=a.id,void B(A.filter(a=>a.id!==b))},children:(0,b.jsx)(l.X,{className:"h-3 w-3"})})]},a.id))}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Textarea,{value:x,onChange:a=>z(a.target.value),onKeyDown:a=>{"Enter"!==a.key||a.shiftKey||(a.preventDefault(),aa())},placeholder:"Ask the hive mind anything...",className:"min-h-[56px] md:min-h-[72px] pr-28 md:pr-36 resize-none bg-secondary/50 border-border focus:border-[var(--bronze)] text-sm md:text-base"}),(0,b.jsxs)("div",{className:"absolute bottom-2 md:bottom-2.5 right-2 md:right-2.5 flex items-center gap-1 md:gap-1.5",children:[(0,b.jsx)("input",{ref:X,type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.txt",onChange:a=>{B([...A,...Array.from(a.target.files||[]).map(a=>({id:`att-${Date.now()}-${Math.random()}`,name:a.name,type:a.type,size:a.size,url:URL.createObjectURL(a)}))])},className:"hidden"}),(0,b.jsx)(e.Button,{size:"icon",variant:"ghost",className:"h-7 w-7 md:h-8 md:w-8",onClick:()=>X.current?.click(),children:(0,b.jsx)(j,{className:"h-3.5 w-3.5 md:h-4 md:w-4"})}),(0,b.jsx)(e.Button,{size:"icon",variant:"ghost",className:"h-7 w-7 md:h-8 md:w-8",children:(0,b.jsx)(k,{className:"h-3.5 w-3.5 md:h-4 md:w-4"})}),(0,b.jsx)(e.Button,{size:"icon",onClick:aa,disabled:!x.trim()&&0===A.length||I,className:"h-7 w-7 md:h-8 md:w-8 bronze-gradient disabled:opacity-50",children:(0,b.jsx)(i,{className:"h-3.5 w-3.5 md:h-4 md:w-4"})})]})]}),(0,b.jsx)("p",{className:"text-[9px] md:text-[10px] text-muted-foreground mt-2 text-center opacity-60",children:"LLMHive uses multiple AI agents for enhanced accuracy"})]})})]})}let cE=(0,h.default)("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]),cF=(0,h.default)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),cG=[{id:"general",title:"General Assistant",description:"Versatile AI helper for everyday tasks",icon:O.Sparkles,color:"from-orange-500 to-amber-500",preset:{reasoningMode:"standard",domainPack:"default",agentMode:"single"}},{id:"research",title:"Research & Deep Reasoning",description:"In-depth analysis with multiple perspectives",icon:P.Brain,color:"from-purple-500 to-indigo-500",preset:{reasoningMode:"deep",domainPack:"research",agentMode:"team",outputValidation:!0}},{id:"code",title:"Code & Debug",description:"Expert coding assistance and debugging",icon:E.Code,color:"from-emerald-500 to-teal-500",preset:{reasoningMode:"standard",domainPack:"coding",agentMode:"team",promptOptimization:!0}},{id:"industry",title:"Industry Packs",description:"Legal, Medical, Marketing & more",icon:cF,color:"from-blue-500 to-cyan-500",preset:{reasoningMode:"deep",agentMode:"team",outputValidation:!0,answerStructure:!0}}];function cH({onNewChat:a,onStartFromTemplate:c}){return(0,b.jsxs)("div",{className:"min-h-full flex flex-col items-center justify-start px-4 pt-0 pb-20 overflow-y-auto",children:[(0,b.jsxs)("div",{className:"text-center mb-0",children:[(0,b.jsx)("div",{className:"relative w-40 h-40 md:w-[280px] md:h-[280px] lg:w-[320px] lg:h-[320px] mx-auto mb-0 -mt-4 md:-mt-8 lg:-mt-10",children:(0,b.jsx)(bl.default,{src:"/logo.png",alt:"LLMHive",fill:!0,className:"object-contain",priority:!0})}),(0,b.jsx)("h1",{className:"-mt-6 md:-mt-8 lg:-mt-10 text-[1.75rem] md:text-[2.85rem] lg:text-[3.4rem] font-bold mb-1 bg-gradient-to-r from-[var(--bronze)] via-[var(--gold)] to-[var(--bronze)] bg-clip-text text-transparent",children:"Welcome to LLMHive"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm md:text-base max-w-md mx-auto mb-0",children:"Multi-agent AI orchestration for enhanced accuracy and deeper insights"})]}),(0,b.jsx)("div",{className:"w-16 h-px bg-border my-2"}),(0,b.jsxs)(e.Button,{onClick:a,size:"lg",className:"bronze-gradient mb-4 md:mb-6 h-12 md:h-14 px-8 md:px-10 text-base md:text-lg gap-2 shadow-lg hover:shadow-xl transition-shadow",children:[(0,b.jsx)(cE,{className:"h-5 w-5 md:h-6 md:w-6"}),"New Chat"]}),(0,b.jsxs)("div",{className:"w-full max-w-4xl",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center mb-2",children:"Or start from a template"}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:cG.map(a=>{let d=a.icon;return(0,b.jsxs)("button",{onClick:()=>c(a.preset),className:"group flex flex-col items-center gap-2 p-3 md:p-4 rounded-xl border border-border hover:border-[var(--bronze)] bg-card/50 hover:bg-card/80 transition-all duration-300 cursor-pointer text-left",children:[(0,b.jsx)("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br ${a.color} flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:shadow-xl transition-all duration-300`,children:(0,b.jsx)(d,{className:"h-5 w-5 md:h-6 md:w-6 text-white"})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h3",{className:"text-sm md:text-base font-semibold text-foreground group-hover:text-[var(--bronze)] transition-colors",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:a.description})]})]},a.id)})})]})]})}function cI(a,b,{checkForDefaultPrevented:c=!0}={}){return function(d){if(a?.(d),!1===c||!d.defaultPrevented)return b?.(d)}}function cJ(a,d=[]){let e=[],f=()=>{let b=e.map(a=>c.createContext(a));return function(d){let e=d?.[a]||b;return c.useMemo(()=>({[`__scope${a}`]:{...d,[a]:e}}),[d,e])}};return f.scopeName=a,[function(d,f){let g=c.createContext(f),h=e.length;e=[...e,f];let i=d=>{let{scope:e,children:f,...i}=d,j=e?.[a]?.[h]||g,k=c.useMemo(()=>i,Object.values(i));return(0,b.jsx)(j.Provider,{value:k,children:f})};return i.displayName=d+"Provider",[i,function(b,e){let i=e?.[a]?.[h]||g,j=c.useContext(i);if(j)return j;if(void 0!==f)return f;throw Error(`\`${b}\` must be used within \`${d}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let d=()=>{let d=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=d.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return c.useMemo(()=>({[`__scope${b.scopeName}`]:e}),[e])}};return d.scopeName=b.scopeName,d}(f,...d)]}function cK(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}function cL(...a){return b=>{let c=!1,d=a.map(a=>{let d=cK(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():cK(a[b],null)}}}}function cM(...a){return c.useCallback(cL(...a),a)}function cN(a){var d;let e,f=(d=a,(e=c.forwardRef((a,b)=>{let{children:d,...e}=a;if(c.isValidElement(d)){var f;let a,g,h=(f=d,(g=(a=Object.getOwnPropertyDescriptor(f.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?f.ref:(g=(a=Object.getOwnPropertyDescriptor(f,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?f.props.ref:f.props.ref||f.ref),i=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(e,d.props);return d.type!==c.Fragment&&(i.ref=b?cL(b,h):h),c.cloneElement(d,i)}return c.Children.count(d)>1?c.Children.only(null):null})).displayName=`${d}.SlotClone`,e),g=c.forwardRef((a,d)=>{let{children:e,...g}=a,h=c.Children.toArray(e),i=h.find(cP);if(i){let a=i.props.children,e=h.map(b=>b!==i?b:c.Children.count(a)>1?c.Children.only(null):c.isValidElement(a)?a.props.children:null);return(0,b.jsx)(f,{...g,ref:d,children:c.isValidElement(a)?c.cloneElement(a,void 0,e):null})}return(0,b.jsx)(f,{...g,ref:d,children:e})});return g.displayName=`${a}.Slot`,g}var cO=Symbol("radix.slottable");function cP(a){return c.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===cO}var cQ=new WeakMap;function cR(a,b){var c,d;let e,f,g;if("at"in Array.prototype)return Array.prototype.at.call(a,b);let h=(c=a,d=b,e=c.length,(g=(f=cS(d))>=0?f:e+f)<0||g>=e?-1:g);return -1===h?void 0:a[h]}function cS(a){return a!=a||0===a?0:Math.trunc(a)}(class a extends Map{#a;constructor(a){super(a),this.#a=[...super.keys()],cQ.set(this,!0)}set(a,b){return cQ.get(this)&&(this.has(a)?this.#a[this.#a.indexOf(a)]=a:this.#a.push(a)),super.set(a,b),this}insert(a,b,c){let d,e=this.has(b),f=this.#a.length,g=cS(a),h=g>=0?g:f+g,i=h<0||h>=f?-1:h;if(i===this.size||e&&i===this.size-1||-1===i)return this.set(b,c),this;let j=this.size+ +!e;g<0&&h++;let k=[...this.#a],l=!1;for(let a=h;a<j;a++)if(h===a){let f=k[a];k[a]===b&&(f=k[a+1]),e&&this.delete(b),d=this.get(f),this.set(b,c)}else{l||k[a-1]!==b||(l=!0);let c=k[l?a:a-1],e=d;d=this.get(c),this.delete(c),this.set(c,e)}return this}with(b,c,d){let e=new a(this);return e.insert(b,c,d),e}before(a){let b=this.#a.indexOf(a)-1;if(!(b<0))return this.entryAt(b)}setBefore(a,b,c){let d=this.#a.indexOf(a);return -1===d?this:this.insert(d,b,c)}after(a){let b=this.#a.indexOf(a);if(-1!==(b=-1===b||b===this.size-1?-1:b+1))return this.entryAt(b)}setAfter(a,b,c){let d=this.#a.indexOf(a);return -1===d?this:this.insert(d+1,b,c)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#a=[],super.clear()}delete(a){let b=super.delete(a);return b&&this.#a.splice(this.#a.indexOf(a),1),b}deleteAt(a){let b=this.keyAt(a);return void 0!==b&&this.delete(b)}at(a){let b=cR(this.#a,a);if(void 0!==b)return this.get(b)}entryAt(a){let b=cR(this.#a,a);if(void 0!==b)return[b,this.get(b)]}indexOf(a){return this.#a.indexOf(a)}keyAt(a){return cR(this.#a,a)}from(a,b){let c=this.indexOf(a);if(-1===c)return;let d=c+b;return d<0&&(d=0),d>=this.size&&(d=this.size-1),this.at(d)}keyFrom(a,b){let c=this.indexOf(a);if(-1===c)return;let d=c+b;return d<0&&(d=0),d>=this.size&&(d=this.size-1),this.keyAt(d)}find(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return d;c++}}findIndex(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return c;c++}return -1}filter(b,c){let d=[],e=0;for(let a of this)Reflect.apply(b,c,[a,e,this])&&d.push(a),e++;return new a(d)}map(b,c){let d=[],e=0;for(let a of this)d.push([a[0],Reflect.apply(b,c,[a,e,this])]),e++;return new a(d)}reduce(...a){let[b,c]=a,d=0,e=c??this.at(0);for(let c of this)e=0===d&&1===a.length?c:Reflect.apply(b,this,[e,c,d,this]),d++;return e}reduceRight(...a){let[b,c]=a,d=c??this.at(-1);for(let c=this.size-1;c>=0;c--){let e=this.at(c);d=c===this.size-1&&1===a.length?e:Reflect.apply(b,this,[d,e,c,this])}return d}toSorted(b){return new a([...this.entries()].sort(b))}toReversed(){let b=new a;for(let a=this.size-1;a>=0;a--){let c=this.keyAt(a),d=this.get(c);b.set(c,d)}return b}toSpliced(...b){let c=[...this.entries()];return c.splice(...b),new a(c)}slice(b,c){let d=new a,e=this.size-1;if(void 0===b)return d;b<0&&(b+=this.size),void 0!==c&&c>0&&(e=c-1);for(let a=b;a<=e;a++){let b=this.keyAt(a),c=this.get(b);d.set(b,c)}return d}every(a,b){let c=0;for(let d of this){if(!Reflect.apply(a,b,[d,c,this]))return!1;c++}return!0}some(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return!0;c++}return!1}});var cT=c[" useId ".trim().toString()]||(()=>void 0),cU=0;function cV(a){let[b,d]=c.useState(cT());return(0,aq.useLayoutEffect)(()=>{a||d(a=>a??String(cU++))},[a]),a||(b?`radix-${b}`:"")}var cW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,d)=>{let e=cN(`Primitive.${d}`),f=c.forwardRef((a,c)=>{let{asChild:f,...g}=a;return(0,b.jsx)(f?e:d,{...g,ref:c})});return f.displayName=`Primitive.${d}`,{...a,[d]:f}},{}),cX=c[" useInsertionEffect ".trim().toString()]||aq.useLayoutEffect;function cY({prop:a,defaultProp:b,onChange:d=()=>{},caller:e}){let[f,g,h]=function({defaultProp:a,onChange:b}){let[d,e]=c.useState(a),f=c.useRef(d),g=c.useRef(b);return cX(()=>{g.current=b},[b]),c.useEffect(()=>{f.current!==d&&(g.current?.(d),f.current=d)},[d,f]),[d,e,g]}({defaultProp:b,onChange:d}),i=void 0!==a,j=i?a:f;{let b=c.useRef(void 0!==a);c.useEffect(()=>{let a=b.current;if(a!==i){let b=i?"controlled":"uncontrolled";console.warn(`${e} is changing from ${a?"controlled":"uncontrolled"} to ${b}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}b.current=i},[i,e])}return[j,c.useCallback(b=>{if(i){let c="function"==typeof b?b(a):b;c!==a&&h.current?.(c)}else g(b)},[i,a,g,h])]}Symbol("RADIX:SYNC_STATE");var cZ=c.createContext(void 0);function c$(a){let b=c.useContext(cZ);return a||b||"ltr"}var c_="rovingFocusGroup.onEntryFocus",c0={bubbles:!1,cancelable:!0},c1="RovingFocusGroup",[c2,c3,c4]=function(a){let d=a+"CollectionProvider",[e,f]=cJ(d),[g,h]=e(d,{collectionRef:{current:null},itemMap:new Map}),i=a=>{let{scope:d,children:e}=a,f=c.default.useRef(null),h=c.default.useRef(new Map).current;return(0,b.jsx)(g,{scope:d,itemMap:h,collectionRef:f,children:e})};i.displayName=d;let j=a+"CollectionSlot",k=cN(j),l=c.default.forwardRef((a,c)=>{let{scope:d,children:e}=a,f=cM(c,h(j,d).collectionRef);return(0,b.jsx)(k,{ref:f,children:e})});l.displayName=j;let m=a+"CollectionItemSlot",n="data-radix-collection-item",o=cN(m),p=c.default.forwardRef((a,d)=>{let{scope:e,children:f,...g}=a,i=c.default.useRef(null),j=cM(d,i),k=h(m,e);return c.default.useEffect(()=>(k.itemMap.set(i,{ref:i,...g}),()=>void k.itemMap.delete(i))),(0,b.jsx)(o,{...{[n]:""},ref:j,children:f})});return p.displayName=m,[{Provider:i,Slot:l,ItemSlot:p},function(b){let d=h(a+"CollectionConsumer",b);return c.default.useCallback(()=>{let a=d.collectionRef.current;if(!a)return[];let b=Array.from(a.querySelectorAll(`[${n}]`));return Array.from(d.itemMap.values()).sort((a,c)=>b.indexOf(a.ref.current)-b.indexOf(c.ref.current))},[d.collectionRef,d.itemMap])},f]}(c1),[c5,c6]=cJ(c1,[c4]),[c7,c8]=c5(c1),c9=c.forwardRef((a,c)=>(0,b.jsx)(c2.Provider,{scope:a.__scopeRovingFocusGroup,children:(0,b.jsx)(c2.Slot,{scope:a.__scopeRovingFocusGroup,children:(0,b.jsx)(da,{...a,ref:c})})}));c9.displayName=c1;var da=c.forwardRef((a,d)=>{let{__scopeRovingFocusGroup:e,orientation:f,loop:g=!1,dir:h,currentTabStopId:i,defaultCurrentTabStopId:j,onCurrentTabStopIdChange:k,onEntryFocus:l,preventScrollOnEntryFocus:m=!1,...n}=a,o=c.useRef(null),p=cM(d,o),q=c$(h),[r,s]=cY({prop:i,defaultProp:j??null,onChange:k,caller:c1}),[t,u]=c.useState(!1),v=(0,aA.useCallbackRef)(l),w=c3(e),x=c.useRef(!1),[y,z]=c.useState(0);return c.useEffect(()=>{let a=o.current;if(a)return a.addEventListener(c_,v),()=>a.removeEventListener(c_,v)},[v]),(0,b.jsx)(c7,{scope:e,orientation:f,dir:q,loop:g,currentTabStopId:r,onItemFocus:c.useCallback(a=>s(a),[s]),onItemShiftTab:c.useCallback(()=>u(!0),[]),onFocusableItemAdd:c.useCallback(()=>z(a=>a+1),[]),onFocusableItemRemove:c.useCallback(()=>z(a=>a-1),[]),children:(0,b.jsx)(cW.div,{tabIndex:t||0===y?-1:0,"data-orientation":f,...n,ref:p,style:{outline:"none",...a.style},onMouseDown:cI(a.onMouseDown,()=>{x.current=!0}),onFocus:cI(a.onFocus,a=>{let b=!x.current;if(a.target===a.currentTarget&&b&&!t){let b=new CustomEvent(c_,c0);if(a.currentTarget.dispatchEvent(b),!b.defaultPrevented){let a=w().filter(a=>a.focusable);de([a.find(a=>a.active),a.find(a=>a.id===r),...a].filter(Boolean).map(a=>a.ref.current),m)}}x.current=!1}),onBlur:cI(a.onBlur,()=>u(!1))})})}),db="RovingFocusGroupItem",dc=c.forwardRef((a,d)=>{let{__scopeRovingFocusGroup:e,focusable:f=!0,active:g=!1,tabStopId:h,children:i,...j}=a,k=cV(),l=h||k,m=c8(db,e),n=m.currentTabStopId===l,o=c3(e),{onFocusableItemAdd:p,onFocusableItemRemove:q,currentTabStopId:r}=m;return c.useEffect(()=>{if(f)return p(),()=>q()},[f,p,q]),(0,b.jsx)(c2.ItemSlot,{scope:e,id:l,focusable:f,active:g,children:(0,b.jsx)(cW.span,{tabIndex:n?0:-1,"data-orientation":m.orientation,...j,ref:d,onMouseDown:cI(a.onMouseDown,a=>{f?m.onItemFocus(l):a.preventDefault()}),onFocus:cI(a.onFocus,()=>m.onItemFocus(l)),onKeyDown:cI(a.onKeyDown,a=>{if("Tab"===a.key&&a.shiftKey)return void m.onItemShiftTab();if(a.target!==a.currentTarget)return;let b=function(a,b,c){var d;let e=(d=a.key,"rtl"!==c?d:"ArrowLeft"===d?"ArrowRight":"ArrowRight"===d?"ArrowLeft":d);if(!("vertical"===b&&["ArrowLeft","ArrowRight"].includes(e))&&!("horizontal"===b&&["ArrowUp","ArrowDown"].includes(e)))return dd[e]}(a,m.orientation,m.dir);if(void 0!==b){if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return;a.preventDefault();let e=o().filter(a=>a.focusable).map(a=>a.ref.current);if("last"===b)e.reverse();else if("prev"===b||"next"===b){var c,d;"prev"===b&&e.reverse();let f=e.indexOf(a.currentTarget);e=m.loop?(c=e,d=f+1,c.map((a,b)=>c[(d+b)%c.length])):e.slice(f+1)}setTimeout(()=>de(e))}}),children:"function"==typeof i?i({isCurrentTabStop:n,hasTabStop:null!=r}):i})})});dc.displayName=db;var dd={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function de(a,b=!1){let c=document.activeElement;for(let d of a)if(d===c||(d.focus({preventScroll:b}),document.activeElement!==c))return}var df="Tabs",[dg,dh]=cJ(df,[c6]),di=c6(),[dj,dk]=dg(df),dl=c.forwardRef((a,c)=>{let{__scopeTabs:d,value:e,onValueChange:f,defaultValue:g,orientation:h="horizontal",dir:i,activationMode:j="automatic",...k}=a,l=c$(i),[m,n]=cY({prop:e,onChange:f,defaultProp:g??"",caller:df});return(0,b.jsx)(dj,{scope:d,baseId:cV(),value:m,onValueChange:n,orientation:h,dir:l,activationMode:j,children:(0,b.jsx)(cW.div,{dir:l,"data-orientation":h,...k,ref:c})})});dl.displayName=df;var dm="TabsList",dn=c.forwardRef((a,c)=>{let{__scopeTabs:d,loop:e=!0,...f}=a,g=dk(dm,d),h=di(d);return(0,b.jsx)(c9,{asChild:!0,...h,orientation:g.orientation,dir:g.dir,loop:e,children:(0,b.jsx)(cW.div,{role:"tablist","aria-orientation":g.orientation,...f,ref:c})})});dn.displayName=dm;var dp="TabsTrigger",dq=c.forwardRef((a,c)=>{let{__scopeTabs:d,value:e,disabled:f=!1,...g}=a,h=dk(dp,d),i=di(d),j=dt(h.baseId,e),k=du(h.baseId,e),l=e===h.value;return(0,b.jsx)(dc,{asChild:!0,...i,focusable:!f,active:l,children:(0,b.jsx)(cW.button,{type:"button",role:"tab","aria-selected":l,"aria-controls":k,"data-state":l?"active":"inactive","data-disabled":f?"":void 0,disabled:f,id:j,...g,ref:c,onMouseDown:cI(a.onMouseDown,a=>{f||0!==a.button||!1!==a.ctrlKey?a.preventDefault():h.onValueChange(e)}),onKeyDown:cI(a.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&h.onValueChange(e)}),onFocus:cI(a.onFocus,()=>{let a="manual"!==h.activationMode;l||f||!a||h.onValueChange(e)})})})});dq.displayName=dp;var dr="TabsContent",ds=c.forwardRef((a,d)=>{let{__scopeTabs:e,value:f,forceMount:g,children:h,...i}=a,j=dk(dr,e),k=dt(j.baseId,f),l=du(j.baseId,f),m=f===j.value,n=c.useRef(m);return c.useEffect(()=>{let a=requestAnimationFrame(()=>n.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,b.jsx)(aV.Presence,{present:g||m,children:({present:c})=>(0,b.jsx)(cW.div,{"data-state":m?"active":"inactive","data-orientation":j.orientation,role:"tabpanel","aria-labelledby":k,hidden:!c,id:l,tabIndex:0,...i,ref:d,style:{...a.style,animationDuration:n.current?"0s":void 0},children:c&&h})})});function dt(a,b){return`${a}-trigger-${b}`}function du(a,b){return`${a}-content-${b}`}ds.displayName=dr;let dv=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(dn,{ref:d,className:(0,I.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...c}));dv.displayName=dn.displayName;let dw=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(dq,{ref:d,className:(0,I.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...c}));dw.displayName=dq.displayName;let dx=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(ds,{ref:d,className:(0,I.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...c}));dx.displayName=ds.displayName;let dy=(0,h.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),dz=(0,h.default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);function dA({artifact:a,onClose:d}){let[f,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)("code"),[k,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null),p=async()=>{if("code"===a.type){m(!0),o(null);try{let b=await fetch("/api/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:a.content,language:a.language||"javascript"})}),c=await b.json();o(c)}catch(a){o({success:!1,error:a.message||"Failed to execute code"})}finally{m(!1)}}};return(0,b.jsxs)("div",{className:"w-[600px] border-l border-border bg-card flex flex-col",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold",children:a.title}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["code"===a.type&&`${a.language||"Code"} Artifact`,"document"===a.type&&"Document Artifact","visualization"===a.type&&"Visualization Artifact"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["code"===a.type&&(0,b.jsxs)(e.Button,{size:"sm",variant:"outline",className:"h-8 gap-2 border-[var(--bronze)] text-[var(--bronze)] hover:bg-[var(--bronze)]/10 bg-transparent",onClick:p,disabled:k,children:[(0,b.jsx)(dz,{className:"h-3 w-3"}),k?"Running...":"Run"]}),(0,b.jsx)(e.Button,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>{navigator.clipboard.writeText(a.content),h(!0),setTimeout(()=>h(!1),2e3)},children:f?(0,b.jsx)(A.Check,{className:"h-4 w-4"}):(0,b.jsx)(z,{className:"h-4 w-4"})}),(0,b.jsx)(e.Button,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>{let b=new Blob([a.content],{type:"text/plain"}),c=URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`${a.title}.${a.language||"txt"}`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c)},children:(0,b.jsx)(dy,{className:"h-4 w-4"})}),(0,b.jsx)(e.Button,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:d,children:(0,b.jsx)(l.X,{className:"h-4 w-4"})})]})]}),"code"===a.type&&(0,b.jsxs)(dl,{value:i,onValueChange:a=>j(a),className:"flex-1 flex flex-col",children:[(0,b.jsx)("div",{className:"px-4 pt-3",children:(0,b.jsxs)(dv,{className:"grid w-full grid-cols-2",children:[(0,b.jsx)(dw,{value:"code",children:"Code"}),(0,b.jsx)(dw,{value:"preview",children:"Output"})]})}),(0,b.jsx)(dx,{value:"code",className:"flex-1 m-0 p-0",children:(0,b.jsx)(g.ScrollArea,{className:"h-full",children:(0,b.jsx)("pre",{className:"p-4 text-xs font-mono bg-secondary/30",children:(0,b.jsx)("code",{className:(0,I.cn)("language-"+a.language),children:a.content})})})}),(0,b.jsx)(dx,{value:"preview",className:"flex-1 m-0 p-0",children:(0,b.jsx)("div",{className:"h-full flex flex-col",children:n?(0,b.jsx)(g.ScrollArea,{className:"flex-1",children:(0,b.jsx)("div",{className:"p-4",children:n.success?(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-green-500",children:[(0,b.jsx)(A.Check,{className:"h-4 w-4"}),"Execution Successful"]}),(0,b.jsx)("pre",{className:"p-3 rounded-lg bg-secondary text-xs font-mono whitespace-pre-wrap",children:n.output||"No output"})]}):(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-destructive",children:[(0,b.jsx)(S,{className:"h-4 w-4"}),"Execution Failed"]}),(0,b.jsx)("pre",{className:"p-3 rounded-lg bg-destructive/10 text-xs font-mono text-destructive whitespace-pre-wrap",children:n.error})]})})}):(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center bg-secondary/30",children:(0,b.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,b.jsx)(dz,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,b.jsx)("p",{className:"text-sm",children:'Click "Run" to execute code'}),(0,b.jsx)("p",{className:"text-xs mt-1",children:"Supports JavaScript and TypeScript"})]})})})})]}),"document"===a.type&&(0,b.jsx)(g.ScrollArea,{className:"flex-1",children:(0,b.jsx)("div",{className:"p-4 prose prose-sm dark:prose-invert max-w-none",children:a.content})}),"visualization"===a.type&&(0,b.jsx)("div",{className:"flex-1 p-4",children:(0,b.jsx)("div",{className:"h-full flex items-center justify-center bg-secondary/30 rounded-lg",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Visualization would render here"})})})]})}var dB=a.i(19759),dC=a.i(53071),dD=a.i(69439);let dE=(0,h.default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),dF=(0,h.default)("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),dG=(0,h.default)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),dH=(0,h.default)("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),dI=[{key:"promptOptimization",label:"Prompt Optimization",description:"Automatically enhance your prompts for better results",icon:dD.Lightbulb},{key:"outputValidation",label:"Output Validation",description:"Verify and fact-check AI responses",icon:dE},{key:"answerStructure",label:"Answer Structure",description:"Format responses with clear sections and examples",icon:dF},{key:"sharedMemory",label:"Shared Memory",description:"Access context from previous conversations",icon:dG},{key:"learnFromChat",label:"Learn from Chat",description:"Improve responses based on this conversation",icon:dH}];function dJ({open:a,onOpenChange:c,settings:d,onSettingsChange:e}){return(0,b.jsx)(dC.Sheet,{open:a,onOpenChange:c,children:(0,b.jsxs)(dC.SheetContent,{side:"right",className:"w-[260px] sm:w-[280px] bg-card border-l border-border",children:[(0,b.jsx)(dC.SheetHeader,{className:"mb-6",children:(0,b.jsx)(dC.SheetTitle,{className:"text-lg font-semibold",children:"Advanced Tuning"})}),(0,b.jsx)("div",{className:"space-y-6",children:dI.map(a=>{let c=a.icon,f=d[a.key];return(0,b.jsxs)("div",{className:"flex items-start gap-4 p-4 rounded-lg border border-border bg-secondary/30 hover:bg-secondary/50 transition-colors",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center transition-colors ${f?"bg-[var(--bronze)]/20 text-[var(--bronze)]":"bg-muted text-muted-foreground"}`,children:(0,b.jsx)(c,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)(bK.Label,{htmlFor:a.key,className:"text-sm font-medium cursor-pointer",children:a.label}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:a.description})]}),(0,b.jsx)(bJ,{id:a.key,checked:f,onCheckedChange:b=>e({[a.key]:b}),className:"data-[state=checked]:bg-[var(--bronze)]"})]},a.key)})}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-8 text-center",children:"Settings are applied to your current and future chats"})]})})}let dK=(0,h.default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var dL=a.i(88959);function dM(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(dL.DEFAULT_ORCHESTRATOR_SETTINGS),[q,r]=(0,c.useState)(!1);(0,c.useEffect)(()=>{p((0,dL.loadOrchestratorSettings)()),r(!0)},[]);let[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(null),A=a.find(a=>a.id===g),B=()=>{let b={id:`conv-${Date.now()}`,title:"New Chat",messages:[],createdAt:new Date,updatedAt:new Date,model:"gpt-4o"};return f([b,...a]),h(b.id),j(!1),l(null),x(!1),b.id},C=b=>{h(b),x(!1);let c=a.find(a=>a.id===b),d=c?.messages.reverse().find(a=>a.artifact)?.artifact;d?(l(d),j(!0)):(j(!1),l(null))},D=a=>{f(b=>b.filter(b=>b.id!==a)),g===a&&(h(null),j(!1),l(null))},E=a=>{f(b=>b.map(b=>b.id===a?{...b,pinned:!b.pinned}:b))},F=(a,b)=>{f(c=>c.map(c=>c.id===a?{...c,title:b}:c))},G=(a,b)=>{console.log(`Moving conversation ${a} to project ${b}`)},H=()=>{console.log("Sign in triggered")},I=()=>{z(null)},J=()=>{h(null),j(!1),l(null),x(!1)},K=a=>{p(b=>{let c={...b,...a};return(0,dL.saveOrchestratorSettings)(c),c})},L=(0,b.jsx)(d.Sidebar,{conversations:a,currentConversationId:g,onNewChat:B,onSelectConversation:C,onDeleteConversation:D,onTogglePin:E,onRenameConversation:F,onMoveToProject:G,projects:m,collapsed:u,onToggleCollapse:()=>v(!u),onGoHome:J});return(0,b.jsxs)("div",{className:"flex h-full w-full bg-background relative",children:[(0,b.jsx)("div",{className:"hidden md:block h-full",children:L}),(0,b.jsxs)("div",{className:"md:hidden fixed top-0 left-0 right-0 z-50 h-14 border-b border-border bg-card/95 backdrop-blur-xl flex items-center justify-between px-4",children:[(0,b.jsxs)(dC.Sheet,{open:w,onOpenChange:x,children:[(0,b.jsx)(dC.SheetTrigger,{asChild:!0,children:(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",className:"h-9 w-9",children:(0,b.jsx)(dK,{className:"h-5 w-5"})})}),(0,b.jsx)(dC.SheetContent,{side:"left",className:"p-0 w-72",children:(0,b.jsx)(d.Sidebar,{conversations:a,currentConversationId:g,onNewChat:B,onSelectConversation:C,onDeleteConversation:D,onTogglePin:E,onRenameConversation:F,onMoveToProject:G,projects:m,collapsed:!1,onToggleCollapse:()=>{},onGoHome:J})})]}),(0,b.jsx)("span",{className:"text-lg font-bold bg-gradient-to-r from-orange-500 to-[var(--gold)] bg-clip-text text-transparent",children:"LLMHive"}),(0,b.jsx)(dB.UserAccountMenu,{user:y,onSignIn:H,onSignOut:I})]}),(0,b.jsx)("div",{className:"flex flex-1 overflow-hidden md:pt-0 pt-14",children:g?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(cD,{conversation:A,onSendMessage:a=>{let b=g;b||(b=B()),f(c=>c.map(c=>{if(c.id===b){let b=[...c.messages,a];return{...c,messages:b,updatedAt:new Date,title:"New Chat"===c.title&&"user"===a.role?a.content.slice(0,50):c.title}}return c})),a.artifact&&(l(a.artifact),j(!0))},onShowArtifact:a=>{l(a),j(!0)},orchestratorSettings:o,onOrchestratorSettingsChange:K,onOpenAdvancedSettings:()=>t(!0),userAccountMenu:(0,b.jsx)("div",{className:"hidden md:block",children:(0,b.jsx)(dB.UserAccountMenu,{user:y,onSignIn:H,onSignOut:I})})}),i&&k&&(0,b.jsx)(dA,{artifact:k,onClose:()=>j(!1)})]}):(0,b.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[(0,b.jsx)("div",{className:"hidden md:flex items-center justify-end p-3 border-b border-border bg-card/50",children:(0,b.jsx)(dB.UserAccountMenu,{user:y,onSignIn:H,onSignOut:I})}),(0,b.jsx)("div",{className:"flex-1 h-full overflow-auto",children:(0,b.jsx)(cH,{onNewChat:B,onStartFromTemplate:a=>{let b={...dL.DEFAULT_ORCHESTRATOR_SETTINGS,...a};p(b),(0,dL.saveOrchestratorSettings)(b),B()}})})]})}),(0,b.jsx)(dJ,{open:s,onOpenChange:t,settings:o,onSettingsChange:K})]})}a.s(["ChatInterface",()=>dM],58092)}];

//# sourceMappingURL=components_chat-interface_tsx_bdb8ac45._.js.map