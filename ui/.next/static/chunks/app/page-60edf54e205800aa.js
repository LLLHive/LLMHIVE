(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5232:(e,s,a)=>{Promise.resolve().then(a.bind(a,7047))},7047:(e,s,a)=>{"use strict";a.d(s,{ChatInterface:()=>sV});var t=a(5155),r=a(2115),n=a(5565),i=a(4707),l=a(1027),o=a(3463),d=a(9795);function c(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,d.QP)((0,o.$)(s))}let m=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function x(e){let{className:s,variant:a,size:r,asChild:n=!1,...l}=e,o=n?i.DX:"button";return(0,t.jsx)(o,{"data-slot":"button",className:c(m({variant:a,size:r,className:s})),...l})}var u=a(7977);let h=r.forwardRef((e,s)=>{let{className:a,children:r,...n}=e;return(0,t.jsxs)(u.bL,{ref:s,className:c("relative overflow-hidden",a),...n,children:[(0,t.jsx)(u.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,t.jsx)(p,{}),(0,t.jsx)(u.OK,{})]})});h.displayName=u.bL.displayName;let p=r.forwardRef((e,s)=>{let{className:a,orientation:r="vertical",...n}=e;return(0,t.jsx)(u.VM,{ref:s,orientation:r,className:c("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...n,children:(0,t.jsx)(u.lr,{className:"relative flex-1 rounded-full bg-border"})})});p.displayName=u.VM.displayName;let g=r.forwardRef((e,s)=>{let{className:a,type:r,...n}=e;return(0,t.jsx)("input",{type:r,className:c("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...n})});g.displayName="Input";var f=a(5160),v=a(767);let j=f.bL,b=f.l9,N=f.ZL;f.bm;let y=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(f.hJ,{ref:s,className:c("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});y.displayName=f.hJ.displayName;let w=r.forwardRef((e,s)=>{let{className:a,children:r,...n}=e;return(0,t.jsxs)(N,{children:[(0,t.jsx)(y,{}),(0,t.jsxs)(f.UC,{ref:s,className:c("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg",a),...n,children:[r,(0,t.jsxs)(f.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(v.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});w.displayName=f.UC.displayName;let k=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:c("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};k.displayName="DialogHeader";let z=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:c("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};z.displayName="DialogFooter";let C=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(f.hE,{ref:s,className:c("text-lg font-semibold leading-none tracking-tight",a),...r})});C.displayName=f.hE.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(f.VY,{ref:s,className:c("text-sm text-muted-foreground",a),...r})}).displayName=f.VY.displayName;var A=a(3473),S=a(3348),D=a(6308),L=a(98),P=a(853),M=a(6122),I=a(3467),_=a(2823),R=a(8236),T=a(6967),E=a(3518),O=a(4858),U=a(2744),V=a(5686),H=a(69);function q(e){let{...s}=e;return(0,t.jsx)(H.bL,{"data-slot":"dropdown-menu",...s})}function F(e){let{...s}=e;return(0,t.jsx)(H.l9,{"data-slot":"dropdown-menu-trigger",...s})}function G(e){let{className:s,sideOffset:a=4,...r}=e;return(0,t.jsx)(H.ZL,{children:(0,t.jsx)(H.UC,{"data-slot":"dropdown-menu-content",sideOffset:a,className:c("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),...r})})}function B(e){let{className:s,inset:a,variant:r="default",...n}=e;return(0,t.jsx)(H.q7,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":r,className:c("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...n})}function K(e){let{className:s,inset:a,...r}=e;return(0,t.jsx)(H.JU,{"data-slot":"dropdown-menu-label","data-inset":a,className:c("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",s),...r})}function J(e){let{className:s,...a}=e;return(0,t.jsx)(H.wv,{"data-slot":"dropdown-menu-separator",className:c("bg-border -mx-1 my-1 h-px",s),...a})}let Q=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("textarea",{className:c("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...r})});Q.displayName="Textarea";var Y=a(4081);function W(e){let{projects:s,onCreateProject:a,onDeleteProject:n,onSelectProject:i}=e,[l,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(""),[m,u]=(0,r.useState)("");return(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Projects"}),(0,t.jsxs)(j,{open:l,onOpenChange:o,children:[(0,t.jsx)(b,{asChild:!0,children:(0,t.jsxs)(x,{size:"sm",className:"bronze-gradient",children:[(0,t.jsx)(A.A,{className:"h-4 w-4 mr-2"}),"New Project"]})}),(0,t.jsxs)(w,{children:[(0,t.jsx)(k,{children:(0,t.jsx)(C,{children:"Create New Project"})}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Project Name"}),(0,t.jsx)(g,{value:d,onChange:e=>c(e.target.value),placeholder:"My Awesome Project"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,t.jsx)(Q,{value:m,onChange:e=>u(e.target.value),placeholder:"Describe your project...",rows:3})]})]}),(0,t.jsxs)(z,{children:[(0,t.jsx)(x,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),(0,t.jsx)(x,{onClick:()=>{d.trim()&&(a({name:d,description:m,conversations:[],files:[]}),c(""),u(""),o(!1))},disabled:!d.trim(),className:"bronze-gradient",children:"Create Project"})]})]})]})]}),(0,t.jsx)(h,{className:"h-[calc(100vh-200px)]",children:0===s.length?(0,t.jsxs)("div",{className:"py-12 text-center text-muted-foreground",children:[(0,t.jsx)(D.A,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,t.jsx)("p",{className:"text-sm",children:"No projects yet"}),(0,t.jsx)("p",{className:"text-xs mt-1",children:"Create a project to organize your work"})]}):(0,t.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,t.jsx)(Z,{project:e,onSelect:()=>i(e.id),onDelete:()=>n(e.id)},e.id))})})]})}function Z(e){let{project:s,onSelect:a,onDelete:r}=e;return(0,t.jsxs)("div",{onClick:a,className:"p-4 rounded-lg border border-border bg-card hover:border-[var(--bronze)] transition-colors cursor-pointer group",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded bg-gradient-to-br from-[var(--bronze)] to-[var(--gold)] flex items-center justify-center",children:(0,t.jsx)(D.A,{className:"h-4 w-4 text-background"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",children:s.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-1",children:s.description})]})]}),(0,t.jsxs)(q,{children:[(0,t.jsx)(F,{asChild:!0,onClick:e=>e.stopPropagation(),children:(0,t.jsx)(x,{variant:"ghost",size:"icon",className:"h-7 w-7 opacity-0 group-hover:opacity-100",children:(0,t.jsx)(O.A,{className:"h-4 w-4"})})}),(0,t.jsx)(G,{align:"end",children:(0,t.jsxs)(B,{onClick:e=>{e.stopPropagation(),r()},className:"text-destructive",children:[(0,t.jsx)(V.A,{className:"h-4 w-4 mr-2"}),"Delete"]})})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(S.A,{className:"h-3 w-3"}),s.conversations.length," chats"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(Y.A,{className:"h-3 w-3"}),s.files.length," files"]})]})]})}var X=a(4352);let $=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ee=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(X.b,{ref:s,className:c($(),a),...r})});ee.displayName=X.b.displayName;var es=a(8956);let ea=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(es.bL,{className:c("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:s,children:(0,t.jsx)(es.zi,{className:c("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});ea.displayName=es.bL.displayName;var et=a(5971);let er=et.bL,en=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(et.B8,{ref:s,className:c("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...r})});en.displayName=et.B8.displayName;let ei=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(et.l9,{ref:s,className:c("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...r})});ei.displayName=et.l9.displayName;let el=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(et.UC,{ref:s,className:c("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});el.displayName=et.UC.displayName;var eo=a(447),ed=a(1719),ec=a(1902),em=a(8867);let ex=eo.bL;eo.YJ;let eu=eo.WT,eh=r.forwardRef((e,s)=>{let{className:a,children:r,...n}=e;return(0,t.jsxs)(eo.l9,{ref:s,className:c("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[r,(0,t.jsx)(eo.In,{asChild:!0,children:(0,t.jsx)(ed.A,{className:"h-4 w-4 opacity-50"})})]})});eh.displayName=eo.l9.displayName;let ep=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(eo.PP,{ref:s,className:c("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(ec.A,{className:"h-4 w-4"})})});ep.displayName=eo.PP.displayName;let eg=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(eo.wn,{ref:s,className:c("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(ed.A,{className:"h-4 w-4"})})});eg.displayName=eo.wn.displayName;let ef=r.forwardRef((e,s)=>{let{className:a,children:r,position:n="popper",...i}=e;return(0,t.jsx)(eo.ZL,{children:(0,t.jsxs)(eo.UC,{ref:s,className:c("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...i,children:[(0,t.jsx)(ep,{}),(0,t.jsx)(eo.LM,{className:c("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(eg,{})]})})});ef.displayName=eo.UC.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(eo.JU,{ref:s,className:c("px-2 py-1.5 text-sm font-semibold",a),...r})}).displayName=eo.JU.displayName;let ev=r.forwardRef((e,s)=>{let{className:a,children:r,...n}=e;return(0,t.jsxs)(eo.q7,{ref:s,className:c("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,t.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(eo.VF,{children:(0,t.jsx)(em.A,{className:"h-4 w-4"})})}),(0,t.jsx)(eo.p4,{children:r})]})});ev.displayName=eo.q7.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(eo.wv,{ref:s,className:c("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=eo.wv.displayName;var ej=a(8070);let eb=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsxs)(ej.bL,{ref:s,className:c("relative flex w-full touch-none select-none items-center",a),...r,children:[(0,t.jsx)(ej.CC,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,t.jsx)(ej.Q6,{className:"absolute h-full bg-primary"})}),(0,t.jsx)(ej.zi,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})});eb.displayName=ej.bL.displayName;var eN=a(1466),ey=a(9928),ew=a(5288),ek=a(7072),ez=a(5205),eC=a(2640),eA=a(1476),eS=a(6744);let eD=(0,l.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function eL(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:c(eD({variant:a}),s),...r})}var eP=a(1626),eM=a(2970),eI=a(1734),e_=a(6336),eR=a(5340);let eT=[{id:"github",name:"GitHub",icon:eP.A,description:"Connect repositories for code analysis and PR generation",fields:[{key:"token",label:"Personal Access Token",type:"password"},{key:"repo",label:"Repository (org/repo)",type:"text"}]},{id:"google-cloud",name:"Google Cloud",icon:eM.A,description:"Access BigQuery, Cloud Storage, and AI services",fields:[{key:"projectId",label:"Project ID",type:"text"},{key:"credentials",label:"Service Account JSON",type:"textarea"}]},{id:"vercel",name:"Vercel",icon:eI.A,description:"Deploy and manage projects directly from chat",fields:[{key:"token",label:"Vercel Token",type:"password"}]}];function eE(){let[e,s]=(0,r.useState)([]),[a,n]=(0,r.useState)(null),i=(e,a)=>{s(s=>[...s.filter(s=>s.id!==e),{id:e,name:e,connected:!0,config:a}]),n(null)},l=e=>{s(s=>s.filter(s=>s.id!==e))};return(0,t.jsx)("div",{className:"space-y-4",children:eT.map(s=>{let r=e.find(e=>e.id===s.id),o=s.icon;return(0,t.jsx)("div",{className:"p-4 rounded-lg border border-border bg-card",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center",children:(0,t.jsx)(o,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h4",{className:"font-semibold",children:s.name}),r?(0,t.jsxs)(eL,{variant:"outline",className:"text-green-500 border-green-500 gap-1",children:[(0,t.jsx)(e_.A,{className:"h-3 w-3"}),"Connected"]}):(0,t.jsxs)(eL,{variant:"outline",className:"text-muted-foreground gap-1",children:[(0,t.jsx)(eR.A,{className:"h-3 w-3"}),"Not Connected"]})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:s.description})]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:r?(0,t.jsx)(x,{size:"sm",variant:"outline",onClick:()=>l(s.id),children:"Disconnect"}):(0,t.jsxs)(j,{open:a===s.id,onOpenChange:e=>n(e?s.id:null),children:[(0,t.jsx)(b,{asChild:!0,children:(0,t.jsx)(x,{size:"sm",variant:"outline",children:"Connect"})}),(0,t.jsxs)(w,{children:[(0,t.jsx)(k,{children:(0,t.jsxs)(C,{children:["Connect ",s.name]})}),(0,t.jsx)(eO,{integration:s,onConnect:i})]})]})})]})},s.id)})})}function eO(e){let{integration:s,onConnect:a}=e,[n,i]=(0,r.useState)({});return(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(s.id,n)},className:"space-y-4",children:[s.fields.map(e=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee,{htmlFor:e.key,children:e.label}),"textarea"===e.type?(0,t.jsx)("textarea",{id:e.key,className:"w-full min-h-[100px] rounded-md border border-input bg-background px-3 py-2 text-sm",value:n[e.key]||"",onChange:s=>i({...n,[e.key]:s.target.value}),required:!0}):(0,t.jsx)(g,{id:e.key,type:e.type,value:n[e.key]||"",onChange:s=>i({...n,[e.key]:s.target.value}),required:!0})]},e.key)),(0,t.jsx)(x,{type:"submit",className:"w-full",children:"Connect"})]})}function eU(){let[e,s]=(0,r.useState)("dark"),[a,n]=(0,r.useState)(!0),[i,l]=(0,r.useState)(!0),[o,d]=(0,r.useState)(30),[c,m]=(0,r.useState)([.7]);return(0,t.jsxs)("div",{className:"h-full flex flex-col",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-border",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Settings"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your LLMHive preferences"})]}),(0,t.jsx)(h,{className:"flex-1",children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)(er,{defaultValue:"general",className:"w-full",children:[(0,t.jsxs)(en,{className:"grid w-full grid-cols-5 mb-6",children:[(0,t.jsx)(ei,{value:"general",children:"General"}),(0,t.jsx)(ei,{value:"ai",children:"AI Models"}),(0,t.jsx)(ei,{value:"integrations",children:"Integrations"}),(0,t.jsx)(ei,{value:"privacy",children:"Privacy"}),(0,t.jsx)(ei,{value:"api",children:"API Keys"})]}),(0,t.jsxs)(el,{value:"general",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-[var(--bronze)] to-[var(--gold)] flex items-center justify-center",children:(0,t.jsx)(eN.A,{className:"h-5 w-5 text-background"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee,{className:"text-base font-semibold",children:"Profile"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage your account settings"})]})]})}),(0,t.jsxs)("div",{className:"pl-[52px] space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee,{children:"Display Name"}),(0,t.jsx)(g,{placeholder:"Your name",defaultValue:"User"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee,{children:"Email"}),(0,t.jsx)(g,{type:"email",placeholder:"your@email.com"})]})]})]}),(0,t.jsx)("div",{className:"h-px bg-border"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center",children:(0,t.jsx)(ey.A,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee,{className:"text-base font-semibold",children:"Appearance"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Customize the interface"})]})]})}),(0,t.jsxs)("div",{className:"pl-[52px] space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee,{children:"Theme"}),(0,t.jsxs)(ex,{value:e,onValueChange:s,children:[(0,t.jsx)(eh,{children:(0,t.jsx)(eu,{})}),(0,t.jsxs)(ef,{children:[(0,t.jsx)(ev,{value:"dark",children:"Dark"}),(0,t.jsx)(ev,{value:"light",children:"Light"}),(0,t.jsx)(ev,{value:"system",children:"System"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee,{children:"Font Size"}),(0,t.jsxs)(ex,{defaultValue:"medium",children:[(0,t.jsx)(eh,{children:(0,t.jsx)(eu,{})}),(0,t.jsxs)(ef,{children:[(0,t.jsx)(ev,{value:"small",children:"Small"}),(0,t.jsx)(ev,{value:"medium",children:"Medium"}),(0,t.jsx)(ev,{value:"large",children:"Large"})]})]})]})]})]}),(0,t.jsx)("div",{className:"h-px bg-border"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center",children:(0,t.jsx)(ew.A,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee,{className:"text-base font-semibold",children:"Notifications"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Configure notification preferences"})]})]}),(0,t.jsx)(ea,{checked:a,onCheckedChange:n})]}),a&&(0,t.jsxs)("div",{className:"pl-[52px] space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(ee,{className:"text-sm font-normal",children:"Email notifications"}),(0,t.jsx)(ea,{defaultChecked:!0})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(ee,{className:"text-sm font-normal",children:"Push notifications"}),(0,t.jsx)(ea,{defaultChecked:!0})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(ee,{className:"text-sm font-normal",children:"Collaboration updates"}),(0,t.jsx)(ea,{defaultChecked:!0})]})]})]})]}),(0,t.jsx)(el,{value:"ai",className:"space-y-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-[var(--bronze)] to-[var(--gold)] flex items-center justify-center",children:(0,t.jsx)(ek.A,{className:"h-5 w-5 text-background"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee,{className:"text-base font-semibold",children:"Model Preferences"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Configure default AI model settings"})]})]}),(0,t.jsxs)("div",{className:"pl-[52px] space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee,{children:"Default Model"}),(0,t.jsxs)(ex,{defaultValue:"gpt-5-mini",children:[(0,t.jsx)(eh,{children:(0,t.jsx)(eu,{})}),(0,t.jsxs)(ef,{children:[(0,t.jsx)(ev,{value:"gpt-5",children:"GPT-5"}),(0,t.jsx)(ev,{value:"gpt-5-mini",children:"GPT-5 Mini"}),(0,t.jsx)(ev,{value:"claude-sonnet-4.5",children:"Claude Sonnet 4.5"}),(0,t.jsx)(ev,{value:"grok-4",children:"Grok 4"}),(0,t.jsx)(ev,{value:"gemini-2.5-pro",children:"Gemini 2.5 Pro"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(ee,{children:["Temperature: ",c[0]]}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Creativity"})]}),(0,t.jsx)(eb,{value:c,onValueChange:m,min:0,max:1,step:.1,className:"w-full"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Higher values make output more creative, lower values more focused"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee,{children:"Max Tokens"}),(0,t.jsx)(g,{type:"number",defaultValue:"2048"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(ee,{children:"Streaming Responses"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Show responses as they generate"})]}),(0,t.jsx)(ea,{defaultChecked:!0})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(ee,{children:"Auto-execute Code"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Automatically run generated code"})]}),(0,t.jsx)(ea,{})]})]})]})}),(0,t.jsx)(el,{value:"integrations",className:"space-y-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-[var(--bronze)] to-[var(--gold)] flex items-center justify-center",children:(0,t.jsx)(ez.A,{className:"h-5 w-5 text-background"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee,{className:"text-base font-semibold",children:"External Integrations"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Connect third-party services and tools"})]})]}),(0,t.jsx)("div",{className:"pl-[52px]",children:(0,t.jsx)(eE,{})})]})}),(0,t.jsx)(el,{value:"privacy",className:"space-y-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-[var(--bronze)] to-[var(--gold)] flex items-center justify-center",children:(0,t.jsx)(eC.A,{className:"h-5 w-5 text-background"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee,{className:"text-base font-semibold",children:"Privacy & Security"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Control your data and security settings"})]})]}),(0,t.jsxs)("div",{className:"pl-[52px] space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(ee,{children:"Auto-save Conversations"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Automatically save chat history"})]}),(0,t.jsx)(ea,{checked:i,onCheckedChange:l})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)(ee,{children:["Data Retention: ",o," days"]})}),(0,t.jsx)(eb,{value:[o],onValueChange:e=>d(e[0]),min:7,max:365,step:1,className:"w-full"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(ee,{children:"Share Analytics"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Help improve LLMHive"})]}),(0,t.jsx)(ea,{defaultChecked:!0})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(ee,{children:"Use Data for Training"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Allow conversations to improve models"})]}),(0,t.jsx)(ea,{})]}),(0,t.jsx)("div",{className:"pt-4",children:(0,t.jsxs)(x,{variant:"destructive",className:"w-full",children:[(0,t.jsx)(eA.A,{className:"h-4 w-4 mr-2"}),"Clear All Conversation Data"]})})]})]})}),(0,t.jsx)(el,{value:"api",className:"space-y-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-[var(--bronze)] to-[var(--gold)] flex items-center justify-center",children:(0,t.jsx)(eS.A,{className:"h-5 w-5 text-background"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(ee,{className:"text-base font-semibold",children:"API Configuration"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage external API keys"})]})]}),(0,t.jsxs)("div",{className:"pl-[52px] space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee,{children:"OpenAI API Key"}),(0,t.jsx)(g,{type:"password",placeholder:"sk-..."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee,{children:"Anthropic API Key"}),(0,t.jsx)(g,{type:"password",placeholder:"sk-ant-..."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee,{children:"Google AI API Key"}),(0,t.jsx)(g,{type:"password",placeholder:"AIza..."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee,{children:"xAI API Key"}),(0,t.jsx)(g,{type:"password",placeholder:"xai-..."})]}),(0,t.jsx)("div",{className:"pt-2",children:(0,t.jsx)(x,{className:"w-full bronze-gradient",children:"Save API Keys"})}),(0,t.jsx)("div",{className:"p-3 rounded-lg bg-secondary/50 border border-border",children:(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"API keys are encrypted and stored securely. They are only used to make requests on your behalf."})})]})]})})]})})})]})}var eV=a(4752);let eH=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(eV.bL,{ref:s,className:c("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});eH.displayName=eV.bL.displayName;let eq=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(eV._V,{ref:s,className:c("aspect-square h-full w-full",a),...r})});eq.displayName=eV._V.displayName;let eF=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(eV.H4,{ref:s,className:c("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});eF.displayName=eV.H4.displayName;var eG=a(7517),eB=a(6462),eK=a(4430),eJ=a(6644);function eQ(){let[e,s]=(0,r.useState)([{id:"1",name:"You",email:"you@example.com",role:"owner",status:"online"}]),[a,n]=(0,r.useState)(""),i=()=>{a.trim()&&n("")};return(0,t.jsxs)("div",{className:"h-full flex flex-col",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-border",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,t.jsx)(_.A,{className:"h-6 w-6"}),"Collaboration"]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Share and collaborate with your team"})]}),(0,t.jsx)(h,{className:"flex-1",children:(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold",children:"Invite Collaborators"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(g,{type:"email",placeholder:"email@example.com",value:a,onChange:e=>n(e.target.value),onKeyDown:e=>"Enter"===e.key&&i()}),(0,t.jsxs)(x,{onClick:i,className:"bronze-gradient",children:[(0,t.jsx)(eG.A,{className:"h-4 w-4 mr-2"}),"Invite"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(x,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",children:[(0,t.jsx)(eB.A,{className:"h-3 w-3 mr-2"}),"Email Invite"]}),(0,t.jsxs)(x,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",children:[(0,t.jsx)(eK.A,{className:"h-3 w-3 mr-2"}),"Copy Link"]})]})]}),(0,t.jsx)("div",{className:"h-px bg-border"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("h3",{className:"text-sm font-semibold",children:["Team Members (",e.length,")"]}),(0,t.jsx)("div",{className:"space-y-2",children:e.map(a=>(0,t.jsx)(eY,{collaborator:a,onRemove:()=>s(e.filter(e=>e.id!==a.id)),onRoleChange:t=>{s(e.map(e=>e.id===a.id?{...e,role:t}:e))}},a.id))})]}),(0,t.jsx)("div",{className:"h-px bg-border"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold",children:"Sharing Settings"}),(0,t.jsx)("div",{className:"space-y-2 text-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-secondary/50",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Anyone with the link"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Can view and comment"})]}),(0,t.jsx)(x,{variant:"outline",size:"sm",children:"Change"})]})})]})]})})]})}function eY(e){let{collaborator:s,onRemove:a,onRoleChange:r}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border hover:border-[var(--bronze)] transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(eH,{className:"h-10 w-10",children:[(0,t.jsx)(eq,{src:s.avatar||"/placeholder.svg"}),(0,t.jsx)(eF,{children:s.name[0]})]}),(0,t.jsx)("div",{className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-background ".concat("online"===s.status?"bg-green-500":"bg-gray-400")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:s.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:s.email})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(eL,{variant:"secondary",className:(e=>{switch(e){case"owner":return"bg-gradient-to-r from-[var(--bronze)] to-[var(--gold)]";case"editor":return"bg-blue-500/10 text-blue-500";default:return"bg-secondary"}})(s.role),children:[(e=>{switch(e){case"owner":return(0,t.jsx)(eJ.A,{className:"h-3 w-3"});case"editor":return(0,t.jsx)(eC.A,{className:"h-3 w-3"});default:return(0,t.jsx)(eN.A,{className:"h-3 w-3"})}})(s.role),(0,t.jsx)("span",{className:"ml-1 capitalize",children:s.role})]}),"owner"!==s.role&&(0,t.jsxs)(q,{children:[(0,t.jsx)(F,{asChild:!0,children:(0,t.jsx)(x,{variant:"ghost",size:"icon",className:"h-7 w-7",children:(0,t.jsx)(O.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(G,{align:"end",children:[(0,t.jsxs)(B,{onClick:()=>r("editor"),children:[(0,t.jsx)(eC.A,{className:"h-4 w-4 mr-2"}),"Make Editor"]}),(0,t.jsxs)(B,{onClick:()=>r("viewer"),children:[(0,t.jsx)(eN.A,{className:"h-4 w-4 mr-2"}),"Make Viewer"]}),(0,t.jsx)(B,{onClick:a,className:"text-destructive",children:"Remove"})]})]})]})]})}var eW=a(1544),eZ=a(4505),eX=a(1594);function e$(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card",className:c("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...a})}function e0(){let[e,s]=(0,r.useState)(null),[a,n]=(0,r.useState)(!1),[i,l]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=!1;return(async()=>{n(!0),l(null);try{let a=await fetch("/api/system/model-metrics",{cache:"no-store"});if(!a.ok)throw Error("HTTP ".concat(a.status));let t=await a.json();e||s(t)}catch(s){e||l("Unable to load metrics. Check backend health."),console.error("[LLMHive] MetricsPanel error:",s)}finally{e||n(!1)}})(),()=>{e=!0}},[]);let o=(null==e?void 0:e.in_memory)&&Object.keys(e.in_memory).length>0||(null==e?void 0:e.persisted)&&Object.keys(e.persisted).length>0;return(0,t.jsxs)(e$,{className:"mt-4 p-3 border border-border bg-card/80",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(eW.A,{className:"h-4 w-4 text-[var(--bronze)]"}),(0,t.jsx)("h3",{className:"text-xs font-semibold tracking-wide uppercase text-muted-foreground",children:"Orchestration Health"})]}),a&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,t.jsx)(eZ.A,{className:"h-3 w-3 animate-spin"}),"Loading model metrics..."]}),!a&&i&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-destructive",children:[(0,t.jsx)(eX.A,{className:"h-3 w-3"}),i]}),!a&&!i&&!o&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"No metrics yet. Run a few orchestrations to see model usage and quality."}),!a&&!i&&o&&(0,t.jsx)(h,{className:"mt-2 max-h-56",children:(0,t.jsxs)("div",{className:"space-y-2",children:[e1("In-Memory (current session)",null==e?void 0:e.in_memory),e1("Persisted (historical)",null==e?void 0:e.persisted)]})})]})}function e1(e,s){return s&&0!==Object.keys(s).length?(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] font-medium text-muted-foreground mb-1",children:e}),(0,t.jsx)("div",{className:"space-y-1",children:Object.entries(s).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between text-[10px] px-2 py-1 rounded bg-secondary/40 border border-border/60",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"font-mono text-[var(--bronze)]",children:s}),(0,t.jsxs)("span",{className:"text-[10px] text-muted-foreground",children:["calls ",a.calls," \xb7 tokens ",a.total_tokens]})]}),(0,t.jsxs)("div",{className:"text-right",children:[void 0!==a.avg_quality&&(0,t.jsxs)("div",{className:"text-[10px]",children:["quality ",(100*a.avg_quality).toFixed(0),"%"]}),void 0!==a.success_rate&&(0,t.jsxs)("div",{className:"text-[10px] text-muted-foreground",children:["success ",(100*a.success_rate).toFixed(0),"%"]})]})]},s)})})]}):null}function e5(e){let{conversations:s,currentConversationId:a,onNewChat:i,onSelectConversation:l,onDeleteConversation:o,onTogglePin:d}=e,[m,u]=(0,r.useState)(""),[p,f]=(0,r.useState)("chats"),[v,N]=(0,r.useState)([]),[y,k]=(0,r.useState)(!1),[z,C]=(0,r.useState)(!1),[O,U]=(0,r.useState)(!1),V=s.filter(e=>e.title.toLowerCase().includes(m.toLowerCase())),H=V.filter(e=>e.pinned),q=V.filter(e=>!e.pinned);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("aside",{className:c("border-r border-border bg-sidebar flex flex-col transition-all duration-300 relative",O?"w-16":"w-[171px]"),children:[(0,t.jsxs)("div",{className:"p-4 pb-2 border-b border-border flex items-center justify-between",children:[!O&&(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"relative w-[84px] h-[84px] -ml-1 -mt-1",children:(0,t.jsx)(n.default,{src:"/logo.png",alt:"LLMHive",fill:!0,className:"object-contain",priority:!0})}),(0,t.jsx)("span",{className:"text-xl font-bold bg-gradient-to-r from-orange-500 to-[var(--gold)] bg-clip-text text-transparent -ml-5 mt-2",children:"LLMHive"})]}),O&&(0,t.jsx)("div",{className:"relative w-[55px] h-[55px] mx-auto",children:(0,t.jsx)(n.default,{src:"/logo.png",alt:"LLMHive",fill:!0,className:"object-contain",priority:!0})})]}),!O&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"p-3 pt-2",children:(0,t.jsxs)(x,{onClick:i,className:"w-full justify-start gap-2 bronze-gradient hover:opacity-90 text-primary-foreground",children:[(0,t.jsx)(A.A,{className:"h-4 w-4"}),"New Chat"]})}),(0,t.jsxs)("div",{className:"px-3 pb-2 space-y-1",children:[(0,t.jsxs)(x,{variant:"ghost",size:"sm",onClick:()=>f("chats"),className:c("w-full justify-start text-sm transition-all","chats"===p&&"bg-secondary","hover:bronze-gradient hover:text-primary-foreground"),children:[(0,t.jsx)(S.A,{className:"h-4 w-4 mr-2"}),"Chats"]}),(0,t.jsxs)(x,{variant:"ghost",size:"sm",onClick:()=>f("projects"),className:c("w-full justify-start text-sm transition-all","projects"===p&&"bg-secondary","hover:bronze-gradient hover:text-primary-foreground"),children:[(0,t.jsx)(D.A,{className:"h-4 w-4 mr-2"}),"Projects"]}),(0,t.jsxs)(x,{variant:"ghost",size:"sm",onClick:()=>f("discover"),className:c("w-full justify-start text-sm transition-all","discover"===p&&"bg-secondary","hover:bronze-gradient hover:text-primary-foreground"),children:[(0,t.jsx)(L.A,{className:"h-4 w-4 mr-2"}),"Discover"]})]}),"chats"===p&&(0,t.jsx)("div",{className:"px-3 pb-3",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(P.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(g,{value:m,onChange:e=>u(e.target.value),placeholder:"Search conversations...",className:"pl-9 bg-secondary border-border"})]})}),(0,t.jsxs)(h,{className:"flex-1 px-3",children:["chats"===p&&(0,t.jsxs)("div",{className:"space-y-4",children:[H.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs font-medium text-muted-foreground mb-2 px-2",children:"Pinned"}),(0,t.jsx)("div",{className:"space-y-1",children:H.map(e=>(0,t.jsx)(e2,{conversation:e,isActive:e.id===a,onSelect:()=>l(e.id),onDelete:()=>o(e.id),onTogglePin:()=>d(e.id)},e.id))})]}),0===q.length&&0===H.length?(0,t.jsxs)("div",{className:"py-8 text-center text-sm text-muted-foreground",children:["No conversations yet",(0,t.jsx)("br",{}),"Start a new chat to begin"]}):(0,t.jsxs)("div",{children:[H.length>0&&(0,t.jsx)("div",{className:"text-xs font-medium text-muted-foreground mb-2 px-2",children:"Recent"}),(0,t.jsx)("div",{className:"space-y-1",children:q.map(e=>(0,t.jsx)(e2,{conversation:e,isActive:e.id===a,onSelect:()=>l(e.id),onDelete:()=>o(e.id),onTogglePin:()=>d(e.id)},e.id))})]})]}),"projects"===p&&(0,t.jsx)(W,{projects:v,onCreateProject:e=>{N([{...e,id:"proj-".concat(Date.now()),createdAt:new Date},...v])},onDeleteProject:e=>{N(v.filter(s=>s.id!==e))},onSelectProject:e=>console.log("Select project:",e)}),"discover"===p&&(0,t.jsxs)("div",{className:"space-y-3 py-4",children:[(0,t.jsx)(e3,{icon:M.A,title:"Web Search",description:"Search the web with AI assistance",color:"from-blue-500 to-cyan-500"}),(0,t.jsx)(e3,{icon:I.A,title:"Knowledge Base",description:"Explore curated AI prompts and guides",color:"from-purple-500 to-pink-500"}),(0,t.jsx)(e3,{icon:L.A,title:"AI Templates",description:"Pre-built prompts for common tasks",color:"from-orange-500 to-red-500"}),(0,t.jsx)(e0,{})]})]}),(0,t.jsxs)("div",{className:"p-3 border-t border-border space-y-1",children:[(0,t.jsxs)(j,{open:z,onOpenChange:C,children:[(0,t.jsx)(b,{asChild:!0,children:(0,t.jsxs)(x,{variant:"ghost",className:"w-full justify-start gap-2 text-sm",children:[(0,t.jsx)(_.A,{className:"h-4 w-4"}),"Collaborate"]})}),(0,t.jsx)(w,{className:"max-w-2xl h-[600px] p-0",children:(0,t.jsx)(eQ,{})})]}),(0,t.jsxs)(j,{open:y,onOpenChange:k,children:[(0,t.jsx)(b,{asChild:!0,children:(0,t.jsxs)(x,{variant:"ghost",className:"w-full justify-start gap-2 text-sm",children:[(0,t.jsx)(R.A,{className:"h-4 w-4"}),"Settings"]})}),(0,t.jsx)(w,{className:"max-w-3xl h-[700px] p-0",children:(0,t.jsx)(eU,{})})]})]})]}),O&&(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-4 py-4",children:[(0,t.jsx)(x,{variant:"ghost",size:"icon",onClick:i,className:"w-10 h-10",children:(0,t.jsx)(A.A,{className:"h-5 w-5"})}),(0,t.jsx)(x,{variant:"chats"===p?"secondary":"ghost",size:"icon",onClick:()=>f("chats"),className:"w-10 h-10",children:(0,t.jsx)(S.A,{className:"h-5 w-5"})}),(0,t.jsx)(x,{variant:"projects"===p?"secondary":"ghost",size:"icon",onClick:()=>f("projects"),className:"w-10 h-10",children:(0,t.jsx)(D.A,{className:"h-5 w-5"})}),(0,t.jsx)(x,{variant:"discover"===p?"secondary":"ghost",size:"icon",onClick:()=>f("discover"),className:"w-10 h-10",children:(0,t.jsx)(L.A,{className:"h-5 w-5"})})]}),(0,t.jsx)(x,{variant:"ghost",size:"icon",onClick:()=>U(!O),className:"absolute -right-3 top-1/2 -translate-y-1/2 h-6 w-6 rounded-full border border-border bg-sidebar hover:bg-secondary shadow-md z-50",children:O?(0,t.jsx)(T.A,{className:"h-3 w-3"}):(0,t.jsx)(E.A,{className:"h-3 w-3"})})]})})}function e2(e){let{conversation:s,isActive:a,onSelect:r,onDelete:n,onTogglePin:i}=e;return(0,t.jsxs)("div",{className:c("group relative flex items-center gap-2 rounded-lg px-2 py-2 hover:bg-secondary cursor-pointer transition-colors",a&&"bg-secondary"),onClick:r,children:[(0,t.jsx)(S.A,{className:"h-4 w-4 flex-shrink-0 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm truncate flex-1",children:s.title}),(0,t.jsxs)(q,{children:[(0,t.jsx)(F,{asChild:!0,onClick:e=>e.stopPropagation(),children:(0,t.jsx)(x,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)(O.A,{className:"h-3 w-3"})})}),(0,t.jsxs)(G,{align:"end",children:[(0,t.jsxs)(B,{onClick:e=>{e.stopPropagation(),i()},children:[(0,t.jsx)(U.A,{className:"h-4 w-4 mr-2"}),s.pinned?"Unpin":"Pin"]}),(0,t.jsxs)(B,{onClick:e=>{e.stopPropagation(),n()},className:"text-destructive",children:[(0,t.jsx)(V.A,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})}function e3(e){let{icon:s,title:a,description:r,color:n}=e;return(0,t.jsx)("div",{className:"p-4 rounded-lg border border-border bg-card hover:border-[var(--bronze)] transition-colors cursor-pointer",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:c("w-10 h-10 rounded-lg bg-gradient-to-br flex items-center justify-center",n),children:(0,t.jsx)(s,{className:"h-5 w-5 text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm mb-1",children:a}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:r})]})]})})}var e4=a(2779),e6=a(1024),e7=a(6878),e8=a(4839),e9=a(2316),se=a(5015),ss=a(6164),sa=a(8283);let st=[{id:"gpt-5",name:"GPT-5",provider:"openai",capabilities:{vision:!0,codeExecution:!0,webSearch:!0,reasoning:!0}},{id:"gpt-5-mini",name:"GPT-5 Mini",provider:"openai",capabilities:{vision:!0,codeExecution:!0,webSearch:!0,reasoning:!1}},{id:"claude-sonnet-4.5",name:"Claude Sonnet 4.5",provider:"anthropic",capabilities:{vision:!0,codeExecution:!0,webSearch:!1,reasoning:!0}},{id:"claude-haiku-4",name:"Claude Haiku 4",provider:"anthropic",capabilities:{vision:!0,codeExecution:!1,webSearch:!1,reasoning:!1}},{id:"grok-4",name:"Grok 4",provider:"xai",capabilities:{vision:!0,codeExecution:!1,webSearch:!0,reasoning:!0}},{id:"grok-4-fast",name:"Grok 4 Fast",provider:"xai",capabilities:{vision:!0,codeExecution:!1,webSearch:!0,reasoning:!1}},{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro",provider:"google",capabilities:{vision:!0,codeExecution:!0,webSearch:!0,reasoning:!0}},{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",provider:"google",capabilities:{vision:!0,codeExecution:!0,webSearch:!0,reasoning:!1}},{id:"llama-4-405b",name:"Llama 4 405B",provider:"meta",capabilities:{vision:!1,codeExecution:!1,webSearch:!1,reasoning:!1}}];var sr=a(4504),sn=a(3920),si=a(7934),sl=a(1895),so=a(1773),sd=a(6075),sc=a(2598),sm=a(738);function sx(e){var s,a,n,i;let{message:l,onShowArtifact:o,onShowInsights:d,incognitoMode:m,onToggleIncognito:u}=e,[h,p]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),[v,j]=(0,r.useState)(!1);return"user"===l.role?(0,t.jsxs)("div",{className:"flex gap-3 items-start justify-end",children:[(0,t.jsxs)("div",{className:"max-w-[80%] rounded-2xl bg-[var(--bronze)]/10 border border-[var(--bronze)]/20 p-4",children:[(0,t.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:l.content}),l.attachments&&l.attachments.length>0&&(0,t.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:l.attachments.map(e=>(0,t.jsx)("div",{className:"text-xs bg-secondary px-2 py-1 rounded",children:e.name},e.id))})]}),(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-muted to-muted-foreground/20 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)("span",{className:"text-xs font-bold",children:"U"})})]}):(0,t.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,t.jsx)("div",{className:"flex flex-col gap-1",children:l.agents&&!m?(0,t.jsx)("div",{className:"flex flex-wrap gap-1 w-8",children:l.agents.slice(0,4).map(e=>(0,t.jsx)("div",{className:"w-3 h-3 rounded-sm bg-gradient-to-br from-[var(--bronze)] to-[var(--gold)] flex items-center justify-center",title:e.agentName,style:{clipPath:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)"}},e.agentId))}):(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[var(--bronze)] to-[var(--gold)] flex items-center justify-center flex-shrink-0 glow-effect",children:(0,t.jsx)("span",{className:"text-xs font-bold text-background",children:"AI"})})}),(0,t.jsxs)("div",{className:"flex-1 max-w-[85%]",children:[l.consensus&&(0,t.jsxs)("div",{className:"mb-2 inline-flex items-center gap-2 px-2 py-1 rounded-full bg-[var(--bronze)]/10 border border-[var(--bronze)]/20",children:[(0,t.jsx)("div",{className:c("w-2 h-2 rounded-full",l.consensus.confidence>=80?"bg-green-500":"bg-yellow-500")}),(0,t.jsxs)("span",{className:"text-xs text-[var(--bronze)] font-medium",children:[l.consensus.confidence,"% consensus"]})]}),l.reasoning&&"deep"===l.reasoning.mode&&(0,t.jsxs)("div",{className:"mb-3 p-3 rounded-lg bg-secondary/50 border border-border",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded bg-[var(--bronze)]/20 flex items-center justify-center",children:(0,t.jsx)(e6.A,{className:"h-3 w-3 text-[var(--bronze)]"})}),(0,t.jsx)("span",{className:"text-xs font-medium text-[var(--bronze)]",children:"Deep Reasoning Mode"})]}),l.reasoning.steps&&(0,t.jsx)("div",{className:"space-y-1",children:l.reasoning.steps.map((e,s)=>(0,t.jsxs)("div",{className:"text-xs text-muted-foreground flex items-start gap-2",children:[(0,t.jsxs)("span",{className:"text-[var(--bronze)] font-medium",children:[s+1,"."]}),(0,t.jsx)("span",{children:e})]},s))})]}),(0,t.jsxs)("div",{className:c("rounded-2xl bg-card border p-4",(null===(s=l.metadata)||void 0===s?void 0:s.requiresClarification)?"border-yellow-500/50 bg-yellow-500/5":(null===(a=l.metadata)||void 0===a?void 0:a.subscriptionError)?"border-red-500/50 bg-red-500/5":"border-border"),children:[(null===(n=l.metadata)||void 0===n?void 0:n.requiresClarification)&&(0,t.jsxs)("div",{className:"mb-3 p-2 rounded-lg bg-yellow-500/10 border border-yellow-500/20",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-yellow-600 dark:text-yellow-400 mb-1",children:"Clarification Needed"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Please provide more details to help me understand your query."})]}),(null===(i=l.metadata)||void 0===i?void 0:i.subscriptionError)&&(0,t.jsxs)("div",{className:"mb-3 p-2 rounded-lg bg-red-500/10 border border-red-500/20",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-red-600 dark:text-red-400 mb-1",children:"Subscription Limit Reached"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:l.content}),(0,t.jsx)("a",{href:"mailto:support@llmhive.com?subject=Upgrade Request",className:"text-xs text-red-600 dark:text-red-400 hover:underline font-medium",children:"Contact us to upgrade "})]}),(0,t.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:l.content}),l.citations&&l.citations.length>0&&(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-border space-y-2",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-muted-foreground",children:"Sources:"}),l.citations.map((e,s)=>(0,t.jsxs)("div",{className:"text-xs flex items-start gap-2",children:[(0,t.jsxs)("span",{className:"font-mono text-[var(--bronze)]",children:["[",s+1,"]"]}),(0,t.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-[var(--bronze)] hover:underline flex-1",children:e.source})]},e.id))]}),l.factCheckSummary&&(0,t.jsxs)("div",{className:"mt-3 p-3 rounded-lg bg-secondary/40 border border-border",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-[var(--bronze)] mb-1",children:"Verification"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:l.factCheckSummary})]}),l.refinementRounds&&l.refinementRounds>1&&(0,t.jsxs)("p",{className:"mt-3 text-[10px] text-muted-foreground",children:["Refined ",l.refinementRounds," rounds to reach consensus."]}),l.artifact&&(0,t.jsxs)("div",{className:"mt-4 p-3 rounded-lg bg-secondary border border-border hover:border-[var(--bronze)] transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-[var(--bronze)] to-[var(--gold)] flex items-center justify-center",children:(0,t.jsx)(e6.A,{className:"h-3 w-3 text-background"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:l.artifact.title})]}),(0,t.jsxs)(x,{size:"sm",variant:"ghost",onClick:()=>o(l.artifact),className:"h-7 gap-1 hover:bg-[var(--bronze)]/10",children:[(0,t.jsx)(sr.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"text-xs",children:"Open"})]})]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["code"===l.artifact.type&&"".concat(l.artifact.language||"code"," artifact"),"document"===l.artifact.type&&"document artifact","visualization"===l.artifact.type&&"visualization artifact"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[(0,t.jsx)(x,{size:"icon",variant:"ghost",className:"h-7 w-7",onClick:()=>{navigator.clipboard.writeText(l.content),p(!0),setTimeout(()=>p(!1),2e3)},children:h?(0,t.jsx)(em.A,{className:"h-3 w-3"}):(0,t.jsx)(sn.A,{className:"h-3 w-3"})}),(0,t.jsx)(x,{size:"icon",variant:"ghost",className:c("h-7 w-7",g&&"text-[var(--bronze)]"),onClick:()=>{f(!g),v&&j(!1)},children:(0,t.jsx)(si.A,{className:"h-3 w-3"})}),(0,t.jsx)(x,{size:"icon",variant:"ghost",className:c("h-7 w-7",v&&"text-destructive"),onClick:()=>{j(!v),g&&f(!1)},children:(0,t.jsx)(sl.A,{className:"h-3 w-3"})}),(0,t.jsx)(x,{size:"icon",variant:"ghost",className:"h-7 w-7",children:(0,t.jsx)(so.A,{className:"h-3 w-3"})}),(0,t.jsx)(x,{size:"icon",variant:"ghost",className:"h-7 w-7",children:(0,t.jsx)(sd.A,{className:"h-3 w-3"})}),l.agents&&l.agents.length>0&&(0,t.jsxs)(x,{size:"sm",variant:"ghost",className:"h-7 gap-1 hover:text-[var(--bronze)]",onClick:d,children:[(0,t.jsx)(sc.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"text-xs",children:"Insights"})]}),(0,t.jsx)(x,{size:"icon",variant:"ghost",className:c("h-7 w-7 ml-auto",!m&&"text-[var(--bronze)]"),onClick:u,title:m?"Show agent contributions":"Hide agent contributions",children:m?(0,t.jsx)(sm.A,{className:"h-3 w-3"}):(0,t.jsx)(sc.A,{className:"h-3 w-3"})}),l.model&&(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:l.model})]})]})]})}function su(e){let{active:s,agentCount:a=6}=e,[n,i]=(0,r.useState)(0);return((0,r.useEffect)(()=>{if(!s)return;let e=setInterval(()=>{i(e=>(e+1)%a)},300);return()=>clearInterval(e)},[s,a]),s)?(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-[var(--bronze)]/5 border-b border-[var(--bronze)]/10",children:[(0,t.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:a}).map((e,s)=>(0,t.jsx)("div",{className:c("w-2 h-2 rounded-sm transition-all duration-300",s===n?"bg-[var(--bronze)] scale-125 rotate-45":"bg-[var(--bronze)]/30 rotate-45"),style:{clipPath:"polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)"}},s))}),(0,t.jsx)("span",{className:"text-xs text-[var(--bronze)] font-medium animate-pulse",children:"Hive mind processing..."})]}):null}var sh=a(5381),sp=a(3897),sg=a(8207),sf=a(5765);let sv={legal:sh.A,code:e6.A,research:sp.A,math:sg.A,creative:L.A,general:eC.A},sj={legal:"from-blue-500 to-blue-600",code:"from-green-500 to-green-600",research:"from-purple-500 to-purple-600",math:"from-orange-500 to-orange-600",creative:"from-pink-500 to-pink-600",general:"from-gray-500 to-gray-600"};function sb(e){let{agents:s,consensus:a,citations:r,onClose:n}=e;return(0,t.jsxs)("div",{className:"absolute top-0 right-0 h-full w-96 bg-background border-l border-border shadow-2xl flex flex-col z-50 animate-in slide-in-from-right duration-300",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:"Agent Insights"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Multi-agent collaboration details"})]}),(0,t.jsx)(x,{size:"icon",variant:"ghost",onClick:n,children:(0,t.jsx)(v.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)(h,{className:"flex-1 p-4",children:[(0,t.jsxs)("div",{className:"mb-6 p-4 rounded-lg bg-gradient-to-br from-[var(--bronze)]/10 to-[var(--gold)]/10 border border-[var(--bronze)]/20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Consensus Confidence"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[a.confidence>=80?(0,t.jsx)(e_.A,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(eX.A,{className:"h-4 w-4 text-yellow-500"}),(0,t.jsxs)("span",{className:"text-lg font-bold text-[var(--bronze)]",children:[a.confidence,"%"]})]})]}),(0,t.jsx)("div",{className:"w-full h-2 bg-secondary rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bronze-gradient transition-all duration-500",style:{width:"".concat(a.confidence,"%")}})}),a.debateOccurred&&a.consensusNote&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-3 leading-relaxed",children:a.consensusNote})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1 h-4 bg-[var(--bronze)] rounded-full"}),"Contributing Agents (",s.length,")"]}),(0,t.jsx)("div",{className:"space-y-3",children:s.map(e=>{let s=sv[e.agentType],a=sj[e.agentType];return(0,t.jsxs)("div",{className:"p-3 rounded-lg bg-card border border-border hover:border-[var(--bronze)]/30 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 mb-2",children:[(0,t.jsx)("div",{className:c("w-8 h-8 rounded-lg bg-gradient-to-br flex items-center justify-center flex-shrink-0",a),children:(0,t.jsx)(s,{className:"h-4 w-4 text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("span",{className:"font-medium text-sm",children:e.agentName}),(0,t.jsxs)(eL,{variant:"outline",className:"text-xs",children:[e.confidence,"% confidence"]})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground leading-relaxed",children:e.contribution})]})]}),e.citations&&e.citations.length>0&&(0,t.jsx)("div",{className:"mt-2 pl-11 space-y-1",children:e.citations.map(e=>(0,t.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs text-[var(--bronze)] hover:underline",children:[(0,t.jsx)(sf.A,{className:"h-3 w-3"}),e.source]},e.id))})]},e.agentId)})})]}),r&&r.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1 h-4 bg-[var(--bronze)] rounded-full"}),"Sources & Citations (",r.length,")"]}),(0,t.jsx)("div",{className:"space-y-2",children:r.map((e,s)=>(0,t.jsx)("div",{className:"p-3 rounded-lg bg-secondary border border-border",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsxs)("span",{className:"text-xs font-mono text-[var(--bronze)] mt-0.5",children:["[",s+1,"]"]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs mb-1 leading-relaxed",children:e.text}),(0,t.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-muted-foreground hover:text-[var(--bronze)] flex items-center gap-1",children:[(0,t.jsx)(sf.A,{className:"h-3 w-3"}),e.source,e.verified&&(0,t.jsx)(e_.A,{className:"h-3 w-3 text-green-500 ml-1"})]})]})]})},e.id))})]})]})]})}var sN=a(7866),sy=a(9676),sw=a(6181);let sk=sw.bL,sz=sw.l9,sC=r.forwardRef((e,s)=>{let{className:a,align:r="center",sideOffset:n=4,...i}=e;return(0,t.jsx)(sw.ZL,{children:(0,t.jsx)(sw.UC,{ref:s,align:r,sideOffset:n,className:c("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});function sA(e){let{settings:s,onChange:a}=e,[n,i]=(0,r.useState)(!1);return(0,t.jsxs)(sk,{open:n,onOpenChange:i,children:[(0,t.jsx)(sz,{asChild:!0,children:(0,t.jsxs)(x,{variant:"outline",size:"sm",className:c("gap-2 h-7 px-2.5 text-[11px] bg-transparent hover:bronze-gradient hover:text-primary-foreground hover:border-transparent transition-all duration-300",n&&"bronze-gradient text-primary-foreground border-transparent"),children:[(0,t.jsx)(sN.A,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{className:"text-[11px]",children:"Tuning"})]})}),(0,t.jsx)(sC,{className:"w-80 z-[600]",align:"start",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-sm mb-1",children:"Dynamic Criteria Equalizer"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Adjust how the AI hive balances accuracy, speed, and creativity"})]}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[{name:"Balanced",accuracy:70,speed:70,creativity:50},{name:"Fast",accuracy:50,speed:100,creativity:30},{name:"Precise",accuracy:100,speed:30,creativity:40},{name:"Creative",accuracy:60,speed:60,creativity:100}].map(e=>(0,t.jsx)(x,{variant:"outline",size:"sm",className:"text-xs h-auto py-2 bg-transparent",onClick:()=>a(e),children:e.name},e.name))}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded bg-blue-500/20 flex items-center justify-center",children:(0,t.jsx)(sy.A,{className:"h-3 w-3 text-blue-500"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Accuracy"})]}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[s.accuracy,"%"]})]}),(0,t.jsx)(eb,{value:[s.accuracy],onValueChange:e=>{let[t]=e;return a({...s,accuracy:t})},max:100,step:10,className:"[&_[role=slider]]:bg-blue-500 [&_[role=slider]]:border-blue-500"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded bg-green-500/20 flex items-center justify-center",children:(0,t.jsx)(ek.A,{className:"h-3 w-3 text-green-500"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Speed"})]}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[s.speed,"%"]})]}),(0,t.jsx)(eb,{value:[s.speed],onValueChange:e=>{let[t]=e;return a({...s,speed:t})},max:100,step:10,className:"[&_[role=slider]]:bg-green-500 [&_[role=slider]]:border-green-500"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded bg-purple-500/20 flex items-center justify-center",children:(0,t.jsx)(ey.A,{className:"h-3 w-3 text-purple-500"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Creativity"})]}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[s.creativity,"%"]})]}),(0,t.jsx)(eb,{value:[s.creativity],onValueChange:e=>{let[t]=e;return a({...s,creativity:t})},max:100,step:10,className:"[&_[role=slider]]:bg-purple-500 [&_[role=slider]]:border-purple-500"})]})]})})]})}sC.displayName=sw.UC.displayName;var sS=a(9059);function sD(e){let{className:s,...a}=e;return(0,t.jsx)(sS.bL,{"data-slot":"checkbox",className:c("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:(0,t.jsx)(sS.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(em.A,{className:"size-3.5"})})})}function sL(e){let{selectedModels:s,onModelChange:a,reasoningMode:r,onReasoningModeChange:n,orchestrationEngine:i,onOrchestrationChange:l,advancedFeatures:o,onToggleFeature:d,criteriaSettings:c,onCriteriaChange:m,currentModel:u,preset:h,onPresetChange:p,useDeepconf:g,onUseDeepconfChange:f,useVerification:v,onUseVerificationChange:j,formatStyle:b,onFormatStyleChange:N}=e,y=e=>{a(s.includes(e)?s.filter(s=>s!==e):[...s,e])};return(0,t.jsx)("header",{className:"border-b border-border p-3 flex items-center justify-between bg-card/50 backdrop-blur-xl sticky top-0 z-50",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4 flex-1 px-8",children:[(0,t.jsxs)(q,{modal:!1,children:[(0,t.jsx)(F,{asChild:!0,children:(0,t.jsxs)(x,{variant:"outline",size:"sm",className:"group gap-1.5 h-7 px-2.5 text-[11px] text-white bg-transparent hover:bronze-gradient hover:text-white hover:border-transparent transition-all duration-300",children:[(0,t.jsxs)("span",{className:"text-foreground group-hover:text-primary-foreground transition-colors duration-300 whitespace-nowrap",children:["AI Agents (",s.length,")"]}),(0,t.jsx)(ed.A,{className:"h-2.5 w-2.5 opacity-50 group-hover:opacity-100 group-hover:text-primary-foreground transition-all duration-300"})]})}),(0,t.jsx)(G,{align:"start",className:"w-48 z-[600] glass-effect animate-in fade-in-0 zoom-in-95 slide-in-from-top-2 duration-300",onCloseAutoFocus:e=>e.preventDefault(),children:["openai","anthropic","google","xai","meta"].map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)(K,{className:"text-[9px] uppercase tracking-wider opacity-60",children:e}),st.filter(s=>s.provider===e).map(e=>(0,t.jsxs)(B,{onSelect:s=>{s.preventDefault(),y(e.id)},className:"gap-2 py-1.5 hover-lift cursor-pointer",children:[(0,t.jsx)(sD,{checked:s.includes(e.id),className:"pointer-events-none border-[var(--bronze)] data-[state=checked]:bg-[var(--bronze)] data-[state=checked]:border-[var(--bronze)]"}),(0,t.jsx)("img",{src:{openai:"https://upload.wikimedia.org/wikipedia/commons/0/04/ChatGPT_logo.svg",anthropic:"/claude-logo.png",google:"https://www.gstatic.com/lamda/images/gemini_sparkle_v002_d4735304ff6292a690345.svg",xai:"/grok-logo.png",meta:"https://upload.wikimedia.org/wikipedia/commons/7/7b/Meta_Platforms_Inc._logo.svg"}[e.provider]||"/placeholder.svg",alt:"",className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{className:"text-[11px]",children:e.name})]},e.id)),(0,t.jsx)(J,{})]},e))})]}),(0,t.jsxs)(q,{children:[(0,t.jsx)(F,{asChild:!0,children:(0,t.jsxs)(x,{variant:"outline",size:"sm",className:"group gap-1.5 h-7 px-2.5 text-[11px] text-white bg-transparent hover:bronze-gradient hover:text-white hover:border-transparent transition-all duration-300",children:[(0,t.jsx)("span",{className:"text-foreground group-hover:text-primary-foreground transition-colors duration-300 whitespace-nowrap",children:"Tuning"}),(0,t.jsx)(ed.A,{className:"h-2.5 w-2.5 opacity-50 group-hover:opacity-100 group-hover:text-primary-foreground transition-all duration-300"})]})}),(0,t.jsxs)(G,{align:"start",className:"w-44 z-[600] glass-effect animate-in fade-in-0 zoom-in-95 slide-in-from-top-2 duration-300",children:[(0,t.jsxs)(B,{onSelect:e=>{e.preventDefault(),n("deep")},className:"gap-2 py-1.5 hover-lift cursor-pointer",children:[(0,t.jsx)(sD,{checked:"deep"===r,className:"pointer-events-none border-[var(--bronze)] data-[state=checked]:bg-[var(--bronze)] data-[state=checked]:border-[var(--bronze)]"}),(0,t.jsx)("span",{className:"text-[11px]",children:"Deep Reasoning"})]}),(0,t.jsxs)(B,{onSelect:e=>{e.preventDefault(),n("standard")},className:"gap-2 py-1.5 hover-lift cursor-pointer",children:[(0,t.jsx)(sD,{checked:"standard"===r,className:"pointer-events-none border-[var(--bronze)] data-[state=checked]:bg-[var(--bronze)] data-[state=checked]:border-[var(--bronze)]"}),(0,t.jsx)("span",{className:"text-[11px]",children:"Standard"})]}),(0,t.jsxs)(B,{onSelect:e=>{e.preventDefault(),n("fast")},className:"gap-2 py-1.5 hover-lift cursor-pointer",children:[(0,t.jsx)(sD,{checked:"fast"===r,className:"pointer-events-none border-[var(--bronze)] data-[state=checked]:bg-[var(--bronze)] data-[state=checked]:border-[var(--bronze)]"}),(0,t.jsx)("span",{className:"text-[11px]",children:"Fast"})]})]})]}),(0,t.jsxs)(q,{children:[(0,t.jsx)(F,{asChild:!0,children:(0,t.jsxs)(x,{variant:"outline",size:"sm",className:"group gap-1.5 h-7 px-2.5 text-[11px] text-white bg-transparent hover:bronze-gradient hover:text-white hover:border-transparent transition-all duration-300",children:[(0,t.jsx)("span",{className:"text-foreground group-hover:text-primary-foreground transition-colors duration-300 whitespace-nowrap",children:"Orchestration"}),(0,t.jsx)(ed.A,{className:"h-2.5 w-2.5 opacity-50 group-hover:opacity-100 group-hover:text-primary-foreground transition-all duration-300"})]})}),(0,t.jsxs)(G,{className:"w-60 z-[600] glass-effect animate-in fade-in-0 zoom-in-95 slide-in-from-top-2 duration-300",children:[(0,t.jsx)(K,{className:"text-[9px] uppercase tracking-wider opacity-60 px-2 py-1.5",children:"Orchestration Mode"}),(0,t.jsxs)(B,{onSelect:e=>{e.preventDefault(),l("hrm")},className:"gap-2 py-2 hover-lift text-xs cursor-pointer",children:[(0,t.jsx)(sD,{checked:"hrm"===i,className:"pointer-events-none border-[var(--bronze)] data-[state=checked]:bg-[var(--bronze)] data-[state=checked]:border-[var(--bronze)]"}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{children:"Hierarchical (HRM)"}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"Multi-agent planning"})]})]}),(0,t.jsxs)(B,{onSelect:e=>{e.preventDefault(),l("prompt-diffusion")},className:"gap-2 py-2 hover-lift text-xs cursor-pointer",children:[(0,t.jsx)(sD,{checked:"prompt-diffusion"===i,className:"pointer-events-none border-[var(--bronze)] data-[state=checked]:bg-[var(--bronze)] data-[state=checked]:border-[var(--bronze)]"}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{children:"Prompt Diffusion"}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"Iterative refinement"})]})]}),(0,t.jsxs)(B,{onSelect:e=>{e.preventDefault(),l("deep-conf")},className:"gap-2 py-2 hover-lift text-xs cursor-pointer",children:[(0,t.jsx)(sD,{checked:"deep-conf"===i,className:"pointer-events-none border-[var(--bronze)] data-[state=checked]:bg-[var(--bronze)] data-[state=checked]:border-[var(--bronze)]"}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{children:"Deep Consensus"}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"Multi-model debate"})]})]}),(0,t.jsxs)(B,{onSelect:e=>{e.preventDefault(),l("adaptive-ensemble")},className:"gap-2 py-2 hover-lift text-xs cursor-pointer",children:[(0,t.jsx)(sD,{checked:"adaptive-ensemble"===i,className:"pointer-events-none border-[var(--bronze)] data-[state=checked]:bg-[var(--bronze)] data-[state=checked]:border-[var(--bronze)]"}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{children:"Adaptive Ensemble"}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground",children:"Smart model selection"})]})]})]})]}),(0,t.jsxs)(q,{children:[(0,t.jsx)(F,{asChild:!0,children:(0,t.jsxs)(x,{variant:"outline",size:"sm",className:"group gap-1.5 h-7 px-2.5 text-[11px] text-white bg-transparent hover:bronze-gradient hover:text-white hover:border-transparent transition-all duration-300",children:[(0,t.jsx)("span",{className:"text-foreground group-hover:text-primary-foreground transition-colors duration-300 whitespace-nowrap",children:h?"Domain: ".concat(h.charAt(0).toUpperCase()+h.slice(1)):"Domain Preset"}),(0,t.jsx)(ed.A,{className:"h-2.5 w-2.5 opacity-50 group-hover:opacity-100 group-hover:text-primary-foreground transition-all duration-300"})]})}),(0,t.jsxs)(G,{className:"w-44 z-[600] glass-effect animate-in fade-in-0 zoom-in-95 slide-in-from-top-2 duration-300",children:[(0,t.jsxs)(B,{onSelect:e=>{e.preventDefault(),p(null)},className:"gap-2 py-1.5 hover-lift cursor-pointer",children:[(0,t.jsx)(sD,{checked:null===h,className:"pointer-events-none border-[var(--bronze)] data-[state=checked]:bg-[var(--bronze)] data-[state=checked]:border-[var(--bronze)]"}),(0,t.jsx)("span",{className:"text-[11px]",children:"General"})]}),["medical","legal","research"].map(e=>(0,t.jsxs)(B,{onSelect:s=>{s.preventDefault(),p(e)},className:"gap-2 py-1.5 hover-lift cursor-pointer",children:[(0,t.jsx)(sD,{checked:h===e,className:"pointer-events-none border-[var(--bronze)] data-[state=checked]:bg-[var(--bronze)] data-[state=checked]:border-[var(--bronze)]"}),(0,t.jsx)("span",{className:"text-[11px]",children:e.charAt(0).toUpperCase()+e.slice(1)})]},e))]})]}),(0,t.jsxs)(q,{children:[(0,t.jsx)(F,{asChild:!0,children:(0,t.jsxs)(x,{variant:"outline",size:"sm",className:"group gap-1.5 h-7 px-2.5 text-[11px] text-white bg-transparent hover:bronze-gradient hover:text-white hover:border-transparent transition-all duration-300",children:[(0,t.jsx)("span",{className:"text-foreground group-hover:text-primary-foreground transition-colors duration-300 whitespace-nowrap",children:"Advanced"}),(0,t.jsx)(ed.A,{className:"h-2.5 w-2.5 opacity-50 group-hover:opacity-100 group-hover:text-primary-foreground transition-all duration-300"})]})}),(0,t.jsxs)(G,{className:"w-56 z-[600] glass-effect animate-in fade-in-0 zoom-in-95 slide-in-from-top-2 duration-300",children:[(0,t.jsx)(K,{className:"text-[9px] uppercase tracking-wider opacity-60",children:"Feature Toggles"}),(0,t.jsxs)(B,{onSelect:e=>{e.preventDefault(),f(!0!==g||null)},className:"gap-2 py-2 hover-lift cursor-pointer",children:[(0,t.jsx)(sD,{checked:!0===g,className:"pointer-events-none border-[var(--bronze)] data-[state=checked]:bg-[var(--bronze)] data-[state=checked]:border-[var(--bronze)]"}),(0,t.jsx)("span",{className:"text-xs",children:"Enable Challenge Loop (DeepConf)"})]}),(0,t.jsxs)(B,{onSelect:e=>{e.preventDefault(),j(!0!==v||null)},className:"gap-2 py-2 hover-lift cursor-pointer",children:[(0,t.jsx)(sD,{checked:!0===v,className:"pointer-events-none border-[var(--bronze)] data-[state=checked]:bg-[var(--bronze)] data-[state=checked]:border-[var(--bronze)]"}),(0,t.jsx)("span",{className:"text-xs",children:"Enable Deep Verification"})]}),(0,t.jsx)(J,{}),(0,t.jsx)(K,{className:"text-[9px] uppercase tracking-wider opacity-60",children:"Knowledge & Memory"}),["vector-db","rag","shared-memory"].map(e=>(0,t.jsxs)(B,{onSelect:s=>{s.preventDefault(),d(e)},className:"gap-2 py-2 hover-lift cursor-pointer",children:[(0,t.jsx)(sD,{checked:o.includes(e),className:"pointer-events-none border-[var(--bronze)] data-[state=checked]:bg-[var(--bronze)] data-[state=checked]:border-[var(--bronze)]"}),(0,t.jsx)("span",{className:"text-xs",children:"vector-db"===e?"Vector Database":"rag"===e?"RAG (Retrieval)":"shared-memory"===e?"Shared Memory":e})]},e))]})]}),(0,t.jsx)(sA,{settings:c,onChange:m}),(0,t.jsxs)(q,{children:[(0,t.jsx)(F,{asChild:!0,children:(0,t.jsxs)(x,{variant:"outline",size:"sm",className:"group gap-1.5 h-7 px-2.5 text-[11px] text-white bg-transparent hover:bronze-gradient hover:text-white hover:border-transparent transition-all duration-300",children:[(0,t.jsxs)("span",{className:"text-foreground group-hover:text-primary-foreground transition-colors duration-300 whitespace-nowrap",children:["Style: ","bullet"===b?"Bullets":"Paragraph"]}),(0,t.jsx)(ed.A,{className:"h-2.5 w-2.5 opacity-50 group-hover:opacity-100 group-hover:text-primary-foreground transition-all duration-300"})]})}),(0,t.jsxs)(G,{className:"w-44 z-[600] glass-effect animate-in fade-in-0 zoom-in-95 slide-in-from-top-2 duration-300",children:[(0,t.jsxs)(B,{onSelect:e=>{e.preventDefault(),N("paragraph")},className:"gap-2 py-1.5 hover-lift cursor-pointer",children:[(0,t.jsx)(sD,{checked:"paragraph"===b,className:"pointer-events-none border-[var(--bronze)] data-[state=checked]:bg-[var(--bronze)] data-[state=checked]:border-[var(--bronze)]"}),(0,t.jsx)("span",{className:"text-[11px]",children:"Paragraph"})]}),(0,t.jsxs)(B,{onSelect:e=>{e.preventDefault(),N("bullet")},className:"gap-2 py-1.5 hover-lift cursor-pointer",children:[(0,t.jsx)(sD,{checked:"bullet"===b,className:"pointer-events-none border-[var(--bronze)] data-[state=checked]:bg-[var(--bronze)] data-[state=checked]:border-[var(--bronze)]"}),(0,t.jsx)("span",{className:"text-[11px]",children:"Bullet Points"})]})]})]})]})})}let sP=[{icon:e4.A,label:"Prompt Optimization",text:"Optimize my prompt for better AI responses"},{icon:e6.A,label:"Output Validation",text:"Validate and verify the output for accuracy"},{icon:Y.A,label:"Answer Structure",text:"Structure the answer with clear sections and examples"}],sM=[{icon:e7.A,label:"Strategize",text:"Help me develop a comprehensive business strategy"},{icon:Y.A,label:"Write",text:"Draft a professional email"},{icon:e4.A,label:"Learn",text:"Explain quantum computing in simple terms"}],sI=[{icon:e8.A,label:"Industry Specific",text:"Provide industry-specific insights and solutions"},{icon:e6.A,label:"Code",text:"Build a React component with TypeScript"},{icon:Y.A,label:"Shared Data",text:"Access and utilize shared data across conversations"}];function s_(e){let{conversation:s,onSendMessage:a,onShowArtifact:n,onConversationUpdate:i}=e,[l,o]=(0,r.useState)(""),[d,m]=(0,r.useState)(["gpt-5-mini"]),[u,p]=(0,r.useState)([]),[g,f]=(0,r.useState)("standard"),[j,b]=(0,r.useState)("hrm"),[N,y]=(0,r.useState)(["vector-db","rag","shared-memory","loop-back","live-data"]),[w,k]=(0,r.useState)({accuracy:70,speed:70,creativity:50}),[z,C]=(0,r.useState)(null),[A,S]=(0,r.useState)(null),[D,L]=(0,r.useState)(null),[P,M]=(0,r.useState)("paragraph"),[I,_]=(0,r.useState)(!1),[R,T]=(0,r.useState)(null),[E,O]=(0,r.useState)(!0),[U,V]=(0,r.useState)(!1),[H,q]=(0,r.useState)(null),[F,G]=(0,r.useState)(null),B=(0,r.useRef)(null),K=(0,r.useRef)(null),J=d[0],W=J?st.find(e=>e.id===J):void 0,Z=e=>{p(u.filter(s=>s.id!==e))},X=async()=>{if(!l.trim()&&0===u.length||0===d.length)return;let e=null!==H,t=(null==H?void 0:H.originalQuery)||null,r={id:"msg-".concat(Date.now()),role:"user",content:l,timestamp:new Date,attachments:u.length>0?u:void 0};a(r),o(""),p([]),V(!0),e&&q(null);try{let o=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[...(null==s?void 0:s.messages)||[],r],models:d,reasoningMode:g,capabilities:null==W?void 0:W.capabilities,criteriaSettings:w,orchestrationEngine:j,advancedFeatures:N,preset:z,useDeepconf:A,useVerification:D,formatStyle:P,clarificationResponse:e?l:void 0,isClarificationResponse:e,originalQuery:t,conversationId:null==s?void 0:s.backendConversationId,userId:"ui-session"})}),u=await o.json().catch(()=>null);if(!o.ok){var n,c,m,x,h,f;if(403===o.status){let e=(null==u?void 0:u.detail)||(null==u?void 0:null===(x=u.backend)||void 0===x?void 0:x.detail)||{};if("subscription_limit_exceeded"===e.error||"Usage limit exceeded"===e.error||"Tier limit exceeded"===e.error||(null===(h=e.message)||void 0===h?void 0:h.toLowerCase().includes("upgrade"))||(null===(f=e.message)||void 0===f?void 0:f.toLowerCase().includes("limit"))){G({message:e.message||"Subscription limit exceeded",upgradeMessage:e.upgrade_message||e.message,tier:e.tier||"free"});let s={id:"msg-".concat(Date.now()),role:"assistant",content:e.upgrade_message||e.message||"You've reached your subscription limit. Please upgrade to continue.",timestamp:new Date,metadata:{subscriptionError:!0,tier:e.tier,limitType:e.limit_type}};a(s),V(!1);return}}let e=u&&(u.error||(null==u?void 0:null===(n=u.backend)||void 0===n?void 0:n.detail)||(null==u?void 0:null===(m=u.backend)||void 0===m?void 0:null===(c=m.detail)||void 0===c?void 0:c.detail))||"The orchestration engine returned an error. Please check backend logs.",s={id:"msg-".concat(Date.now()),role:"assistant",content:e,timestamp:new Date};a(s);return}F&&G(null);let p=null==u?void 0:u.orchestration;if(!p){if(null==u?void 0:u.final_response){let e={id:"msg-".concat(Date.now(),"-assistant"),role:"assistant",content:u.final_response||"The hive could not produce a response for this request.",timestamp:new Date,model:"LLMHive Orchestrator"};u.conversation_id&&i&&i(u.conversation_id),a(e);return}let e={id:"msg-".concat(Date.now()),role:"assistant",content:"The orchestration API responded without a payload. Please try again.",timestamp:new Date};a(e);return}if(u.conversationId&&i?i(u.conversationId):p.conversation_id&&i&&i(p.conversation_id),p.requires_clarification&&p.clarification_question){let e="msg-".concat(Date.now(),"-clarification"),s={id:e,role:"assistant",content:p.clarification_question,timestamp:new Date,model:"LLMHive Clarification",metadata:{requiresClarification:!0,originalQuery:r.content,possibleInterpretations:p.possible_interpretations||[]}};a(s),q({originalQuery:r.content,clarificationMessageId:e}),V(!1);return}let v=p.final_response||"The hive could not produce a response for this request.";console.log("[LLMHive] Orchestration response:",{orchestration:p,finalResponse:v});let b={id:"msg-".concat(Date.now(),"-assistant"),role:"assistant",content:v,timestamp:new Date,model:"LLMHive Orchestrator"};try{let e=function(e){var s,a,t,r;let{orchestration:n,fallbackModel:i,reasoningMode:l}=e,o=new Date,d=n.final_response||"The hive could not produce a response for this request.",c=n.quality||[],m=c.length>0?c.reduce((e,s)=>{var a,t;return e+(null!==(t=null!==(a=s.confidence)&&void 0!==a?a:s.score)&&void 0!==t?t:0)},0)/c.length:void 0,x=void 0!==m?sR(m):void 0,u=null===(s=n.consensus_notes)||void 0===s?void 0:s[0],h=void 0!==x?{confidence:x,debateOccurred:(null!==(r=n.refinement_rounds)&&void 0!==r?r:1)>1,consensusNote:u}:void 0,p=(n.initial_responses||[]).map((e,s)=>{var a;let t=c.find(s=>s.model===e.model),r=sR(null!==(a=null==t?void 0:t.confidence)&&void 0!==a?a:null==t?void 0:t.score);return{agentId:e.model||"model-".concat(s+1),agentName:e.model||"Model ".concat(s+1),agentType:function(e){let s=(e||"").toLowerCase();return s.includes("legal")||s.includes("law")?"legal":s.includes("math")?"math":s.includes("research")||s.includes("gemini")||s.includes("sonnet")?"research":s.includes("code")||s.includes("gpt")||s.includes("deepseek")?"code":s.includes("creative")||s.includes("grok")?"creative":"general"}(e.model),contribution:e.content,confidence:null!=r?r:0}}),g=function(e){if(!(null==e?void 0:e.claims))return[];let s=[];return e.claims.forEach((e,a)=>{var t;let r=null===(t=e.evidence_urls)||void 0===t?void 0:t.find(Boolean);if(!r)return;let n=r;try{n=new URL(r).hostname}catch(e){}s.push({id:"fact-".concat(a),text:e.text,source:n,url:r,verified:"verified"===e.status})}),s}(n.fact_check),f=function(e){var s,a;if(!(null==e?void 0:e.claims)||0===e.claims.length)return;let t=e.claims.length,r=null!==(s=e.verified_count)&&void 0!==s?s:e.claims.filter(e=>"verified"===e.status).length,n=null!==(a=e.contested_count)&&void 0!==a?a:e.claims.filter(e=>e.status&&"verified"!==e.status).length,i=Math.max(t-r-n,0),l="Fact-check: ".concat(r,"/").concat(t," claims verified");return n>0&&(l+=" \xb7 ".concat(n," contested")),i>0&&(l+=" \xb7 ".concat(i," pending")),l}(n.fact_check),v=null===(t=n.plan)||void 0===t?void 0:null===(a=t.steps)||void 0===a?void 0:a.map(e=>"".concat(e.role.toUpperCase(),": ").concat(e.description));return{id:"msg-".concat(o.getTime(),"-assistant"),role:"assistant",content:d,timestamp:o,model:"LLMHive Orchestrator",agents:p.length>0?p:void 0,consensus:h,citations:g.length>0?g:void 0,factCheckSummary:f,refinementRounds:n.refinement_rounds,qualityScore:m,confidence:void 0!==x?x/100:void 0,reasoning:(null==v?void 0:v.length)?{mode:l,steps:v}:{mode:l}}}({orchestration:p,fallbackModel:J||"orchestrator",reasoningMode:g});Object.assign(b,e),console.log("[LLMHive] Built assistant message:",b)}catch(e){console.warn("[LLMHive] Failed to build full message metadata:",e)}console.log("[LLMHive] Sending assistant message:",b),a(b)}catch(e){console.error("[LLMHive] UI orchestration error:",e),a({id:"msg-".concat(Date.now()),role:"assistant",content:"Im sorry, but I couldnt reach the orchestration engine. Please try again in a moment.",timestamp:new Date})}finally{V(!1)}},$=(null==s?void 0:s.messages)||[];return(0,r.useEffect)(()=>{K.current&&K.current.scrollIntoView({behavior:"smooth"})},[$.length,U]),console.log("[LLMHive] ChatArea render:",{conversationId:null==s?void 0:s.id,messageCount:$.length,messages:$.map(e=>({id:e.id,role:e.role,contentPreview:e.content.slice(0,50)}))}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-[0.02] pointer-events-none",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0l25.98 15v30L30 60 4.02 45V15z' fill='none' stroke='%23C48E48' strokeWidth='1'/%3E%3C/svg%3E\")",backgroundSize:"60px 60px"}}),(0,t.jsx)(sL,{selectedModels:d,onModelChange:m,reasoningMode:g,onReasoningModeChange:f,orchestrationEngine:j,onOrchestrationChange:b,advancedFeatures:N,onToggleFeature:e=>{y(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},criteriaSettings:w,onCriteriaChange:k,currentModel:W,preset:z,onPresetChange:C,useDeepconf:A,onUseDeepconfChange:S,useVerification:D,onUseVerificationChange:L,formatStyle:P,onFormatStyleChange:M}),(0,t.jsx)(su,{active:U,agentCount:6}),(0,t.jsx)(h,{className:"flex-1 relative z-10",children:0===$.length?(0,t.jsx)("div",{className:"h-full flex flex-col items-center pt-[48px] max-w-4xl mx-auto px-4",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2.5 w-full max-w-3xl",children:[(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2.5",children:sP.map(e=>{let s=e.icon;return(0,t.jsxs)(x,{variant:"outline",className:"h-auto flex flex-col items-center gap-2 p-4 border-2 border-border hover:bronze-gradient hover:border-[var(--bronze)] transition-all duration-500 bg-card/50 backdrop-blur-xl group relative",onClick:()=>o(e.text),children:[(0,t.jsx)("div",{className:"absolute inset-0 border-2 border-[var(--bronze)] rounded-lg transition-all duration-500 opacity-0 group-hover:opacity-100 -m-[2px] pointer-events-none"}),(0,t.jsx)("div",{className:"w-9 h-9 rounded-lg bg-gradient-to-br from-orange-500 to-[var(--gold)] flex items-center justify-center shadow-lg transition-all duration-500 group-hover:scale-110 group-hover:shadow-xl group-hover:rotate-3 relative z-10",children:(0,t.jsx)(s,{className:"h-4 w-4 text-background transition-transform duration-500 group-hover:scale-110"})}),(0,t.jsx)("div",{className:"text-xs font-semibold text-foreground group-hover:text-primary-foreground transition-colors duration-500 relative z-10 whitespace-nowrap",children:e.label})]},e.label)})}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2.5",children:sM.map(e=>{let s=e.icon;return(0,t.jsxs)(x,{variant:"outline",className:"h-auto flex flex-col items-center gap-2 p-4 border-2 border-border hover:bronze-gradient hover:border-[var(--bronze)] transition-all duration-500 bg-card/50 backdrop-blur-xl group relative",onClick:()=>o(e.text),children:[(0,t.jsx)("div",{className:"absolute inset-0 border-2 border-[var(--bronze)] rounded-lg transition-all duration-500 opacity-0 group-hover:opacity-100 -m-[2px] pointer-events-none"}),(0,t.jsx)("div",{className:"w-9 h-9 rounded-lg bg-gradient-to-br from-orange-500 to-[var(--gold)] flex items-center justify-center shadow-lg transition-all duration-500 group-hover:scale-110 group-hover:shadow-xl group-hover:rotate-3 relative z-10",children:(0,t.jsx)(s,{className:"h-4 w-4 text-background transition-transform duration-500 group-hover:scale-110"})}),(0,t.jsx)("div",{className:"text-xs font-semibold text-foreground group-hover:text-primary-foreground transition-colors duration-500 relative z-10 whitespace-nowrap",children:e.label})]},e.label)})}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2.5",children:sI.map(e=>{let s=e.icon;return(0,t.jsxs)(x,{variant:"outline",className:"h-auto flex flex-col items-center gap-2 p-4 border-2 border-border hover:bronze-gradient hover:border-[var(--bronze)] transition-all duration-500 bg-card/50 backdrop-blur-xl group relative",onClick:()=>o(e.text),children:[(0,t.jsx)("div",{className:"absolute inset-0 border-2 border-[var(--bronze)] rounded-lg transition-all duration-500 opacity-0 group-hover:opacity-100 -m-[2px] pointer-events-none"}),(0,t.jsx)("div",{className:"w-9 h-9 rounded-lg bg-gradient-to-br from-orange-500 to-[var(--gold)] flex items-center justify-center shadow-lg transition-all duration-500 group-hover:scale-110 group-hover:shadow-xl group-hover:rotate-3 relative z-10",children:(0,t.jsx)(s,{className:"h-4 w-4 text-background transition-transform duration-500 group-hover:scale-110"})}),(0,t.jsx)("div",{className:"text-xs font-semibold text-foreground group-hover:text-primary-foreground transition-colors duration-500 relative z-10 whitespace-nowrap",children:e.label})]},e.label)})})]})}):(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8 space-y-6",children:[$.map(e=>(0,t.jsx)(sx,{message:e,onShowArtifact:n,onShowInsights:()=>{T(e),_(!0)},incognitoMode:E,onToggleIncognito:()=>O(!E)},e.id)),U&&(0,t.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[var(--bronze)] to-[var(--gold)] flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs font-bold text-background",children:"AI"})}),(0,t.jsx)("div",{className:"flex gap-1.5 p-4",children:[0,200,400].map(e=>(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-[var(--bronze)] animate-bounce",style:{animationDelay:"".concat(e,"ms"),animationDuration:"1s"}},e))})]}),(0,t.jsx)("div",{ref:K})]})}),I&&(null==R?void 0:R.agents)&&(null==R?void 0:R.consensus)&&(0,t.jsx)(sb,{agents:R.agents,consensus:R.consensus,citations:R.citations,onClose:()=>_(!1)}),(0,t.jsx)("div",{className:"border-t border-border p-4 bg-card/50 backdrop-blur-xl relative z-10",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[u.length>0&&(0,t.jsx)("div",{className:"mb-3 flex flex-wrap gap-2",children:u.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-secondary border",children:[e.type.startsWith("image/")?(0,t.jsx)(e9.A,{className:"h-4 w-4"}):(0,t.jsx)(Y.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm truncate max-w-[150px]",children:e.name}),(0,t.jsx)(x,{size:"icon",variant:"ghost",className:"h-5 w-5",onClick:()=>Z(e.id),children:(0,t.jsx)(v.A,{className:"h-3 w-3"})})]},e.id))}),(0,t.jsxs)("div",{className:"relative",children:[H&&(0,t.jsx)("div",{className:"mb-2 p-2 rounded-lg bg-yellow-500/10 border border-yellow-500/20",children:(0,t.jsxs)("p",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:[(0,t.jsx)("strong",{children:"Clarification needed:"})," Please provide more details about your query."]})}),F&&(0,t.jsxs)("div",{className:"mb-2 p-2 rounded-lg bg-red-500/10 border border-red-500/20",children:[(0,t.jsxs)("p",{className:"text-xs text-red-600 dark:text-red-400 mb-1",children:[(0,t.jsx)("strong",{children:"Subscription Limit:"})," ",F.message]}),(0,t.jsx)("a",{href:"mailto:support@llmhive.com?subject=Upgrade Request",className:"text-xs text-red-600 dark:text-red-400 hover:underline font-medium",children:"Contact us to upgrade "})]}),(0,t.jsx)(Q,{value:l,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),X())},placeholder:H?"Please clarify your query...":F?"Upgrade required to continue...":"Ask the hive mind anything...",className:c("min-h-[72px] pr-20 sm:pr-36 resize-none bg-secondary/50 border-border focus:border-[var(--bronze)] transition-colors",H&&"border-yellow-500/50 focus:border-yellow-500",F&&"border-red-500/50 focus:border-red-500"),disabled:U||!!F}),(0,t.jsxs)("div",{className:"absolute bottom-2.5 right-2.5 flex items-center gap-1.5 flex-wrap",children:[(0,t.jsx)("input",{ref:B,type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.txt",onChange:e=>{p([...u,...Array.from(e.target.files||[]).map(e=>({id:"att-".concat(Date.now(),"-").concat(Math.random()),name:e.name,type:e.type,size:e.size,url:URL.createObjectURL(e)}))])},className:"hidden"}),(0,t.jsx)(x,{size:"icon",variant:"ghost",className:"h-7 w-7",onClick:()=>{var e;return null===(e=B.current)||void 0===e?void 0:e.click()},children:(0,t.jsx)(se.A,{className:"h-3.5 w-3.5"})}),(0,t.jsx)(x,{size:"icon",variant:"ghost",className:"h-7 w-7",children:(0,t.jsx)(ss.A,{className:"h-3.5 w-3.5"})}),(0,t.jsx)(x,{size:"icon",onClick:X,disabled:!l.trim()&&0===u.length||U||0===d.length||!!F,className:"h-7 w-7 bronze-gradient disabled:opacity-50",children:(0,t.jsx)(sa.A,{className:"h-3.5 w-3.5"})})]})]}),(0,t.jsx)("p",{className:"text-[10px] text-muted-foreground mt-2 text-center opacity-60",children:"LLMHive uses multiple AI agents for enhanced accuracy"})]})})]})}function sR(e){if(!("number"!=typeof e||Number.isNaN(e)))return Math.round(100*Math.min(Math.max(e,0),1))}var sT=a(9191),sE=a(4857);function sO(e){let{artifact:s,onClose:a}=e,[n,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)("code"),[d,m]=(0,r.useState)(!1),[u,p]=(0,r.useState)(null),g=async()=>{if("code"===s.type){m(!0),p(null);try{let e=await fetch("/api/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:s.content,language:s.language||"javascript"})}),a=await e.json();p(a)}catch(e){p({success:!1,error:e.message||"Failed to execute code"})}finally{m(!1)}}};return(0,t.jsxs)("div",{className:"w-[600px] border-l border-border bg-card flex flex-col",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:s.title}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["code"===s.type&&"".concat(s.language||"Code"," Artifact"),"document"===s.type&&"Document Artifact","visualization"===s.type&&"Visualization Artifact"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["code"===s.type&&(0,t.jsxs)(x,{size:"sm",variant:"outline",className:"h-8 gap-2 border-[var(--bronze)] text-[var(--bronze)] hover:bg-[var(--bronze)]/10 bg-transparent",onClick:g,disabled:d,children:[(0,t.jsx)(sT.A,{className:"h-3 w-3"}),d?"Running...":"Run"]}),(0,t.jsx)(x,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>{navigator.clipboard.writeText(s.content),i(!0),setTimeout(()=>i(!1),2e3)},children:n?(0,t.jsx)(em.A,{className:"h-4 w-4"}):(0,t.jsx)(sn.A,{className:"h-4 w-4"})}),(0,t.jsx)(x,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>{let e=new Blob([s.content],{type:"text/plain"}),a=URL.createObjectURL(e),t=document.createElement("a");t.href=a,t.download="".concat(s.title,".").concat(s.language||"txt"),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(a)},children:(0,t.jsx)(sE.A,{className:"h-4 w-4"})}),(0,t.jsx)(x,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:a,children:(0,t.jsx)(v.A,{className:"h-4 w-4"})})]})]}),"code"===s.type&&(0,t.jsxs)(er,{value:l,onValueChange:e=>o(e),className:"flex-1 flex flex-col",children:[(0,t.jsx)("div",{className:"px-4 pt-3",children:(0,t.jsxs)(en,{className:"grid w-full grid-cols-2",children:[(0,t.jsx)(ei,{value:"code",children:"Code"}),(0,t.jsx)(ei,{value:"preview",children:"Output"})]})}),(0,t.jsx)(el,{value:"code",className:"flex-1 m-0 p-0",children:(0,t.jsx)(h,{className:"h-full",children:(0,t.jsx)("pre",{className:"p-4 text-xs font-mono bg-secondary/30",children:(0,t.jsx)("code",{className:c("language-"+s.language),children:s.content})})})}),(0,t.jsx)(el,{value:"preview",className:"flex-1 m-0 p-0",children:(0,t.jsx)("div",{className:"h-full flex flex-col",children:u?(0,t.jsx)(h,{className:"flex-1",children:(0,t.jsx)("div",{className:"p-4",children:u.success?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-green-500",children:[(0,t.jsx)(em.A,{className:"h-4 w-4"}),"Execution Successful"]}),(0,t.jsx)("pre",{className:"p-3 rounded-lg bg-secondary text-xs font-mono whitespace-pre-wrap",children:u.output||"No output"})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-destructive",children:[(0,t.jsx)(eX.A,{className:"h-4 w-4"}),"Execution Failed"]}),(0,t.jsx)("pre",{className:"p-3 rounded-lg bg-destructive/10 text-xs font-mono text-destructive whitespace-pre-wrap",children:u.error})]})})}):(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center bg-secondary/30",children:(0,t.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,t.jsx)(sT.A,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,t.jsx)("p",{className:"text-sm",children:'Click "Run" to execute code'}),(0,t.jsx)("p",{className:"text-xs mt-1",children:"Supports JavaScript and TypeScript"})]})})})})]}),"document"===s.type&&(0,t.jsx)(h,{className:"flex-1",children:(0,t.jsx)("div",{className:"p-4 prose prose-sm dark:prose-invert max-w-none",children:s.content})}),"visualization"===s.type&&(0,t.jsx)("div",{className:"flex-1 p-4",children:(0,t.jsx)("div",{className:"h-full flex items-center justify-center bg-secondary/30 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Visualization would render here"})})})]})}let sU=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"New Chat";return{id:"conv-".concat(crypto.randomUUID()),title:e,messages:[],createdAt:new Date,updatedAt:new Date,model:"gpt-5"}};function sV(){var e;let s=(0,r.useMemo)(()=>sU(),[]),[a,n]=(0,r.useState)([s]),[i,l]=(0,r.useState)(s.id),[o,d]=(0,r.useState)(!1),[c,m]=(0,r.useState)(null),x=null!==(e=a.find(e=>e.id===i))&&void 0!==e?e:a[0],u=()=>{let e=sU();return n(s=>[e,...s]),l(e.id),d(!1),m(null),e.id},h=(e,s)=>{console.log("[LLMHive] Adding message to conversation:",{conversationId:e,message:s}),n(a=>a.map(a=>{if(a.id===e){let e=[...a.messages,s];return console.log("[LLMHive] Updated conversation messages:",{convId:a.id,messageCount:e.length}),{...a,messages:e,updatedAt:new Date,title:"New Chat"===a.title&&"user"===s.role?s.content.slice(0,50):a.title}}return a})),s.artifact&&(m(s.artifact),d(!0))};return(0,t.jsxs)("div",{className:"flex h-full w-full bg-background relative",children:[(0,t.jsx)(e5,{conversations:a,currentConversationId:i,onNewChat:u,onSelectConversation:e=>{var s;l(e);let t=a.find(s=>s.id===e);if(!t){d(!1),m(null);return}let r=null===(s=[...t.messages].reverse().find(e=>e.artifact))||void 0===s?void 0:s.artifact;r?(m(r),d(!0)):(d(!1),m(null))},onDeleteConversation:e=>{n(s=>{let a=s.filter(s=>s.id!==e);if(0===a.length){let e=sU();return l(e.id),d(!1),m(null),[e]}return i===e&&(l(a[0].id),d(!1),m(null)),a})},onTogglePin:e=>{n(s=>s.map(s=>s.id===e?{...s,pinned:!s.pinned}:s))}}),(0,t.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,t.jsx)(s_,{conversation:x,onSendMessage:e=>{if(i)h(i,e);else{let s=u();n(a=>a.map(a=>a.id===s?{...a,messages:[...a.messages,e],updatedAt:new Date,title:"New Chat"===a.title&&"user"===e.role?e.content.slice(0,50):a.title}:a)),e.artifact&&(m(e.artifact),d(!0))}},onShowArtifact:e=>{m(e),d(!0)},onConversationUpdate:e=>{null!=e&&n(s=>s.map(s=>s.id===i?{...s,backendConversationId:e}:s))}}),o&&c&&(0,t.jsx)(sO,{artifact:c,onClose:()=>d(!1)})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[289,441,517,358],()=>s(5232)),_N_E=e.O()}]);